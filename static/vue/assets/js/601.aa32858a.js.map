{"version":3,"file":"assets/js/601.aa32858a.js","mappings":"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","sources":["webpack://roamio-web/./src/components/NavBar.vue","webpack://roamio-web/./src/components/NavBar.vue?01fd","webpack://roamio-web/./src/components/AdvancedSettingsModal.vue","webpack://roamio-web/./src/components/AdvancedSettingsModal.vue?f839","webpack://roamio-web/./src/views/user-center/UserCenterView.vue","webpack://roamio-web/./src/api/user.js","webpack://roamio-web/./src/views/user-center/UserProfileCard.vue","webpack://roamio-web/./src/views/user-center/UserProfileCard.vue?4517","webpack://roamio-web/./src/views/user-center/UserStats.vue","webpack://roamio-web/./src/views/user-center/UserStats.vue?55e6","webpack://roamio-web/./src/views/user-center/EmailBindingEditor.vue","webpack://roamio-web/./src/views/user-center/EmailBindingEditor.vue?6d66","webpack://roamio-web/./src/views/user-center/UserCenterView.vue?3656"],"sourcesContent":["<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary shadow-sm sticky-top\">\r\n    <div class=\"container-fluid\">\r\n      <!-- Logo -->\r\n      <router-link to=\"/\" class=\"navbar-brand\">\r\n        <span class=\"brand-text\">Roamio</span>\r\n      </router-link>\r\n      \r\n      <!-- Toggle按钮（移动端） -->\r\n      <button\r\n        class=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarNav\"\r\n      >\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      \r\n    <!-- 导航项 -->\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarNav\" style=\"overflow: visible;\">\r\n        <ul class=\"navbar-nav me-auto\">\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/\" class=\"nav-link\">\r\n              <i class=\"bi bi-house-door me-1\"></i>\r\n              旅行大厅\r\n            </router-link>\r\n          </li>\r\n          <li v-if=\"isLoggedIn\" class=\"nav-item\">\r\n            <router-link to=\"/my-trips/\" class=\"nav-link\">\r\n              <i class=\"bi bi-folder me-1\"></i>\r\n              我的旅行\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n        \r\n        <!-- 右侧用户信息 -->\r\n        <div class=\"d-flex align-items-center\">\r\n          <!-- 已登录 -->\r\n          <template v-if=\"isLoggedIn\">\r\n            <div class=\"dropdown dropdown-end\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"d-flex align-items-center text-white text-decoration-none dropdown-toggle user-dropdown-btn\"\r\n                id=\"dropdownUser\"\r\n                data-bs-toggle=\"dropdown\"\r\n                aria-expanded=\"false\"\r\n              >\r\n                <img\r\n                  :src=\"avatar\"\r\n                  alt=\"avatar\"\r\n                  width=\"32\"\r\n                  height=\"32\"\r\n                  class=\"rounded-circle me-2\"\r\n                />\r\n                <span>{{ username }}</span>\r\n              </a>\r\n              <ul class=\"dropdown-menu dropdown-menu-end text-small\" aria-labelledby=\"dropdownUser\">\r\n                <li>\r\n                  <router-link to=\"/user/center\" class=\"dropdown-item\">\r\n                    <i class=\"bi bi-person me-2\"></i>个人中心\r\n                  </router-link>\r\n                </li>\r\n                <li><hr class=\"dropdown-divider\" /></li>\r\n                <li>\r\n                  <a href=\"#\" class=\"dropdown-item\" @click.prevent=\"handleLogout\">\r\n                    <i class=\"bi bi-box-arrow-right me-2\"></i>退出登录\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </template>\r\n          \r\n          <!-- 未登录 -->\r\n          <template v-else>\r\n            <router-link to=\"/login\" class=\"btn btn-outline-light btn-sm me-2\">\r\n              登录\r\n            </router-link>\r\n            <router-link to=\"/register\" class=\"btn btn-light btn-sm\">\r\n              注册\r\n            </router-link>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useUserStore } from '@/stores'\r\n\r\nexport default {\r\n  name: 'NavBar',\r\n  \r\n  setup() {\r\n    const router = useRouter()\r\n    const userStore = useUserStore()\r\n    \r\n    const isLoggedIn = computed(() => userStore.isLoggedIn)\r\n    const username = computed(() => userStore.username)\r\n    const avatar = computed(() => userStore.avatar)\r\n    \r\n    const handleLogout = async () => {\r\n      if (!confirm('确定要退出登录吗？')) return\r\n      \r\n      try {\r\n        await userStore.logout()\r\n        router.push('/login')\r\n      } catch (error) {\r\n        console.error('退出失败:', error)\r\n      }\r\n    }\r\n    \r\n    return {\r\n      isLoggedIn,\r\n      username,\r\n      avatar,\r\n      handleLogout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.navbar {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;\r\n  border-bottom: none;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 1rem 0;\r\n}\r\n\r\n.navbar-brand {\r\n  font-size: 1.5rem;\r\n  font-weight: 800;\r\n  color: white !important;\r\n  text-decoration: none;\r\n  transition: all 0.3s ease;\r\n  letter-spacing: 2px;\r\n}\r\n\r\n.brand-text {\r\n  background: linear-gradient(45deg, #fff 0%, #f0f0f0 50%, #fff 100%);\r\n  background-size: 200% auto;\r\n  background-clip: text;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  font-weight: 900;\r\n  font-size: 1.6rem;\r\n  letter-spacing: 3px;\r\n  text-shadow: 0 3px 8px rgba(255, 255, 255, 0.3);\r\n  animation: shimmer 3s infinite;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0%, 100% {\r\n    background-position: 0% center;\r\n  }\r\n  50% {\r\n    background-position: 100% center;\r\n  }\r\n}\r\n\r\n.navbar-brand:hover .brand-text {\r\n  background-position: 100% center;\r\n  transform: scale(1.08);\r\n  filter: brightness(1.2);\r\n}\r\n\r\n.nav-link {\r\n  color: rgba(255, 255, 255, 0.95) !important;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  border-radius: 8px;\r\n  padding: 0.5rem 1rem !important;\r\n}\r\n\r\n.nav-link:hover {\r\n  color: white !important;\r\n  background: rgba(255, 255, 255, 0.15);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.dropdown-menu {\r\n  min-width: 200px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n  border: none;\r\n  margin-top: 0.5rem;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.dropdown-item {\r\n  padding: 0.75rem 1.25rem;\r\n  transition: all 0.2s ease;\r\n  border-radius: 8px;\r\n  margin: 0.2rem;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  transform: translateX(3px);\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  z-index: 1050;\r\n}\r\n\r\n.user-dropdown-btn {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 25px;\r\n  padding: 0.5rem 1rem;\r\n  transition: all 0.3s ease;\r\n  white-space: nowrap;\r\n  max-width: 100%;\r\n  cursor: pointer;\r\n}\r\n\r\n.user-dropdown-btn:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  transform: scale(1.05);\r\n}\r\n\r\n.user-dropdown-btn[aria-expanded=\"true\"] {\r\n  background: rgba(255, 255, 255, 0.35);\r\n}\r\n\r\n.btn-outline-light {\r\n  border: 2px solid rgba(255, 255, 255, 0.8);\r\n  color: white;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn-outline-light:hover {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-color: white;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.btn-light {\r\n  background: white;\r\n  color: #667eea;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn-light:hover {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  color: #764ba2;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n/* 移动端优化 */\r\n@media (max-width: 991px) {\r\n  .navbar {\r\n    padding: 0.75rem 0;\r\n  }\r\n  \r\n  .navbar-brand {\r\n    font-size: 1.3rem;\r\n  }\r\n  \r\n  .brand-text {\r\n    font-size: 1.35rem;\r\n    letter-spacing: 2px;\r\n  }\r\n  \r\n  .navbar-nav .nav-link {\r\n    padding: 0.75rem 1rem;\r\n  }\r\n  \r\n  .dropdown-menu {\r\n    min-width: 180px;\r\n    max-width: calc(100vw - 30px);\r\n    position: absolute !important;\r\n    right: 0;\r\n    left: auto;\r\n    margin-top: 0.5rem;\r\n  }\r\n  \r\n  .user-dropdown-btn {\r\n    font-size: 0.9rem;\r\n    z-index: 1051;\r\n  }\r\n  \r\n  /* 确保下拉菜单不会被导航栏遮挡 */\r\n  .dropdown.show {\r\n    overflow: visible;\r\n  }\r\n  \r\n  /* 移动端确保下拉菜单在最上层 */\r\n  .dropdown {\r\n    z-index: 1050;\r\n  }\r\n  \r\n  .navbar-collapse {\r\n    z-index: 1049;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./NavBar.vue?vue&type=template&id=a6dd4bee&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=a6dd4bee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a6dd4bee\"]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"show\" class=\"modal-overlay\" @click=\"close\">\r\n    <div class=\"modal-content-advanced\" @click.stop>\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">{{ title }}</h5>\r\n        <button type=\"button\" class=\"btn-close\" @click=\"close\">✕</button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"alert alert-warning\">\r\n          <h6 class=\"alert-heading\">⚠️ 危险操作</h6>\r\n          <p class=\"mb-0\">{{ warningText }}</p>\r\n          <ul class=\"mb-0 mt-2\">\r\n            <li v-for=\"item in warningItems\" :key=\"item\">{{ item }}</li>\r\n          </ul>\r\n          <p class=\"mb-0 mt-2\"><strong>此操作无法撤销！</strong></p>\r\n        </div>\r\n        <button\r\n          class=\"btn btn-danger w-100\"\r\n          @click=\"$emit('confirm')\"\r\n        >\r\n          {{ actionButtonText }}\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" @click=\"close\">取消</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AdvancedSettingsModal',\r\n  \r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '⚙️ 高级设置'\r\n    },\r\n    warningText: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    warningItems: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    actionButtonText: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  \r\n  emits: ['close', 'confirm'],\r\n  \r\n  setup(props, { emit }) {\r\n    const close = () => {\r\n      emit('close')\r\n    }\r\n    \r\n    return {\r\n      close\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content-advanced {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 0;\r\n  max-width: 500px;\r\n  width: 90%;\r\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.modal-header {\r\n  padding: 1.5rem;\r\n  border-bottom: 1px solid #dee2e6;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.modal-title {\r\n  margin: 0;\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.modal-body {\r\n  padding: 1.5rem;\r\n}\r\n\r\n.modal-footer {\r\n  padding: 1rem 1.5rem;\r\n  border-top: 1px solid #dee2e6;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.btn-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\r\n  color: #6c757d;\r\n  padding: 0;\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.btn-close:hover {\r\n  color: #000;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./AdvancedSettingsModal.vue?vue&type=template&id=5977f88e&scoped=true\"\nimport script from \"./AdvancedSettingsModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdvancedSettingsModal.vue?vue&type=script&lang=js\"\n\nimport \"./AdvancedSettingsModal.vue?vue&type=style&index=0&id=5977f88e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5977f88e\"]])\n\nexport default __exports__","<template>\n  <div class=\"user-center-wrapper\">\n  <NavBar />\n  <div class=\"user-center-container\">\n    <!-- 返回按钮 -->\n    <button class=\"back-btn\" @click=\"goBack\" title=\"返回首页\">\n      🏠\n    </button>\n    \n    <div class=\"container py-5\">\n      <!-- 页面标题 -->\n      <h2 class=\"mb-1\">个人中心</h2>\n      <p class=\"mb-4 slogan-text\" :class=\"getLevelTextClass(profileData.level)\">Hello Roamioer!</p>\n      \n      <!-- Loading状态 -->\n      <div v-if=\"loading\" class=\"text-center py-5\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">加载中...</span>\n        </div>\n      </div>\n      \n      <!-- 用户信息 -->\n      <div v-else class=\"row\">\n        <!-- 左侧：用户信息卡片 -->\n        <div class=\"col-md-4 mb-4\">\n          <!-- 用户信息卡片 -->\n          <UserProfileCard\n            :username=\"username\"\n            :email=\"email\"\n            :avatar=\"userAvatar\"\n            :is-admin=\"isAdmin\"\n            :level=\"profileData.level\"\n            :date-joined=\"userInfo?.date_joined\"\n            :get-level-text=\"getLevelText\"\n            :get-level-class=\"getLevelClass\"\n            :format-date=\"formatDate\"\n            @avatar-change=\"handleAvatarChange\"\n          />\n          \n          <!-- 我的统计 -->\n          <UserStats :stats=\"stats\" @refresh=\"loadStats\" />\n          \n          <!-- 编辑个人中心按钮 -->\n          <button\n            v-if=\"!isEditingBasic && !isEditingProfile\"\n            class=\"btn btn-primary w-100 mt-3\"\n            @click=\"startEditing\"\n          >\n            ✏️ 编辑个人中心\n          </button>\n          \n          <!-- 保存/取消按钮 -->\n          <template v-else>\n            <button\n              class=\"btn btn-success w-100 mt-3\"\n              @click=\"saveAllChanges\"\n              :disabled=\"savingAll\"\n            >\n              <span v-if=\"savingAll\" class=\"spinner-border spinner-border-sm me-2\"></span>\n              {{ savingAll ? '保存中...' : '💾 保存所有更改' }}\n            </button>\n            <button\n              class=\"btn btn-outline-secondary w-100 mt-2\"\n              @click=\"cancelAllEdit\"\n              :disabled=\"savingAll\"\n            >\n              取消编辑\n            </button>\n          </template>\n          \n          <!-- 高级设置按钮 -->\n          <button\n            v-if=\"!isEditingBasic && !isEditingProfile\"\n            class=\"btn btn-outline-secondary w-100 mt-3\"\n            @click=\"showAdvancedSettings = true\"\n          >\n            ⚙️ 高级设置\n          </button>\n          \n          <!-- 高级设置模态框 -->\n          <AdvancedSettingsModal\n            :show=\"showAdvancedSettings\"\n            title=\"⚙️ 高级设置\"\n            warning-text=\"删除账号将会永久删除您的所有数据，包括：\"\n            :warning-items=\"[\n              '所有旅行计划',\n              '所有评论和回复',\n              '所有统计数据',\n              '个人资料和头像'\n            ]\"\n            action-button-text=\"🗑️ 删除账号\"\n            @close=\"showAdvancedSettings = false\"\n            @confirm=\"confirmAndDeleteAccount\"\n          />\n        </div>\n        \n        <!-- 右侧：信息编辑 -->\n        <div class=\"col-md-8\">\n          <!-- 邮箱绑定（编辑模式下，如果邮箱未绑定或未验证） -->\n          <EmailBindingEditor\n            v-if=\"(isEditingBasic || isEditingProfile) && (!email || !isEmailVerified)\"\n            :current-email=\"email || ''\"\n            :email-verified=\"isEmailVerified\"\n            :user-id=\"userInfo?.id\"\n            @email-bound=\"handleEmailBound\"\n            @update=\"handleRefreshUserInfo\"\n            class=\"mb-4\"\n          />\n          \n          <!-- 基本信息 -->\n          <div class=\"card shadow-sm mb-4\">\n            <div class=\"card-header bg-white d-flex justify-content-between align-items-center\">\n              <h5 class=\"mb-0\">基本信息</h5>\n              <button\n                v-if=\"!isEditingBasic\"\n                class=\"btn btn-sm btn-outline-primary\"\n                @click=\"isEditingBasic = true\"\n              >\n                ✏️ 编辑\n              </button>\n            </div>\n            <div class=\"card-body\">\n              <!-- 只读显示 -->\n              <template v-if=\"!isEditingBasic\">\n                <div class=\"info-display\">\n                  <div class=\"info-card mb-3\">\n                    <div class=\"info-item\">\n                      <label class=\"info-label\">用户名</label>\n                      <p class=\"info-content\">{{ editForm.username }}</p>\n                    </div>\n                  </div>\n                  <div class=\"info-card\">\n                    <div class=\"info-item\">\n                      <label class=\"info-label\">邮箱</label>\n                      <p class=\"info-content\">{{ editForm.email || '未设置' }}</p>\n                    </div>\n                  </div>\n                </div>\n              </template>\n              \n              <!-- 编辑表单 -->\n              <form v-else @submit.prevent=\"handleUpdateInfo\">\n                <!-- 用户名 -->\n                <div class=\"mb-3\">\n                  <label class=\"form-label\">用户名</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    v-model=\"editForm.username\"\n                    :disabled=\"updating\"\n                  />\n                </div>\n                \n                <!-- 邮箱 -->\n                <div class=\"mb-3\">\n                  <label class=\"form-label\">邮箱</label>\n                  <input\n                    type=\"email\"\n                    class=\"form-control\"\n                    v-model=\"editForm.email\"\n                    :disabled=\"updating\"\n                  />\n                </div>\n                \n                <!-- 操作按钮 -->\n                <div class=\"d-flex gap-2\">\n                  <button\n                    type=\"submit\"\n                    class=\"btn btn-primary\"\n                    :disabled=\"updating\"\n                  >\n                    <span v-if=\"updating\" class=\"spinner-border spinner-border-sm me-2\"></span>\n                    {{ updating ? '保存中...' : '💾 保存' }}\n                  </button>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary\"\n                    @click=\"cancelBasicEdit\"\n                    :disabled=\"updating\"\n                  >\n                    取消\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n          \n          <!-- 旅行者资料 -->\n          <div class=\"card shadow-sm mb-4\">\n            <div class=\"card-header bg-white d-flex justify-content-between align-items-center\">\n              <h5 class=\"mb-0\">✨ 旅行者资料</h5>\n              <button\n                v-if=\"!isEditingProfile\"\n                class=\"btn btn-sm btn-outline-primary\"\n                @click=\"isEditingProfile = true\"\n              >\n                ✏️ 编辑\n              </button>\n            </div>\n            <div class=\"card-body\">\n              <!-- 用户等级 -->\n              <div class=\"mb-3\">\n                <label class=\"form-label\">🎖️ 当前等级</label>\n                <div>\n                  <span :class=\"'badge level-badge ' + getLevelClass(profileData.level)\">\n                    {{ getLevelText(profileData.level) }}\n                  </span>\n                </div>\n                <small class=\"text-muted\">根据旅行和评论数量自动计算</small>\n              </div>\n              \n              <!-- 只读显示 -->\n              <template v-if=\"!isEditingProfile\">\n                <div class=\"info-display\">\n                  <div class=\"info-card mb-3\">\n                    <label class=\"info-label\">📝 个人简介</label>\n                    <p class=\"info-content\">{{ profileData.bio || '还没有写个人简介' }}</p>\n                  </div>\n                  <div class=\"info-card mb-3\">\n                    <label class=\"info-label\">🏷️ 个人标签</label>\n                    <div v-if=\"profileData.tags\">\n                      <span \n                        v-for=\"(tag, index) in profileData.tags.split(',')\" \n                        :key=\"index\"\n                        class=\"badge bg-light text-dark me-1\"\n                      >\n                        {{ tag.trim() }}\n                      </span>\n                    </div>\n                    <p v-else class=\"info-content text-muted\">还没有添加标签</p>\n                  </div>\n                  <div class=\"info-card\">\n                    <label class=\"info-label\">🌍 访问过的国家</label>\n                    <p class=\"info-content\">{{ profileData.visited_countries || '还没有记录' }}</p>\n                  </div>\n                </div>\n              </template>\n              \n              <!-- 编辑表单 -->\n              <form v-else @submit.prevent=\"handleUpdateProfile\">\n                <!-- 个人简介 -->\n                <div class=\"mb-3\">\n                  <label class=\"form-label\">📝 个人简介</label>\n                  <textarea\n                    class=\"form-control\"\n                    v-model=\"profileData.bio\"\n                    rows=\"4\"\n                    maxlength=\"500\"\n                    placeholder=\"介绍一下自己吧...\"\n                  ></textarea>\n                  <small class=\"text-muted\">{{ profileData.bio?.length || 0 }}/500</small>\n                </div>\n                \n                <!-- 用户标签 -->\n                <div class=\"mb-3\">\n                  <label class=\"form-label\">🏷️ 个人标签</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    v-model=\"profileData.tags\"\n                    placeholder=\"例如：摄影爱好者,美食达人,户外运动\"\n                    maxlength=\"200\"\n                  />\n                  <small class=\"text-muted\">逗号分隔，最多10个标签，每个不超过20字</small>\n                </div>\n                \n                <!-- 访问过的国家 -->\n                <div class=\"mb-3\">\n                  <label class=\"form-label\">🌍 访问过的国家</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    v-model=\"profileData.visited_countries\"\n                    placeholder=\"例如：中国,日本,泰国\"\n                    maxlength=\"200\"\n                  />\n                  <small class=\"text-muted\">逗号分隔的国家列表</small>\n                </div>\n                \n                <div class=\"d-flex gap-2\">\n                  <button\n                    type=\"submit\"\n                    class=\"btn btn-primary\"\n                    :disabled=\"updatingProfile\"\n                  >\n                    <span v-if=\"updatingProfile\" class=\"spinner-border spinner-border-sm me-2\"></span>\n                    {{ updatingProfile ? '保存中...' : '💾 保存' }}\n                  </button>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary\"\n                    @click=\"cancelProfileEdit\"\n                    :disabled=\"updatingProfile\"\n                  >\n                    取消\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useUserStore } from '@/stores'\nimport { getUserStats, updateProfile, updateUser, uploadAvatar, deleteUser } from '@/api/user'\nimport NavBar from '@/components/NavBar.vue'\nimport UserProfileCard from './UserProfileCard.vue'\nimport UserStats from './UserStats.vue'\nimport AdvancedSettingsModal from '@/components/AdvancedSettingsModal.vue'\nimport EmailBindingEditor from './EmailBindingEditor.vue'\n\nexport default {\n  name: 'UserCenterView',\n  \n  components: {\n    NavBar,\n    UserProfileCard,\n    UserStats,\n    AdvancedSettingsModal,\n    EmailBindingEditor\n  },\n  \n  setup() {\n    const router = useRouter()\n    const userStore = useUserStore()\n    \n    const loading = ref(false)\n    const updating = ref(false)\n    const updatingProfile = ref(false)\n    const savingAll = ref(false)\n    const isEditingBasic = ref(false)\n    const isEditingProfile = ref(false)\n    const showAdvancedSettings = ref(false)\n    const stats = ref({\n      comments_count: 0,\n      trips_count: 0,\n      public_trips_count: 0\n    })\n    \n    const editForm = ref({\n      username: '',\n      email: ''\n    })\n    \n    const originalForm = ref({\n      username: '',\n      email: ''\n    })\n    \n    const profileData = ref({\n      bio: '',\n      tags: '',\n      visited_countries: '',\n      level: 'novice'\n    })\n    \n    const originalProfile = ref({\n      bio: '',\n      tags: '',\n      visited_countries: '',\n      level: 'novice'\n    })\n    \n    // 从store获取用户信息\n    const userInfo = computed(() => userStore.userInfo)\n    const username = computed(() => userStore.username)\n    const email = computed(() => userInfo.value?.email)\n    const isAdmin = computed(() => userStore.isAdmin)\n    const userAvatar = computed(() => userStore.avatar)\n    const isEmailVerified = computed(() => userInfo.value?.profile?.email_verified || false)\n    \n    // 格式化日期\n    const formatDate = (dateStr) => {\n      if (!dateStr) return '未知'\n      const date = new Date(dateStr)\n      return date.toLocaleDateString('zh-CN')\n    }\n    \n    // 加载用户统计\n    const loadStats = async () => {\n      if (!userInfo.value?.id) return\n      \n      try {\n        const data = await getUserStats(userInfo.value.id)\n        stats.value = data\n        // 额外从我的旅行计算一次，作为后端统计的即时补充\n        try {\n          const myTrips = await (await import('@/api/tripPlan')).getMyTrips()\n          const list = myTrips.results || myTrips || []\n          const total = Array.isArray(list) ? list.length : 0\n          const publics = Array.isArray(list) ? list.filter(t => t.visibility === 'public').length : 0\n          stats.value.trips_count = total\n          stats.value.public_trips_count = publics\n        } catch (e) {\n          // 忽略补充统计错误\n        }\n      } catch (error) {\n        console.error('加载统计失败:', error)\n      }\n    }\n    \n    // 初始化编辑表单\n    const initEditForm = () => {\n      const username = userInfo.value?.username || ''\n      const email = userInfo.value?.email || ''\n      \n      editForm.value = { username, email }\n      originalForm.value = { username, email }\n      \n      const bio = userInfo.value?.profile?.bio || ''\n      const tags = userInfo.value?.profile?.tags || ''\n      const visited_countries = userInfo.value?.profile?.visited_countries || ''\n      const level = userInfo.value?.profile?.level || 'novice'\n      \n      profileData.value = { bio, tags, visited_countries, level }\n      originalProfile.value = { bio, tags, visited_countries, level }\n    }\n    \n    // 取消编辑基本信息\n    const cancelBasicEdit = () => {\n      editForm.value = { ...originalForm.value }\n      isEditingBasic.value = false\n    }\n    \n    // 取消编辑旅行者资料\n    const cancelProfileEdit = () => {\n      profileData.value = { ...originalProfile.value }\n      isEditingProfile.value = false\n    }\n    \n    // 开始编辑\n    const startEditing = () => {\n      isEditingBasic.value = true\n      isEditingProfile.value = true\n    }\n    \n    // 取消所有编辑\n    const cancelAllEdit = () => {\n      cancelBasicEdit()\n      cancelProfileEdit()\n    }\n    \n    // 保存所有更改\n    const saveAllChanges = async () => {\n      savingAll.value = true\n      \n      try {\n        // 保存基本信息\n        if (editForm.value.username !== originalForm.value.username || \n            editForm.value.email !== originalForm.value.email) {\n          await updateUser(userInfo.value.id, editForm.value)\n        }\n        \n        // 保存旅行者资料\n        if (profileData.value.bio !== originalProfile.value.bio ||\n            profileData.value.tags !== originalProfile.value.tags ||\n            profileData.value.visited_countries !== originalProfile.value.visited_countries) {\n          await updateProfile({\n            bio: profileData.value.bio,\n            tags: profileData.value.tags,\n            visited_countries: profileData.value.visited_countries\n          })\n        }\n        \n        // 重新获取用户信息\n        await userStore.fetchUserInfo()\n        initEditForm()\n        \n        alert('所有更改已保存！')\n      } catch (error) {\n        console.error('保存失败:', error)\n        alert('保存失败，请稍后重试')\n      } finally {\n        savingAll.value = false\n      }\n    }\n    \n    // 等级文本\n    const getLevelText = (level) => {\n      const levels = {\n        'novice': '新手',\n        'explorer': '探索者',\n        'wanderer': '漫游者',\n        'adventurer': '冒险家',\n        'master': '旅行大师'\n      }\n      return levels[level] || '新手'\n    }\n    \n    // 等级样式类\n    const getLevelClass = (level) => {\n      const classes = {\n        'novice': 'level-novice',\n        'explorer': 'level-explorer',\n        'wanderer': 'level-wanderer',\n        'adventurer': 'level-adventurer',\n        'master': 'level-master'\n      }\n      return classes[level] || 'level-novice'\n    }\n    const getLevelTextClass = (level) => {\n      const classes = {\n        'novice': 'level-novice-text',\n        'explorer': 'level-explorer-text',\n        'wanderer': 'level-wanderer-text',\n        'adventurer': 'level-adventurer-text',\n        'master': 'level-master-text'\n      }\n      return classes[level] || 'level-novice-text'\n    }\n    \n    // 更新个人资料\n    const handleUpdateProfile = async () => {\n      updatingProfile.value = true\n      \n      try {\n        await updateProfile({\n          bio: profileData.value.bio,\n          tags: profileData.value.tags,\n          visited_countries: profileData.value.visited_countries\n        })\n        \n        // 重新获取用户信息\n        await userStore.fetchUserInfo()\n        initEditForm()\n        \n        alert('资料更新成功！')\n      } catch (error) {\n        console.error('更新失败:', error)\n        alert('更新失败，请稍后重试')\n      } finally {\n        updatingProfile.value = false\n      }\n    }\n    \n    // 更新用户信息\n    const handleUpdateInfo = async () => {\n      updating.value = true\n      \n      try {\n        await updateUser(userInfo.value.id, editForm.value)\n        \n        // 重新获取用户信息\n        await userStore.fetchUserInfo()\n        initEditForm()\n        \n        isEditingBasic.value = false\n        alert('更新成功！')\n      } catch (error) {\n        console.error('更新失败:', error)\n        alert('更新失败，请稍后重试')\n      } finally {\n        updating.value = false\n      }\n    }\n    \n    \n    // 上传头像\n    const handleAvatarChange = async (file) => {\n      if (!file) return\n      \n      // 检查文件类型\n      if (!file.type.startsWith('image/')) {\n        alert('请选择图片文件')\n        return\n      }\n      \n      // 检查文件大小（5MB）\n      if (file.size > 5 * 1024 * 1024) {\n        alert('图片大小不能超过5MB')\n        return\n      }\n      \n      try {\n        await uploadAvatar(userInfo.value.id, file)\n        \n        // 重新获取用户信息\n        await userStore.fetchUserInfo()\n        \n        alert('头像上传成功！')\n      } catch (error) {\n        console.error('头像上传失败:', error)\n        alert('头像上传失败，请稍后重试')\n      }\n    }\n    \n    // 返回按钮\n    const goBack = () => {\n      router.push('/')\n    }\n    \n    // 处理邮箱绑定成功\n    const handleEmailBound = async () => {\n      // 刷新用户信息\n      await handleRefreshUserInfo()\n    }\n    \n    // 刷新用户信息\n    const handleRefreshUserInfo = async () => {\n      try {\n        await userStore.fetchUserInfo()\n        initEditForm()\n      } catch (error) {\n        console.error('刷新用户信息失败:', error)\n      }\n    }\n    \n    // 确认并删除账号（用于高级设置模态框）\n    const confirmAndDeleteAccount = () => {\n      if (!confirm('⚠️ 请再次确认：您确定要删除账号吗？\\n\\n此操作无法撤销！')) {\n        return\n      }\n      // 关闭高级设置模态框\n      showAdvancedSettings.value = false\n      // 执行删除\n      handleDeleteAccount()\n    }\n    \n    // 删除账号\n    const handleDeleteAccount = async () => {\n      try {\n        await deleteUser(userInfo.value.id)\n        \n        // 退出登录\n        await userStore.logout()\n        \n        alert('账号已删除，感谢您的使用！')\n        \n        // 跳转到登录页\n        router.push('/login')\n      } catch (error) {\n        console.error('删除账号失败:', error)\n        alert('删除账号失败，请稍后重试')\n      }\n    }\n    \n    // 退出登录\n    const handleLogout = async () => {\n      if (!confirm('确定要退出登录吗？')) return\n      \n      try {\n        await userStore.logout()\n        router.push('/login')\n      } catch (error) {\n        console.error('退出失败:', error)\n      }\n    }\n    \n    onMounted(async () => {\n      // 检查登录状态\n      if (!userStore.isLoggedIn) {\n        router.push('/login')\n        return\n      }\n      \n      loading.value = true\n      \n      try {\n        // 确保从服务器获取最新的用户信息\n        await userStore.fetchUserInfo()\n        await loadStats()\n        initEditForm()\n      } catch (error) {\n        console.error('加载失败:', error)\n        // 如果获取用户信息失败，可能是token过期\n        if (error.response?.status === 401) {\n          alert('登录已过期，请重新登录')\n          await userStore.logout()\n          router.push('/login')\n        }\n      } finally {\n        loading.value = false\n      }\n    })\n    \n    return {\n      loading,\n      updating,\n      updatingProfile,\n      savingAll,\n      isEditingBasic,\n      isEditingProfile,\n      showAdvancedSettings,\n      stats,\n      editForm,\n      profileData,\n      userInfo,\n      username,\n      email,\n      isEmailVerified,\n      isAdmin,\n      userAvatar,\n      loadStats,\n      formatDate,\n      getLevelTextClass,\n      goBack,\n      handleUpdateInfo,\n      handleUpdateProfile,\n      cancelBasicEdit,\n      cancelProfileEdit,\n      startEditing,\n      cancelAllEdit,\n      saveAllChanges,\n      getLevelText,\n      getLevelClass,\n      handleAvatarChange,\n      handleLogout,\n      handleDeleteAccount,\n      confirmAndDeleteAccount,\n      handleEmailBound,\n      handleRefreshUserInfo\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-center-wrapper {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #e8f4fd 0%, #d1ecf1 100%);\n}\n\n.user-center-container {\n  padding: 2rem 0;\n}\n\n/* 返回按钮 */\n.back-btn {\n  position: fixed;\n  top: 100px;\n  left: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  font-size: 1.8rem;\n  cursor: pointer;\n  z-index: 1000;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  opacity: 0.7;\n}\n\n.back-btn:hover {\n  background: linear-gradient(135deg, #5568d3 0%, #6a3f91 100%);\n  transform: scale(1.1);\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);\n  opacity: 1;\n}\n\nh2 {\n  color: #2c3e50;\n  font-weight: 700;\n}\n\n.card {\n  border: none;\n  border-radius: 16px;\n  box-shadow: 0 8px 30px rgba(0,0,0,0.12);\n  overflow: hidden;\n  transition: all 0.3s ease;\n}\n\n.card:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 12px 40px rgba(0,0,0,0.16);\n}\n\n.card-header {\n  border: none;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  padding: 1.25rem 1.5rem;\n  font-weight: 600;\n}\n\n.card-body {\n  padding: 2rem;\n}\n\n.avatar-container {\n  position: relative;\n  display: inline-block;\n}\n\n.avatar-container img {\n  border: 4px solid #fff;\n  box-shadow: 0 8px 25px rgba(0,0,0,0.15);\n  transition: all 0.3s ease;\n}\n\n.avatar-container:hover img {\n  transform: scale(1.05);\n  box-shadow: 0 12px 35px rgba(0,0,0,0.2);\n}\n\n.avatar-upload-btn {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: 3px solid #fff;\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);\n  transition: all 0.3s ease;\n}\n\n.avatar-upload-btn:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);\n}\n\n.username-display {\n  color: #2c3e50;\n  font-weight: 700;\n  font-size: 1.5rem;\n  margin-top: 1rem;\n}\n\n.email-display {\n  color: #6c757d;\n  font-size: 1rem;\n}\n\n.badge {\n  padding: 0.5rem 1rem;\n  border-radius: 20px;\n  font-weight: 600;\n  font-size: 0.9rem;\n}\n\n.badge.bg-danger {\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%) !important;\n}\n\n.badge.bg-primary {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;\n}\n\n.stat-box {\n  padding: 1.5rem;\n  border-radius: 12px;\n  background: #f8f9fa;\n  transition: all 0.3s ease;\n}\n\n.stat-box:hover {\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  transform: translateY(-3px);\n  box-shadow: 0 6px 20px rgba(0,0,0,0.1);\n}\n\n.stat-box h3 {\n  margin-bottom: 0.5rem;\n  font-weight: 700;\n  font-size: 2.5rem;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.stat-box p {\n  font-weight: 500;\n  color: #6c757d;\n  margin: 0;\n}\n\n.form-label {\n  font-weight: 600;\n  color: #2c3e50;\n  margin-bottom: 0.5rem;\n}\n\n.form-control {\n  border-radius: 12px;\n  border: 2px solid #e9ecef;\n  padding: 0.75rem 1rem;\n  transition: all 0.3s ease;\n}\n\n.form-control:focus {\n  border-color: #667eea;\n  box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);\n}\n\n.btn-primary {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: none;\n  font-weight: 600;\n  padding: 0.75rem 2rem;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);\n}\n\n.btn-primary:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);\n}\n\n.btn-primary:disabled {\n  opacity: 0.7;\n}\n\n.btn-outline-danger {\n  border: 2px solid #f5576c;\n  color: #f5576c;\n  font-weight: 600;\n  padding: 0.75rem 1.5rem;\n  transition: all 0.3s ease;\n}\n\n.btn-outline-danger:hover {\n  background: #f5576c;\n  color: white;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 15px rgba(245, 87, 108, 0.4);\n}\n\n/* 信息卡片样式 */\n.info-card {\n  background: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 12px;\n  padding: 1rem 1.25rem;\n  transition: all 0.3s ease;\n}\n\n.info-card:hover {\n  background: #ffffff;\n  border-color: #dee2e6;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.05);\n}\n\n.info-label {\n  font-size: 0.85rem;\n  color: #6c757d;\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.info-content {\n  color: #2c3e50;\n  font-size: 1rem;\n  line-height: 1.8;\n  margin: 0;\n  white-space: pre-wrap;\n}\n\n.badge.bg-light {\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;\n  border: 1px solid #dee2e6;\n  padding: 0.4rem 0.8rem;\n  border-radius: 15px;\n}\n\n.d-flex.gap-2 {\n  gap: 0.5rem;\n}\n\n/* 小统计盒子样式 */\n.stat-box-small {\n  padding: 1rem;\n  background: #f8f9fa;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.stat-box-small:hover {\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.08);\n}\n\n.stat-box-small h4 {\n  margin: 0;\n  font-weight: 700;\n}\n\n/* 等级徽章样式 */\n.level-badge {\n  font-size: 1rem;\n  padding: 0.5rem 1.5rem;\n  border-radius: 25px;\n  font-weight: 700;\n}\n\n.level-badge-small {\n  font-size: 0.85rem;\n  padding: 0.4rem 1rem;\n  border-radius: 20px;\n  font-weight: 600;\n  display: inline-block;\n}\n\n.level-novice {\n  background: linear-gradient(135deg, #e0e0e0 0%, #bdbdbd 100%);\n  color: #666;\n}\n\n.level-explorer {\n\n  background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%) !important;\n  color: #ffffff !important;\n  border: 1px solid #0d47a1 !important;\n}\n\n.level-wanderer {\n  background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%) !important;\n  color: #388e3c !important;\n}\n\n.level-adventurer {\n  background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%) !important;\n  color: #f57f17 !important;\n}\n\n.level-master {\n  background: linear-gradient(135deg, #ffeb3b 0%, #ffc107 100%) !important;\n  color: #f57f17 !important;\n}\n\n/* Slogan text colors by level */\n.slogan-text { letter-spacing: 0.3px; font-weight: 600; }\n.level-novice-text { color: #666; }\n.level-explorer-text { color: #1565c0; }\n.level-wanderer-text { color: #388e3c; }\n.level-adventurer-text { color: #f57f17; }\n.level-master-text { color: #f57f17; }\n\n\n@media (max-width: 768px) {\n  .user-center-container {\n    padding: 1rem 0;\n  }\n  \n  h2 {\n    font-size: 1.5rem;\n    margin-bottom: 1.5rem;\n  }\n  \n  .card-body {\n    padding: 1.5rem;\n  }\n  \n  .stat-box h3 {\n    font-size: 2rem;\n  }\n  \n  .back-btn {\n    top: 80px;\n    left: 15px;\n    width: 45px;\n    height: 45px;\n    font-size: 1.5rem;\n  }\n}\n</style>\n\n","/**\n * 用户相关API\n */\nimport request from './request'\n\n/**\n * 获取用户信息\n * @param {number} userId - 用户ID\n */\nexport const getUser = (userId) => {\n    return request.get(`/users/${userId}/`)\n}\n\n/**\n * 更新用户信息\n * @param {number} userId - 用户ID\n * @param {Object} data - 用户数据\n */\nexport const updateUser = (userId, data) => {\n    return request.patch(`/users/${userId}/`, data)\n}\n\n/**\n * 上传头像\n * @param {number} userId - 用户ID\n * @param {File} avatar - 头像文件\n */\nexport const uploadAvatar = (userId, avatar) => {\n    const formData = new FormData()\n    formData.append('avatar', avatar)\n    return request.post(`/users/${userId}/upload_avatar/`, formData)\n}\n\n/**\n * 更新个人资料（bio, tags, visited_countries）\n * @param {Object} data - { bio, tags, visited_countries }\n */\nexport const updateProfile = (data) => {\n    return request.patch('/users/update_profile/', data)\n}\n\n/**\n * 获取用户统计信息\n * @param {number} userId - 用户ID\n */\nexport const getUserStats = (userId) => {\n    return request.get(`/users/${userId}/stats/`)\n}\n\n/**\n * 删除用户账号\n * @param {number} userId - 用户ID\n */\nexport const deleteUser = (userId) => {\n    return request.delete(`/users/${userId}/`)\n}\n\n/**\n * 绑定邮箱（需要验证码验证）\n * @param {Object} data - {email, verification_token}\n */\nexport const bindEmail = (data) => {\n    return request.post('/users/bind_email/', data)\n}\n","<template>\r\n  <div class=\"card shadow-sm\">\r\n    <div class=\"card-body text-center p-4\">\r\n      <!-- 头像 -->\r\n      <div class=\"avatar-container mb-3\">\r\n        <img\r\n          :src=\"avatar\"\r\n          alt=\"头像\"\r\n          class=\"rounded-circle\"\r\n          width=\"120\"\r\n          height=\"120\"\r\n        />\r\n        <button\r\n          class=\"btn btn-sm btn-light avatar-upload-btn\"\r\n          @click=\"triggerFileInput\"\r\n        >\r\n          📷\r\n        </button>\r\n        <input\r\n          ref=\"avatarInput\"\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          style=\"display: none\"\r\n          @change=\"handleAvatarChange\"\r\n        />\r\n      </div>\r\n      \r\n      <!-- 用户名 -->\r\n      <h4 class=\"username-display mb-1\">{{ username }}</h4>\r\n      <p class=\"email-display mb-3\">{{ email || '未设置邮箱' }}</p>\r\n      \r\n      <!-- 标签和等级 -->\r\n      <div class=\"mb-3 d-flex gap-2 justify-content-center align-items-center flex-wrap\">\r\n        <span v-if=\"isAdmin\" class=\"badge bg-danger\">管理员</span>\r\n        <span v-else class=\"badge bg-primary\">普通用户</span>\r\n        <span v-if=\"level\" :class=\"'badge level-badge-small ' + getLevelClass(level)\">\r\n          {{ getLevelText(level) }}\r\n        </span>\r\n        <span v-else class=\"badge level-badge-small level-novice\">\r\n          未知等级\r\n        </span>\r\n      </div>\r\n      \r\n      <!-- 注册时间 -->\r\n      <small class=\"text-muted\">\r\n        注册时间：{{ formatDate(dateJoined) }}\r\n      </small>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\n\r\nexport default {\r\n  name: 'UserProfileCard',\r\n  \r\n  props: {\r\n    username: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    email: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    avatar: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    isAdmin: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    level: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    dateJoined: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    getLevelText: {\r\n      type: Function,\r\n      required: true\r\n    },\r\n    getLevelClass: {\r\n      type: Function,\r\n      required: true\r\n    },\r\n    formatDate: {\r\n      type: Function,\r\n      required: true\r\n    }\r\n  },\r\n  \r\n  emits: ['avatar-change'],\r\n  \r\n  setup(props, { emit }) {\r\n    const avatarInput = ref(null)\r\n    \r\n    const triggerFileInput = () => {\r\n      avatarInput.value.click()\r\n    }\r\n    \r\n    const handleAvatarChange = (event) => {\r\n      const file = event.target.files[0]\r\n      if (file) {\r\n        emit('avatar-change', file)\r\n      }\r\n    }\r\n    \r\n    return {\r\n      avatarInput,\r\n      triggerFileInput,\r\n      handleAvatarChange\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.avatar-container {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.avatar-upload-btn {\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 0;\r\n  border-radius: 50%;\r\n  width: 32px;\r\n  height: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.username-display {\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.email-display {\r\n  color: #7f8c8d;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.level-badge-small {\r\n  font-size: 0.8rem !important;\r\n  padding: 0.5rem 1rem !important;\r\n  border-radius: 20px !important;\r\n  font-weight: 600 !important;\r\n  display: inline-block !important;\r\n}\r\n\r\n.level-badge-small.level-novice {\r\n  background: linear-gradient(135deg, #e0e0e0 0%, #bdbdbd 100%) !important;\r\n  color: #666 !important;\r\n}\r\n\r\n.level-badge-small.level-explorer {\r\n  background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%) !important;\r\n  color: #ffffff !important;\r\n  border: 1px solid #0d47a1 !important;\r\n}\r\n\r\n.level-badge-small.level-wanderer {\r\n  background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%) !important;\r\n  color: #388e3c !important;\r\n}\r\n\r\n.level-badge-small.level-adventurer {\r\n  background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%) !important;\r\n  color: #f57f17 !important;\r\n}\r\n\r\n.level-badge-small.level-master {\r\n  background: linear-gradient(135deg, #ffeb3b 0%, #ffc107 100%) !important;\r\n  color: #f57f17 !important;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./UserProfileCard.vue?vue&type=template&id=465cd4eb&scoped=true\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js\"\n\nimport \"./UserProfileCard.vue?vue&type=style&index=0&id=465cd4eb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-465cd4eb\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"card shadow-sm mt-3\">\r\n    <div class=\"card-header bg-white d-flex justify-content-between align-items-center\">\r\n      <h5 class=\"mb-0\">📊 我的统计</h5>\r\n      <button class=\"btn btn-sm btn-outline-secondary\" @click=\"$emit('refresh')\" title=\"刷新统计\">\r\n        🔄\r\n      </button>\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <div class=\"row text-center\">\r\n        <div class=\"col-12 mb-3\">\r\n          <div class=\"stat-box-small\">\r\n            <h4 class=\"text-primary mb-1\">{{ stats.comments_count || 0 }}</h4>\r\n            <p class=\"text-muted mb-0 small\">评论数</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-6 mb-3\">\r\n          <div class=\"stat-box-small\">\r\n            <h4 class=\"text-success mb-1\">{{ stats.trips_count || 0 }}</h4>\r\n            <p class=\"text-muted mb-0 small\">总旅行数</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-6 mb-3\">\r\n          <div class=\"stat-box-small\">\r\n            <h4 class=\"text-warning mb-1\">{{ stats.public_trips_count || 0 }}</h4>\r\n            <p class=\"text-muted mb-0 small\">公开旅行（算等级）</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UserStats',\r\n  \r\n  props: {\r\n    stats: {\r\n      type: Object,\r\n      required: true,\r\n      default: () => ({\r\n        comments_count: 0,\r\n        trips_count: 0,\r\n        public_trips_count: 0\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stat-box-small {\r\n  background: #f8f9fa;\r\n  padding: 1rem;\r\n  border-radius: 8px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.stat-box-small:hover {\r\n  background: #e9ecef;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n</style>\r\n\r\n","import { render } from \"./UserStats.vue?vue&type=template&id=3e61ba92&scoped=true\"\nimport script from \"./UserStats.vue?vue&type=script&lang=js\"\nexport * from \"./UserStats.vue?vue&type=script&lang=js\"\n\nimport \"./UserStats.vue?vue&type=style&index=0&id=3e61ba92&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3e61ba92\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"card shadow-sm mb-4\">\r\n    <div class=\"card-header bg-white d-flex justify-content-between align-items-center\">\r\n      <h5 class=\"mb-0\">📧 邮箱绑定</h5>\r\n      <span v-if=\"emailVerified\" class=\"badge bg-success\">\r\n        ✅ 已验证\r\n      </span>\r\n    </div>\r\n    \r\n    <div class=\"card-body\">\r\n      <!-- 当前邮箱显示 -->\r\n      <div v-if=\"currentEmail && emailVerified\" class=\"mb-3\">\r\n        <div class=\"alert alert-success\">\r\n          <strong>已绑定邮箱：</strong> {{ currentEmail }}\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 未绑定或未验证提示 -->\r\n      <div v-else-if=\"!emailVerified\" class=\"mb-3\">\r\n        <div class=\"alert alert-warning\">\r\n          <strong>⚠️ 邮箱{{ currentEmail ? '未验证' : '未绑定' }}</strong>\r\n          <p class=\"mb-0 small\">绑定邮箱可以用于找回密码和接收重要通知</p>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 邮箱绑定表单 -->\r\n      <div v-if=\"!emailVerified || !currentEmail\">\r\n        <form @submit.prevent=\"handleBindEmail\">\r\n          <!-- 邮箱输入 -->\r\n          <div class=\"mb-3\">\r\n            <label class=\"form-label\">📧 邮箱地址 <span class=\"text-danger\">*</span></label>\r\n            <div class=\"input-group\">\r\n              <input\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                v-model=\"emailForm.email\"\r\n                :disabled=\"emailVerified && currentEmail\"\r\n                placeholder=\"请输入邮箱地址\"\r\n                required\r\n              />\r\n              <button\r\n                v-if=\"!emailVerified || !currentEmail\"\r\n                type=\"button\"\r\n                class=\"btn btn-outline-primary\"\r\n                :disabled=\"!emailForm.email || sendingCode || countdown > 0 || verifyingCode\"\r\n                @click=\"handleSendCode\"\r\n              >\r\n                <span v-if=\"sendingCode\" class=\"spinner-border spinner-border-sm me-1\"></span>\r\n                <span v-else-if=\"countdown > 0\">{{ countdown }}秒</span>\r\n                <span v-else>发送验证码</span>\r\n              </button>\r\n            </div>\r\n            <small v-if=\"codeSent && !emailVerified\" class=\"text-success\">\r\n              验证码已发送，请查收邮箱\r\n            </small>\r\n          </div>\r\n          \r\n          <!-- 验证码输入 -->\r\n          <div class=\"mb-3\" v-if=\"codeSent\">\r\n            <label class=\"form-label\">🔐 验证码 <span class=\"text-danger\">*</span></label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              v-model=\"emailForm.code\"\r\n              :disabled=\"emailVerified\"\r\n              placeholder=\"请输入6位验证码\"\r\n              maxlength=\"6\"\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <!-- 操作按钮 -->\r\n          <div class=\"d-flex gap-2\" v-if=\"codeSent && !emailVerified\">\r\n            <button\r\n              type=\"submit\"\r\n              class=\"btn btn-primary\"\r\n              :disabled=\"binding || !emailForm.code || emailForm.code.length !== 6\"\r\n            >\r\n              <span v-if=\"binding\" class=\"spinner-border spinner-border-sm me-2\"></span>\r\n              {{ binding ? '绑定中...' : '✅ 绑定邮箱' }}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-secondary\"\r\n              @click=\"handleCancel\"\r\n              :disabled=\"binding\"\r\n            >\r\n              取消\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \r\n      <!-- 错误提示 -->\r\n      <div v-if=\"errorMessage\" class=\"alert alert-danger mt-3\">\r\n        {{ errorMessage }}\r\n      </div>\r\n      \r\n      <!-- 成功提示 -->\r\n      <div v-if=\"successMessage\" class=\"alert alert-success mt-3\">\r\n        {{ successMessage }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport { sendVerificationCode, verifyCode } from '@/api/auth'\r\nimport { bindEmail } from '@/api/user'\r\n\r\nexport default {\r\n  name: 'EmailBindingEditor',\r\n  \r\n  props: {\r\n    currentEmail: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    emailVerified: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    userId: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  \r\n  emits: ['email-bound', 'update'],\r\n  \r\n  setup(props, { emit }) {\r\n    const emailForm = ref({\r\n      email: props.currentEmail || '',\r\n      code: ''\r\n    })\r\n    \r\n    const sendingCode = ref(false)\r\n    const binding = ref(false)\r\n    const codeSent = ref(false)\r\n    const countdown = ref(0)\r\n    const errorMessage = ref('')\r\n    const successMessage = ref('')\r\n    \r\n    let countdownTimer = null\r\n    \r\n    // 发送验证码\r\n    const handleSendCode = async () => {\r\n      errorMessage.value = ''\r\n      successMessage.value = ''\r\n      \r\n      if (!emailForm.value.email) {\r\n        errorMessage.value = '请先输入邮箱地址'\r\n        return\r\n      }\r\n      \r\n      // 验证邮箱格式\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n      if (!emailRegex.test(emailForm.value.email)) {\r\n        errorMessage.value = '请输入有效的邮箱地址'\r\n        return\r\n      }\r\n      \r\n      sendingCode.value = true\r\n      \r\n      try {\r\n        await sendVerificationCode({\r\n          email: emailForm.value.email,\r\n          type: 'bind_email'\r\n        })\r\n        \r\n        codeSent.value = true\r\n        countdown.value = 60 // 60秒倒计时\r\n        startCountdown()\r\n        successMessage.value = '验证码已发送，请查收邮箱'\r\n        \r\n      } catch (error) {\r\n        console.error('发送验证码失败:', error)\r\n        if (error.response?.data) {\r\n          const data = error.response.data\r\n          if (data.error) {\r\n            errorMessage.value = data.error\r\n          } else if (data.email) {\r\n            errorMessage.value = Array.isArray(data.email) ? data.email[0] : data.email\r\n          } else {\r\n            errorMessage.value = '发送验证码失败，请稍后重试'\r\n          }\r\n        } else {\r\n          errorMessage.value = '网络错误，请检查网络连接'\r\n        }\r\n      } finally {\r\n        sendingCode.value = false\r\n      }\r\n    }\r\n    \r\n    // 绑定邮箱\r\n    const handleBindEmail = async () => {\r\n      errorMessage.value = ''\r\n      successMessage.value = ''\r\n      \r\n      if (!emailForm.value.code || emailForm.value.code.length !== 6) {\r\n        errorMessage.value = '请输入6位验证码'\r\n        return\r\n      }\r\n      \r\n      binding.value = true\r\n      \r\n      try {\r\n        // 1. 先验证验证码\r\n        const verifyResponse = await verifyCode({\r\n          email: emailForm.value.email,\r\n          code: emailForm.value.code,\r\n          type: 'bind_email'\r\n        })\r\n        \r\n        if (!verifyResponse.success || !verifyResponse.verification_token) {\r\n          errorMessage.value = '验证码验证失败，请检查验证码是否正确'\r\n          binding.value = false\r\n          return\r\n        }\r\n        \r\n        // 2. 绑定邮箱（使用专门的绑定邮箱API，会自动标记为已验证）\r\n        await bindEmail({\r\n          email: emailForm.value.email,\r\n          verification_token: verifyResponse.verification_token\r\n        })\r\n        \r\n        // 3. 触发更新事件\r\n        emit('email-bound', {\r\n          email: emailForm.value.email,\r\n          verified: true\r\n        })\r\n        emit('update')\r\n        \r\n        successMessage.value = '邮箱绑定成功！'\r\n        \r\n        // 清除表单\r\n        emailForm.value.code = ''\r\n        codeSent.value = false\r\n        if (countdownTimer) {\r\n          clearInterval(countdownTimer)\r\n          countdownTimer = null\r\n          countdown.value = 0\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error('绑定邮箱失败:', error)\r\n        if (error.response?.data) {\r\n          const data = error.response.data\r\n          if (data.error) {\r\n            errorMessage.value = data.error\r\n          } else if (data.code) {\r\n            errorMessage.value = Array.isArray(data.code) ? data.code[0] : data.code\r\n          } else if (data.email) {\r\n            errorMessage.value = Array.isArray(data.email) ? data.email[0] : data.email\r\n          } else {\r\n            errorMessage.value = '绑定邮箱失败，请稍后重试'\r\n          }\r\n        } else {\r\n          errorMessage.value = '网络错误，请检查网络连接'\r\n        }\r\n      } finally {\r\n        binding.value = false\r\n      }\r\n    }\r\n    \r\n    // 取消绑定\r\n    const handleCancel = () => {\r\n      emailForm.value.code = ''\r\n      codeSent.value = false\r\n      errorMessage.value = ''\r\n      successMessage.value = ''\r\n      if (countdownTimer) {\r\n        clearInterval(countdownTimer)\r\n        countdownTimer = null\r\n        countdown.value = 0\r\n      }\r\n    }\r\n    \r\n    // 倒计时\r\n    const startCountdown = () => {\r\n      if (countdownTimer) {\r\n        clearInterval(countdownTimer)\r\n      }\r\n      \r\n      countdownTimer = setInterval(() => {\r\n        if (countdown.value > 0) {\r\n          countdown.value--\r\n        } else {\r\n          clearInterval(countdownTimer)\r\n          countdownTimer = null\r\n        }\r\n      }, 1000)\r\n    }\r\n    \r\n    return {\r\n      emailForm,\r\n      sendingCode,\r\n      binding,\r\n      codeSent,\r\n      countdown,\r\n      errorMessage,\r\n      successMessage,\r\n      handleSendCode,\r\n      handleBindEmail,\r\n      handleCancel\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  border-radius: 12px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.card-header {\r\n  border-bottom: 2px solid #f0f0f0;\r\n  padding: 1rem 1.5rem;\r\n}\r\n\r\n.form-label {\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.form-control {\r\n  border-radius: 12px;\r\n  border: 2px solid #e9ecef;\r\n  padding: 0.75rem 1rem;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.form-control:focus {\r\n  border-color: #667eea;\r\n  box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);\r\n}\r\n\r\n.input-group {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.input-group .form-control {\r\n  flex: 1;\r\n}\r\n\r\n.input-group .btn {\r\n  white-space: nowrap;\r\n}\r\n\r\n.d-flex.gap-2 {\r\n  gap: 0.5rem;\r\n}\r\n\r\n.alert {\r\n  border-radius: 12px;\r\n  padding: 1rem;\r\n}\r\n\r\n.badge {\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 20px;\r\n  font-size: 0.85rem;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./EmailBindingEditor.vue?vue&type=template&id=f2192fde&scoped=true\"\nimport script from \"./EmailBindingEditor.vue?vue&type=script&lang=js\"\nexport * from \"./EmailBindingEditor.vue?vue&type=script&lang=js\"\n\nimport \"./EmailBindingEditor.vue?vue&type=style&index=0&id=f2192fde&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f2192fde\"]])\n\nexport default __exports__","import { render } from \"./UserCenterView.vue?vue&type=template&id=7b29d060&scoped=true\"\nimport script from \"./UserCenterView.vue?vue&type=script&lang=js\"\nexport * from \"./UserCenterView.vue?vue&type=script&lang=js\"\n\nimport \"./UserCenterView.vue?vue&type=style&index=0&id=7b29d060&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7b29d060\"]])\n\nexport default __exports__"],"names":["class","id","style","href","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","_cache","type","_hoisted_3","_hoisted_4","_hoisted_5","$setup","isLoggedIn","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","src","avatar","alt","width","height","_toDisplayString","username","_hoisted_11","onClick","_withModifiers","args","handleLogout","_Fragment","key","name","setup","router","useRouter","userStore","useUserStore","computed","async","confirm","logout","push","error","console","__exports__","render","$props","show","close","title","warningText","_renderList","warningItems","item","$event","_ctx","$emit","actionButtonText","props","Boolean","required","String","default","Array","emits","emit","_component_NavBar","goBack","_normalizeClass","getLevelTextClass","profileData","level","loading","role","_component_UserProfileCard","email","userAvatar","isAdmin","userInfo","date_joined","getLevelText","getLevelClass","formatDate","onAvatarChange","handleAvatarChange","_component_UserStats","stats","onRefresh","loadStats","isEditingBasic","isEditingProfile","saveAllChanges","disabled","savingAll","cancelAllEdit","startEditing","showAdvancedSettings","_component_AdvancedSettingsModal","onClose","onConfirm","confirmAndDeleteAccount","_hoisted_10","isEmailVerified","_createBlock","_component_EmailBindingEditor","onEmailBound","handleEmailBound","onUpdate","handleRefreshUserInfo","_hoisted_12","_hoisted_13","onSubmit","handleUpdateInfo","_hoisted_21","editForm","updating","_hoisted_23","_hoisted_25","_hoisted_27","cancelBasicEdit","_hoisted_28","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","handleUpdateProfile","_hoisted_41","bio","rows","maxlength","placeholder","_hoisted_42","length","_hoisted_43","tags","_hoisted_44","visited_countries","_hoisted_45","updatingProfile","_hoisted_47","cancelProfileEdit","_hoisted_48","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","split","tag","index","trim","_hoisted_38","_hoisted_39","_hoisted_40","updateUser","userId","data","request","patch","uploadAvatar","formData","FormData","append","post","updateProfile","getUserStats","get","deleteUser","delete","bindEmail","triggerFileInput","ref","accept","onChange","dateJoined","Function","avatarInput","value","click","event","file","target","files","comments_count","trips_count","public_trips_count","Object","emailVerified","currentEmail","handleBindEmail","emailForm","sendingCode","countdown","verifyingCode","handleSendCode","codeSent","code","binding","_hoisted_22","handleCancel","errorMessage","_hoisted_24","successMessage","Number","countdownTimer","emailRegex","test","sendVerificationCode","startCountdown","response","isArray","verifyResponse","verifyCode","success","verification_token","verified","clearInterval","setInterval","components","NavBar","UserProfileCard","UserStats","AdvancedSettingsModal","EmailBindingEditor","originalForm","originalProfile","profile","email_verified","dateStr","date","Date","toLocaleDateString","myTrips","getMyTrips","list","results","total","publics","filter","t","visibility","e","initEditForm","fetchUserInfo","alert","levels","classes","startsWith","size","handleDeleteAccount","onMounted","status"],"sourceRoot":""}