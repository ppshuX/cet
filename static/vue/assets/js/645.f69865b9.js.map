{"version":3,"file":"assets/js/645.f69865b9.js","mappings":"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","sources":["webpack://roamio-web/./src/api/trip.js","webpack://roamio-web/./src/views/TripDetailView.vue","webpack://roamio-web/./src/api/comment.js","webpack://roamio-web/./src/config/tripConfig.js","webpack://roamio-web/./src/components/TripProgress.vue","webpack://roamio-web/./src/components/TripProgress.vue?1794","webpack://roamio-web/./src/components/TripStats.vue","webpack://roamio-web/./src/components/TripStats.vue?0951","webpack://roamio-web/./src/components/TripOverview.vue","webpack://roamio-web/./src/components/TripOverview.vue?621c","webpack://roamio-web/./src/components/CommentSection.vue","webpack://roamio-web/./src/components/comments/CommentForm.vue","webpack://roamio-web/./src/components/comments/CommentForm.vue?20bb","webpack://roamio-web/./src/components/comments/CommentItem.vue","webpack://roamio-web/./src/components/comments/CommentItem.vue?fd11","webpack://roamio-web/./src/components/comments/ReplySection.vue","webpack://roamio-web/./src/components/comments/ReplySection.vue?e1fe","webpack://roamio-web/./src/components/CommentSection.vue?5d75","webpack://roamio-web/./src/views/TripDetailView.vue?5256","webpack://roamio-web/./src/components/NavBar.vue","webpack://roamio-web/./src/components/NavBar.vue?01fd"],"sourcesContent":["/**\r\n * æ—…è¡Œç›¸å…³API\r\n */\r\nimport request from './request'\r\n\r\n/**\r\n * è·å–æ—…è¡Œåˆ—è¡¨\r\n * @param {Object} params - æŸ¥è¯¢å‚æ•°\r\n */\r\nexport const getTripList = (params) => {\r\n    return request.get('/trips/', { params })\r\n}\r\n\r\n/**\r\n * è·å–æ—…è¡Œè¯¦æƒ…\r\n * @param {string} slug - æ—…è¡Œæ ‡è¯†ç¬¦\r\n * å…ˆå°è¯•ä»æ–°Tripæ¨¡å‹è·å–ï¼Œå¤±è´¥åˆ™å°è¯•æ—§SiteStat\r\n */\r\nexport const getTripDetail = async (slug) => {\r\n    // å…ˆå°è¯•æ–°çš„Tripæ¨¡å‹\r\n    try {\r\n        return await request.get(`/trip-plans/${slug}/`)\r\n    } catch (error) {\r\n        // 404æˆ–ç½‘ç»œé”™è¯¯ï¼Œå°è¯•æ—§çš„SiteStat\r\n        const statusCode = error.response?.status || error.status\r\n        const shouldFallback = statusCode === 404 ||\r\n            error.code === 'ERR_BAD_REQUEST' ||\r\n            error.message?.includes('404') ||\r\n            !error.response\r\n\r\n        if (shouldFallback) {\r\n            return await request.get(`/trips/${slug}/`)\r\n        }\r\n        throw error\r\n    }\r\n}\r\n\r\n/**\r\n * ç‚¹èµæ—…è¡Œ\r\n * @param {string} slug - æ—…è¡Œæ ‡è¯†ç¬¦\r\n */\r\nexport const likeTrip = (slug) => {\r\n    return request.post(`/trips/${slug}/like/`)\r\n}\r\n\r\n/**\r\n * æ‰“å¡æ—…è¡Œ\r\n * @param {string} slug - æ—…è¡Œæ ‡è¯†ç¬¦\r\n */\r\nexport const checkinTrip = (slug) => {\r\n    return request.post(`/trips/${slug}/checkin/`)\r\n}\r\n\r\n/**\r\n * è·å–æ—…è¡Œç»Ÿè®¡\r\n * @param {string} slug - æ—…è¡Œæ ‡è¯†ç¬¦\r\n */\r\nexport const getTripStats = (slug) => {\r\n    return request.get(`/trips/${slug}/stats/`)\r\n}\r\n\r\n/**\r\n * è·å–æ—…è¡Œè¯„è®º\r\n * @param {string} slug - æ—…è¡Œæ ‡è¯†ç¬¦\r\n * @param {Object} params - æŸ¥è¯¢å‚æ•°\r\n */\r\nexport const getTripComments = (slug, params) => {\r\n    return request.get(`/trips/${slug}/comments/`, { params })\r\n}\r\n\r\n","<template>\n  <div class=\"trip-detail-container\">\n    <!-- å¯¼èˆªæ  -->\n    <NavBar />\n    \n    <!-- è¿”å›æŒ‰é’® -->\n    <button class=\"back-btn\" @click=\"goBack\" title=\"è¿”å›é¦–é¡µ\">\n      ğŸ \n    </button>\n    \n    <!-- èƒŒæ™¯éŸ³ä¹æŒ‰é’® -->\n    <button class=\"music-btn\" @click=\"toggleMusic\" :title=\"isPlaying ? 'æš‚åœéŸ³ä¹' : 'æ’­æ”¾éŸ³ä¹'\">\n      {{ isPlaying ? 'ğŸ”Š' : 'ğŸ”‡' }}\n    </button>\n    \n    <audio ref=\"audioPlayer\" loop>\n      <source :src=\"musicSrc\" type=\"audio/mpeg\">\n    </audio>\n    \n    <div class=\"container py-5\">\n      <!-- LoadingçŠ¶æ€ -->\n      <div v-if=\"loading\" class=\"text-center\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">åŠ è½½ä¸­...</span>\n        </div>\n      </div>\n      \n      <!-- æ—…è¡Œè¯¦æƒ… -->\n      <div v-else-if=\"trip\">\n        <!-- é¡µé¢æ ‡é¢˜ -->\n        <div class=\"card shadow-lg mb-4\">\n          <div class=\"card-body p-5\">\n            <h1 class=\"mb-3\">{{ trip.name || trip.title }}</h1>\n            <p class=\"text-muted mb-0\">{{ trip.description }}</p>\n          </div>\n        </div>\n        \n        <!-- ç»Ÿè®¡ç»„ä»¶ â­ (ä»…æ—§é¡µé¢) -->\n        <TripStats\n          v-if=\"trip.stats\"\n          :views=\"trip.stats.views\"\n          :likes=\"trip.stats.likes\"\n          @like=\"handleLike\"\n        />\n        \n        <!-- æ—…è¡Œè¿›åº¦æ¡ç»„ä»¶ â­ -->\n        <TripProgress\n          v-if=\"(tripConfig && tripConfig.dates) || (trip.start_date && trip.end_date)\"\n          :start-date=\"tripConfig?.dates?.start || trip.start_date\"\n          :end-date=\"tripConfig?.dates?.end || trip.end_date\"\n        />\n        \n        <!-- è¡Œç¨‹æ¦‚è§ˆç»„ä»¶ â­ (åŠ¨æ€å†…å®¹) -->\n        <TripOverview v-if=\"tripConfig && tripConfig.overview\" title=\"è¡Œç¨‹æ¦‚è§ˆ\">\n          <!-- åŸºæœ¬ä¿¡æ¯ -->\n          <div v-if=\"tripConfig.overview.basicInfo\" class=\"basic-info-section\">\n            <h4>ğŸ§­ åŸºæœ¬ä¿¡æ¯</h4>\n            <div class=\"info-grid\">\n              <div v-if=\"tripConfig.overview.basicInfo.participants\" class=\"info-item\">\n                <span class=\"info-label\">ğŸ‘¥ æ—…è¡Œäººå‘˜ï¼š</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.participants }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.departure\" class=\"info-item\">\n                <span class=\"info-label\">ğŸš© å‡ºå‘åœ°ï¼š</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.departure }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.destination\" class=\"info-item\">\n                <span class=\"info-label\">ğŸ¯ ç›®çš„åœ°ï¼š</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.destination }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.transport\" class=\"info-item\">\n                <span class=\"info-label\">ğŸš— äº¤é€šæ–¹å¼ï¼š</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.transport }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.accommodation\" class=\"info-item\">\n                <span class=\"info-label\">ğŸ¨ ä½å®¿ï¼š</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.accommodation }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.duration\" class=\"info-item\">\n                <span class=\"info-label\">â±ï¸ è¡Œç¨‹æ—¶é•¿ï¼š</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.duration }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.budget\" class=\"info-item\">\n                <span class=\"info-label\">ğŸ’° é¢„ç®—ï¼š</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.budget }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.theme\" class=\"info-item\">\n                <span class=\"info-label\">ğŸ¨ ä¸»é¢˜ï¼š</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.theme }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- è¡Œç¨‹äº®ç‚¹ -->\n          <h4>ğŸ“ è¡Œç¨‹äº®ç‚¹</h4>\n          <ul class=\"highlights-list\">\n            <li v-for=\"(highlight, index) in tripConfig.overview.highlights\" :key=\"index\">\n              {{ highlight }}\n            </li>\n          </ul>\n          \n          <!-- è¡Œç¨‹å®‰æ’ -->\n          <h4>ğŸ—“ï¸ è¯¦ç»†è¡Œç¨‹</h4>\n          <div class=\"itinerary-section\">\n            <div v-for=\"(item, index) in tripConfig.overview.itinerary\" :key=\"index\" class=\"itinerary-item\">\n              <div class=\"itinerary-header\">\n                <strong class=\"itinerary-day\">{{ item.day }}</strong>\n                <span v-if=\"item.time\" class=\"itinerary-time\">â° {{ item.time }}</span>\n              </div>\n              <div class=\"itinerary-content\">{{ item.content }}</div>\n              <div v-if=\"item.highlight\" class=\"itinerary-highlight\">\n                {{ item.highlight }}\n              </div>\n            </div>\n          </div>\n          \n          <!-- é¢„ç®—å‚è€ƒ -->\n          <div v-if=\"tripConfig.overview.budget && tripConfig.overview.budget.items\">\n            <h4>ğŸ’° é¢„ç®—å‚è€ƒ</h4>\n            <table>\n              <thead>\n                <tr>\n                  <th>é¡¹ç›®</th>\n                  <th>é‡‘é¢ï¼ˆå…ƒï¼‰</th>\n                  <th>å¤‡æ³¨</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(item, index) in tripConfig.overview.budget.items\" :key=\"index\">\n                  <td>{{ item.name }}</td>\n                  <td>Â¥{{ item.amount }}</td>\n                  <td>{{ item.note }}</td>\n                </tr>\n                <tr class=\"total-row\">\n                  <td><strong>æ€»è®¡</strong></td>\n                  <td><strong>Â¥{{ tripConfig.overview.budget.total }}</strong></td>\n                  <td>äººå‡é¢„ç®—</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n\n          <!-- å®ç”¨æç¤º -->\n          <div v-if=\"tripConfig.overview.tips && tripConfig.overview.tips.length\" class=\"tips-section\">\n            <h4>ğŸ’¡ å®ç”¨æç¤º</h4>\n            <ul class=\"tips-list\">\n              <li v-for=\"(tip, index) in tripConfig.overview.tips\" :key=\"index\">\n                {{ tip }}\n              </li>\n            </ul>\n          </div>\n        </TripOverview>\n        \n        <!-- å¦‚æœæ²¡æœ‰é…ç½®ï¼Œæ˜¾ç¤ºé»˜è®¤å†…å®¹ -->\n        <TripOverview v-else title=\"è¡Œç¨‹æ¦‚è§ˆ\">\n          <p class=\"text-muted text-center\">è¡Œç¨‹å†…å®¹æ­£åœ¨ç­¹åˆ’ä¸­ï¼Œæ•¬è¯·æœŸå¾…...</p>\n        </TripOverview>\n        \n        <!-- è¯„è®ºåŒºç»„ä»¶ â­ -->\n        <CommentSection\n          ref=\"commentSectionRef\"\n          :comments=\"comments\"\n          :is-admin=\"isAdmin\"\n          :is-author=\"isAuthor\"\n          :has-checked-in=\"trip.stats?.checked_in || false\"\n          :get-avatar-url=\"getAvatarUrl\"\n          @checkin=\"handleCheckin\"\n          @submit-comment=\"handleSubmitComment\"\n          @delete-comment=\"handleDeleteComment\"\n          @add-image=\"handleAddImage\"\n          @update-comment=\"handleUpdateComment\"\n          @submit-reply=\"handleSubmitReply\"\n          @load-replies=\"handleLoadReplies\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useUserStore } from '@/stores'\nimport { getTripDetail, likeTrip, checkinTrip } from '@/api/trip'\nimport { getCommentList, createComment, deleteComment, addCommentImage, updateComment, getCommentReplies } from '@/api/comment'\nimport { getAvatarUrl } from '@/config/api'\nimport { getTripConfig } from '@/config/tripConfig'\nimport NavBar from '@/components/NavBar.vue'\nimport TripProgress from '@/components/TripProgress.vue'\nimport TripStats from '@/components/TripStats.vue'\nimport TripOverview from '@/components/TripOverview.vue'\nimport CommentSection from '@/components/CommentSection.vue'\n\nexport default {\n  name: 'TripDetailView',\n  \n  components: {\n    NavBar,\n    TripProgress,\n    TripStats,\n    TripOverview,\n    CommentSection\n  },\n  \n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const userStore = useUserStore()\n    \n    const trip = ref(null)\n    const comments = ref([])\n    const loading = ref(true)\n    const tripConfig = ref(null)\n    \n    // éŸ³ä¹ç›¸å…³\n    const isPlaying = ref(false)\n    const audioPlayer = ref(null)\n    const musicSrc = computed(() => {\n      // ä»tripæ•°æ®ä¸­è·å–èƒŒæ™¯éŸ³ä¹ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨é»˜è®¤éŸ³ä¹\n      return trip.value?.background_music || '/static/music/rain.mp3'\n    })\n    \n    const isAdmin = computed(() => userStore.isAdmin)\n    \n    // åˆ¤æ–­æ˜¯å¦ä¸ºæ—…è¡Œä½œè€…\n    const isAuthor = computed(() => {\n      return trip.value?.author?.id === userStore.userInfo?.id\n    })\n    \n    // è·å–æ—…è¡Œè¯¦æƒ…\n    const fetchTripDetail = async () => {\n      const slug = route.params.slug\n      try {\n        trip.value = await getTripDetail(slug)\n        \n        // å¦‚æœæ˜¯æ–°Tripæ¨¡å‹ï¼Œä¸éœ€è¦getTripConfig\n        // å¦‚æœæ˜¯æ—§SiteStatæ¨¡å‹ï¼Œä½¿ç”¨getTripConfig\n        if (trip.value.overview) {\n          // æ–°Tripæ¨¡å‹ï¼Œå·²ç»æœ‰å®Œæ•´çš„é…ç½®å’Œæ•°æ®\n          // å¤„ç† budget.summary -> budget.total çš„å…¼å®¹æ€§\n          const overview = { ...trip.value.overview }\n          if (overview.budget && overview.budget.summary) {\n            overview.budget.total = overview.budget.summary\n          }\n          \n          tripConfig.value = {\n            dates: {\n              start: trip.value.start_date,\n              end: trip.value.end_date\n            },\n            overview\n          }\n        } else {\n          // æ—§SiteStatæ¨¡å‹ï¼Œä½¿ç”¨é™æ€é…ç½®\n          tripConfig.value = getTripConfig(slug)\n        }\n      } catch (error) {\n        console.error('è·å–æ—…è¡Œè¯¦æƒ…å¤±è´¥:', error)\n        if (error.response?.status === 404 || error.status === 404) {\n          alert('æ—…è¡Œé¡µé¢ä¸å­˜åœ¨')\n          router.push('/')\n        }\n      }\n    }\n    \n    // è·å–è¯„è®ºåˆ—è¡¨\n    const fetchComments = async () => {\n      const slug = route.params.slug\n      try {\n        const data = await getCommentList({ trip: slug })\n        comments.value = data.results || data || []\n      } catch (error) {\n        console.error('è·å–è¯„è®ºåˆ—è¡¨å¤±è´¥:', error)\n        comments.value = []\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    // ç‚¹èµ\n    const handleLike = async () => {\n      try {\n        const result = await likeTrip(route.params.slug)\n        trip.value.stats.likes = result.likes\n        alert('ç‚¹èµæˆåŠŸï¼')\n      } catch (error) {\n        console.error('ç‚¹èµå¤±è´¥:', error)\n        alert('ç‚¹èµå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•')\n      }\n    }\n    \n    // æ‰“å¡\n    const handleCheckin = async () => {\n      try {\n        await checkinTrip(route.params.slug)\n        alert('æ‰“å¡æˆåŠŸï¼')\n        await fetchTripDetail() // åˆ·æ–°æ•°æ®ä»¥æ›´æ–°æ‰“å¡çŠ¶æ€\n      } catch (error) {\n        console.error('æ‰“å¡å¤±è´¥:', error)\n        alert('æ‰“å¡å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•')\n      }\n    }\n    \n    // æäº¤è¯„è®ºï¼ˆæ¥æ”¶ç»„ä»¶ä¼ æ¥çš„æ•°æ®ï¼‰\n    const handleSubmitComment = async (commentData) => {\n      try {\n        const formData = new FormData()\n        formData.append('page', route.params.slug)\n        \n        if (commentData.content) {\n          formData.append('content', commentData.content)\n        }\n        if (commentData.image) {\n          formData.append('image', commentData.image)\n        }\n        if (commentData.video) {\n          formData.append('video', commentData.video)\n        }\n        \n        await createComment(formData)\n        alert('è¯„è®ºå‘è¡¨æˆåŠŸï¼')\n        await fetchComments()\n      } catch (error) {\n        console.error('å‘è¡¨è¯„è®ºå¤±è´¥:', error)\n        alert('å‘è¡¨è¯„è®ºå¤±è´¥ï¼š' + error.message)\n      }\n    }\n    \n    // åˆ é™¤è¯„è®º\n    const handleDeleteComment = async (commentId) => {\n      // åˆ é™¤å‰æç¤ºç¡®è®¤\n      if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡å†…å®¹å—ï¼Ÿåˆ é™¤åæ— æ³•æ¢å¤ã€‚')) {\n        return\n      }\n      \n      // å…ˆå‘åç«¯å‘é€åˆ é™¤è¯·æ±‚\n      try {\n        await deleteComment(commentId)\n      } catch (error) {\n        console.error('åˆ é™¤è¯„è®ºå¤±è´¥:', error)\n        const errorMsg = error.response?.data?.detail || error.message || 'åˆ é™¤å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'\n        alert(errorMsg)\n        return\n      }\n      \n      // åˆ é™¤æˆåŠŸåï¼Œä»UIä¸­ç§»é™¤\n      const deletedComment = comments.value.find(c => c.id === commentId)\n      \n      if (!deletedComment) {\n        // å¦‚æœæ˜¯å›å¤ï¼Œä»replyListsä¸­åˆ é™¤\n        for (const comment of comments.value) {\n          if (commentSectionRef.value && commentSectionRef.value.replyLists) {\n            const replyList = commentSectionRef.value.replyLists[comment.id]\n            if (replyList && replyList.some(r => r.id === commentId)) {\n              const filteredReplies = replyList.filter(r => r.id !== commentId)\n              if (commentSectionRef.value.updateReplyList) {\n                commentSectionRef.value.updateReplyList(comment.id, filteredReplies)\n              }\n              return\n            }\n          }\n        }\n        return\n      }\n      \n      const isReply = !!deletedComment.parent_id\n      const parentId = deletedComment.parent_id\n      let parentComment = null\n      \n      if (isReply) {\n        // è¿™æ˜¯å›å¤çš„åˆ é™¤\n        parentComment = comments.value.find(c => c.id === parentId)\n        if (parentComment && parentComment.replies) {\n          // ç«‹å³ä»UIä¸­ç§»é™¤\n          parentComment.replies = parentComment.replies.filter(r => r.id !== commentId)\n          // æ›´æ–°CommentSectionçš„replyLists\n          if (commentSectionRef.value && commentSectionRef.value.updateReplyList) {\n            commentSectionRef.value.updateReplyList(parentId, parentComment.replies)\n          }\n        }\n      } else {\n        // è¿™æ˜¯é¡¶å±‚è¯„è®ºçš„åˆ é™¤ï¼Œä»åˆ—è¡¨ä¸­ç«‹å³ç§»é™¤\n        comments.value = comments.value.filter(c => c.id !== commentId)\n      }\n    }\n    \n    // æ·»åŠ å›¾ç‰‡\n    const handleAddImage = async ({ commentId, file }) => {\n      try {\n        const formData = new FormData()\n        formData.append('image', file)\n        \n        await addCommentImage(commentId, formData)\n        alert('å›¾ç‰‡æ·»åŠ æˆåŠŸï¼')\n        await fetchComments()\n      } catch (error) {\n        console.error('æ·»åŠ å›¾ç‰‡å¤±è´¥:', error)\n        alert('æ·»åŠ å›¾ç‰‡å¤±è´¥ï¼š' + (error.response?.data?.detail || error.message))\n      }\n    }\n    \n    // æ›´æ–°è¯„è®º\n    const handleUpdateComment = async ({ commentId, content }) => {\n      try {\n        await updateComment(commentId, { content })\n        alert('è¯„è®ºæ›´æ–°æˆåŠŸï¼')\n        await fetchComments()\n      } catch (error) {\n        console.error('æ›´æ–°è¯„è®ºå¤±è´¥:', error)\n        alert('æ›´æ–°è¯„è®ºå¤±è´¥ï¼š' + (error.response?.data?.detail || error.message))\n      }\n    }\n    \n    // æäº¤å›å¤\n    const handleSubmitReply = async ({ commentId, content }) => {\n      try {\n        const formData = new FormData()\n        formData.append('content', content)\n        formData.append('page', route.params.slug)\n        formData.append('parent', commentId)  // è®¾ç½®çˆ¶è¯„è®ºID\n        \n        await createComment(formData)\n        alert('å›å¤æˆåŠŸï¼')\n        // æäº¤æˆåŠŸåé‡æ–°åŠ è½½è¯¥è¯„è®ºçš„å›å¤åˆ—è¡¨\n        await handleLoadReplies(commentId)\n      } catch (error) {\n        console.error('æäº¤å›å¤å¤±è´¥:', error)\n        alert('æäº¤å›å¤å¤±è´¥ï¼š' + (error.response?.data?.detail || error.message))\n      }\n    }\n    \n    // ä¿å­˜commentSectionRefç”¨äºç›´æ¥è®¿é—®å­ç»„ä»¶\n    const commentSectionRef = ref(null)\n    \n    // åŠ è½½å›å¤åˆ—è¡¨\n    const handleLoadReplies = async (commentId) => {\n      try {\n        const replies = await getCommentReplies(commentId)\n        \n        // å°†å›å¤åˆ—è¡¨ä¿å­˜åˆ°commentsæ•°ç»„ä¸­å¯¹åº”è¯„è®ºçš„replieså±æ€§\n        const comment = comments.value.find(c => c.id === commentId)\n        if (comment) {\n          comment.replies = replies || []\n        }\n        \n        // ç­‰å¾…ä¸‹ä¸€ä¸ªtickï¼Œç¡®ä¿refå·²ç»åˆå§‹åŒ–\n        await new Promise(resolve => setTimeout(resolve, 100))\n        \n        // æ›´æ–°CommentSectionç»„ä»¶çš„replyLists\n        if (commentSectionRef.value && commentSectionRef.value.updateReplyList) {\n          commentSectionRef.value.updateReplyList(commentId, replies || [])\n        }\n      } catch (error) {\n        console.error(`åŠ è½½è¯„è®º ${commentId} çš„å›å¤åˆ—è¡¨å¤±è´¥:`, error)\n      }\n    }\n    \n    // è¿”å›æŒ‰é’®\n    const goBack = () => {\n      router.push('/')\n    }\n    \n    // éŸ³ä¹æ§åˆ¶\n    const toggleMusic = async () => {\n      if (!audioPlayer.value) return\n      \n      if (isPlaying.value) {\n        audioPlayer.value.pause()\n      } else {\n        try {\n          audioPlayer.value.volume = 0.3 // é™ä½éŸ³é‡\n          await audioPlayer.value.play()\n        } catch (error) {\n          console.error('æ’­æ”¾éŸ³ä¹å¤±è´¥:', error)\n        }\n      }\n      isPlaying.value = !isPlaying.value\n    }\n    \n    onMounted(async () => {\n      await fetchTripDetail()\n      await fetchComments()\n    })\n    \n    return {\n      trip,\n      comments,\n      loading,\n      tripConfig,\n      isAdmin,\n      isPlaying,\n      audioPlayer,\n      musicSrc,\n      commentSectionRef,\n      handleLike,\n      handleCheckin,\n      handleSubmitComment,\n      handleDeleteComment,\n      handleAddImage,\n      handleUpdateComment,\n      handleSubmitReply,\n      handleLoadReplies,\n      goBack,\n      toggleMusic,\n      getAvatarUrl,\n      isAuthor\n    }\n  }\n}\n</script>\n\n<style scoped>\n.trip-detail-container {\n  min-height: 100vh;\n  background: #f0e68c;  /* å¦é—¨æ—…è¡Œé¡µé¢çš„æµ…é»„è‰²èƒŒæ™¯ */\n  font-family: 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', sans-serif;\n  line-height: 1.8;\n  color: #333;\n  padding-bottom: 40px;\n}\n\n/* å¡ç‰‡æ ·å¼ */\n:deep(.card) {\n  background: #fff;\n  border: none;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  margin-bottom: 2rem;\n  overflow: hidden;\n}\n\n:deep(.card-body) {\n  padding: 2rem;\n}\n\n/* ç»Ÿè®¡å¡ç‰‡ */\n.stat-card {\n  text-align: center;\n  padding: 1.5rem;\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n}\n\n.stat-card:hover {\n  background: #f9f9f9;\n  transform: translateY(-3px);\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);\n}\n\n.stat-icon {\n  font-size: 2.5rem;\n  margin-bottom: 0.5rem;\n}\n\n.stat-value {\n  font-size: 2rem;\n  font-weight: bold;\n  color: #2c3e50;\n  margin-bottom: 0.3rem;\n}\n\n.stat-label {\n  color: #666;\n  font-size: 0.95rem;\n}\n\n/* æ“ä½œæŒ‰é’® */\n:deep(.btn-primary) {\n  background-color: #3498db;\n  border: none;\n  border-radius: 8px;\n  padding: 0.6rem 1.5rem;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n:deep(.btn-primary:hover) {\n  background-color: #2980b9;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);\n}\n\n:deep(.btn-success) {\n  background-color: #2ecc71;\n  border: none;\n  border-radius: 8px;\n  padding: 0.6rem 1.5rem;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n:deep(.btn-success:hover) {\n  background-color: #27ae60;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3);\n}\n\n/* è¯„è®ºåŒºåŸŸ */\n.comment-item {\n  background: #f0f0f0;\n  padding: 1.5rem;\n  border-radius: 12px;\n  margin-bottom: 1.5rem;\n  transition: all 0.3s ease;\n  border: none;\n}\n\n.comment-item:hover {\n  background: #e8e8e8;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n}\n\n.comment-item:last-child {\n  margin-bottom: 0;\n}\n\n/* è¡¨å•æ§ä»¶ */\n:deep(.form-control),\n:deep(.form-select),\n:deep(textarea) {\n  border-radius: 8px;\n  border: 1px solid #ccc;\n  padding: 0.7rem 1rem;\n  transition: all 0.3s ease;\n}\n\n:deep(.form-control:focus),\n:deep(.form-select:focus),\n:deep(textarea:focus) {\n  border-color: #3498db;\n  box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);\n  outline: none;\n}\n\n:deep(textarea) {\n  min-height: 100px;\n  resize: vertical;\n}\n\n/* å¤´åƒ */\n:deep(.rounded-circle) {\n  border: 2px solid #e0e0e0;\n  object-fit: cover;\n}\n\n/* åˆ é™¤æŒ‰é’® */\n:deep(.btn-danger) {\n  background-color: #c0392b;\n  border: none;\n  border-radius: 6px;\n  padding: 0.4rem 0.8rem;\n  font-size: 0.9rem;\n  transition: all 0.3s ease;\n}\n\n:deep(.btn-danger:hover) {\n  background-color: #a02818;\n  transform: scale(1.05);\n}\n\n/* è¡¨æ ¼æ ·å¼ï¼ˆå¦‚éœ€è¦ï¼‰ */\n:deep(table) {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 1rem;\n}\n\n:deep(table), :deep(th), :deep(td) {\n  border: 1px solid #ccc;\n}\n\n:deep(th), :deep(td) {\n  padding: 0.75rem;\n  text-align: left;\n}\n\n:deep(th) {\n  background-color: #f0f0f0;\n  font-weight: 600;\n}\n\n/* åŸºæœ¬ä¿¡æ¯åŒºåŸŸ */\n.basic-info-section {\n  margin-bottom: 2rem;\n  padding: 1.5rem;\n  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);\n  border-radius: 12px;\n  border: 1px solid #e0e0e0;\n}\n\n.info-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1rem;\n  margin-top: 1rem;\n}\n\n.info-item {\n  display: flex;\n  flex-direction: column;\n  padding: 0.8rem;\n  background: #fff;\n  border-radius: 8px;\n  border: 1px solid #f0f0f0;\n}\n\n.info-label {\n  font-weight: 600;\n  color: #555;\n  margin-bottom: 0.3rem;\n  font-size: 0.9rem;\n}\n\n.info-value {\n  color: #2c3e50;\n  font-size: 1rem;\n}\n\n/* è¡Œç¨‹äº®ç‚¹åˆ—è¡¨ */\n.highlights-list {\n  list-style: none;\n  padding-left: 0;\n}\n\n.highlights-list li {\n  padding: 0.8rem 1rem;\n  margin-bottom: 0.8rem;\n  background: linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%);\n  border-left: 4px solid #3498db;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.highlights-list li:hover {\n  background: linear-gradient(90deg, #e8f4fd 0%, #f8f9fa 100%);\n  border-left-color: #2980b9;\n  transform: translateX(5px);\n  box-shadow: 0 2px 8px rgba(52, 152, 219, 0.15);\n}\n\n/* è¯¦ç»†è¡Œç¨‹åŒºåŸŸ */\n.itinerary-section {\n  margin-top: 1rem;\n}\n\n.itinerary-item {\n  padding: 1.2rem;\n  margin-bottom: 1.5rem;\n  background: #fff;\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n}\n\n.itinerary-item:hover {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  transform: translateY(-2px);\n}\n\n.itinerary-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.8rem;\n  padding-bottom: 0.6rem;\n  border-bottom: 2px solid #f0f0f0;\n}\n\n.itinerary-day {\n  color: #2c3e50;\n  font-size: 1.1rem;\n}\n\n.itinerary-time {\n  color: #7f8c8d;\n  font-size: 0.9rem;\n}\n\n.itinerary-content {\n  line-height: 1.8;\n  color: #555;\n  margin-bottom: 0.8rem;\n}\n\n.itinerary-highlight {\n  padding: 0.6rem 1rem;\n  background: linear-gradient(90deg, #e8f4fd 0%, #f0f8ff 100%);\n  border-left: 3px solid #3498db;\n  border-radius: 6px;\n  color: #2c3e50;\n  font-size: 0.95rem;\n  margin-top: 0.8rem;\n}\n\n/* å®ç”¨æç¤ºåŒºåŸŸ */\n.tips-section {\n  margin-top: 2rem;\n  padding: 1.5rem;\n  background: linear-gradient(135deg, #fff8dc 0%, #fffaed 100%);\n  border-radius: 12px;\n  border: 1px solid #f0e68c;\n}\n\n.tips-list {\n  list-style: none;\n  padding-left: 0;\n  margin-top: 1rem;\n}\n\n.tips-list li {\n  padding: 0.6rem 0.8rem;\n  margin-bottom: 0.6rem;\n  background: #fff;\n  border-radius: 6px;\n  border-left: 3px solid #f39c12;\n  color: #555;\n  transition: all 0.2s ease;\n}\n\n.tips-list li:hover {\n  background: #fffbf0;\n  transform: translateX(3px);\n}\n\n/* é¢„ç®—è¡¨æ ¼æ€»è®¡è¡Œ */\n.total-row {\n  font-weight: bold;\n  background-color: #f9f9f9;\n  border-top: 2px solid #3498db;\n}\n\n.total-row td {\n  color: #2c3e50;\n  font-size: 1.05rem;\n}\n\n/* å“åº”å¼è®¾è®¡ */\n@media (max-width: 768px) {\n  :deep(.card-body) {\n    padding: 1.5rem;\n  }\n  \n  .stat-card {\n    padding: 1rem;\n  }\n  \n  .stat-icon {\n    font-size: 2rem;\n  }\n  \n  .stat-value {\n    font-size: 1.5rem;\n  }\n  \n  .comment-item {\n    padding: 1rem;\n  }\n  \n  .info-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .basic-info-section {\n    padding: 1rem;\n  }\n  \n  .highlights-list li {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.95rem;\n  }\n  \n  .itinerary-item {\n    padding: 1rem;\n  }\n  \n  .itinerary-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.3rem;\n  }\n  \n  .itinerary-time {\n    font-size: 0.85rem;\n  }\n  \n  .itinerary-content {\n    font-size: 0.95rem;\n  }\n  \n  .tips-section {\n    padding: 1rem;\n  }\n  \n  .tips-list li {\n    font-size: 0.9rem;\n  }\n}\n\n/* è¿”å›æŒ‰é’® */\n.back-btn {\n  position: fixed;\n  top: 100px;\n  left: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  font-size: 1.8rem;\n  cursor: pointer;\n  z-index: 1000;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  opacity: 0.7;\n}\n\n.back-btn:hover {\n  background: linear-gradient(135deg, #5568d3 0%, #6a3f91 100%);\n  transform: scale(1.1);\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);\n  opacity: 1;\n}\n\n/* éŸ³ä¹æŒ‰é’® */\n.music-btn {\n  position: fixed;\n  bottom: 30px;\n  right: 30px;\n  background: rgba(255, 255, 255, 0.95);\n  border: none;\n  border-radius: 50%;\n  width: 56px;\n  height: 56px;\n  font-size: 24px;\n  cursor: pointer;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0.7;\n}\n\n.music-btn:hover {\n  background: white;\n  transform: scale(1.1);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);\n  opacity: 1;\n}\n\n/* ç§»åŠ¨ç«¯æŒ‰é’®é€‚é… */\n@media (max-width: 768px) {\n  .back-btn {\n    top: 80px;\n    left: 15px;\n    width: 45px;\n    height: 45px;\n    font-size: 1.5rem;\n  }\n  \n  .music-btn {\n    bottom: 20px;\n    right: 20px;\n    width: 50px;\n    height: 50px;\n    font-size: 20px;\n  }\n}\n</style>\n\n","/**\r\n * è¯„è®ºç›¸å…³API\r\n */\r\nimport request from './request'\r\n\r\n/**\r\n * è·å–è¯„è®ºåˆ—è¡¨\r\n * @param {Object} params - æŸ¥è¯¢å‚æ•° {trip, page_size, user}\r\n * @param {string} params.trip - æ—…è¡Œé¡µé¢æ ‡è¯†ï¼ˆå¿…éœ€ï¼‰\r\n * @param {number} params.page_size - æ¯é¡µæ•°é‡\r\n * @param {number} params.user - ç”¨æˆ·IDè¿‡æ»¤\r\n */\r\nexport const getCommentList = async (params) => {\r\n    return request.get('/comments/', { params })\r\n}\r\n\r\n/**\r\n * åˆ›å»ºè¯„è®º\r\n * @param {FormData} data - è¡¨å•æ•°æ®ï¼ˆåŒ…å«æ–‡ä»¶ï¼‰\r\n */\r\nexport const createComment = (data) => {\r\n    return request.post('/comments/', data, {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * åˆ é™¤è¯„è®º\r\n * @param {number} id - è¯„è®ºID\r\n */\r\nexport const deleteComment = (id) => {\r\n    return request.delete(`/comments/${id}/`)\r\n}\r\n\r\n/**\r\n * è·å–è¯„è®ºè¯¦æƒ…\r\n * @param {number} id - è¯„è®ºID\r\n */\r\nexport const getCommentDetail = (id) => {\r\n    return request.get(`/comments/${id}/`)\r\n}\r\n\r\n/**\r\n * ä¸ºè¯„è®ºæ·»åŠ å›¾ç‰‡\r\n * @param {number} id - è¯„è®ºID\r\n * @param {FormData} data - è¡¨å•æ•°æ®ï¼ˆåŒ…å«å›¾ç‰‡æ–‡ä»¶ï¼‰\r\n */\r\nexport const addCommentImage = (id, data) => {\r\n    return request.post(`/comments/${id}/add_image/`, data, {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * æ›´æ–°è¯„è®ºå†…å®¹\r\n * @param {number} id - è¯„è®ºID\r\n * @param {Object} data - è¯„è®ºæ•°æ® {content}\r\n */\r\nexport const updateComment = (id, data) => {\r\n    return request.patch(`/comments/${id}/`, data)\r\n}\r\n\r\n/**\r\n * è·å–è¯„è®ºçš„å›å¤åˆ—è¡¨\r\n * @param {number} id - è¯„è®ºID\r\n */\r\nexport const getCommentReplies = (id) => {\r\n    return request.get(`/comments/${id}/replies/`)\r\n}\r\n\r\n","/**\r\n * æ—…è¡Œé¡µé¢é…ç½®\r\n * ä¸ºä¸åŒçš„æ—…è¡Œé¡µé¢æä¾›ä¸ªæ€§åŒ–è®¾ç½®\r\n */\r\n\r\nexport const tripConfigs = {\r\n    // å¦é—¨æ—…è¡Œ\r\n    trip: {\r\n        title: '2025å¹´å¦é—¨æ—…è¡Œè®¡åˆ’',\r\n        backgroundColor: '#f0e68c',\r\n        dates: {\r\n            start: '2025-06-22',\r\n            end: '2025-06-24'\r\n        },\r\n        icon: 'ğŸ–ï¸',\r\n        // è¡Œç¨‹æ¦‚è§ˆé…ç½®\r\n        overview: {\r\n            // åŸºæœ¬ä¿¡æ¯\r\n            basicInfo: {\r\n                departure: 'å—æ˜Œ',\r\n                destination: 'å¦é—¨',\r\n                transport: 'é«˜é“å¾€è¿”ï¼ˆ221å…ƒÃ—2ï¼‰',\r\n                accommodation: 'å—æ«äº‘å±…é…’åº—ï¼ˆè¿‘æ¤ç‰©å›­ï¼Œ2æ™šï¼‰'\r\n            },\r\n            // è¡Œç¨‹äº®ç‚¹\r\n            highlights: [\r\n                'ğŸï¸ å¦é—¨æ¤ç‰©å›­ - çƒ­å¸¦é›¨æ—å¥‡è§‚ï¼Œå‚æ™šå…‰çº¿æŸ”å’Œ',\r\n                'ğŸŒŠ é¼“æµªå±¿ - æ–‡è‰ºå²›å±¿ï¼Œæµ·ä¸ŠèŠ±å›­æ¼«æ­¥',\r\n                'ğŸ–ï¸ æ›¾ååµ - æ–‡è‰ºå°åº—æ¢ç§˜ï¼Œä½“éªŒæµ·æ»¨æ…¢ç”Ÿæ´»',\r\n                'ğŸš´ ç¯å²›è·¯ - æµ·è¾¹éª‘è¡Œï¼Œæ¬£èµæ— æ•Œæµ·æ™¯',\r\n                'ğŸŒ… çœ‹æ—¥å‡ºæ—¥è½ - ç›¼å½’å¡”/ç™½åŸæ²™æ»©ï¼Œæ•æ‰æœ€ç¾æ—¶åˆ»'\r\n            ],\r\n            // è¯¦ç»†è¡Œç¨‹\r\n            itinerary: [\r\n                {\r\n                    day: 'ç¬¬ä¸€å¤©ï¼ˆ6æœˆ22æ—¥ï¼‰',\r\n                    time: '14:04æŠµè¾¾',\r\n                    content: '14:04æŠµè¾¾å¦é—¨åŒ—ç«™ â†’ å…¥ä½é…’åº— â†’ 16:00-18:00å¦é—¨æ¤ç‰©å›­ï¼ˆå­¦ç”Ÿç¥¨14.86å…ƒï¼‰â†’ æ²™å¡å°¾/æ›¾ååµæ™šé¤ â†’ æµ·è¾¹æ•£æ­¥/é›†å¸‚',\r\n                    highlight: 'ğŸŒ¿ æ¤ç‰©å›­ç¯å¢ƒä¼˜ç¾ï¼Œé€‚åˆæ‹ç…§'\r\n                },\r\n                {\r\n                    day: 'ç¬¬äºŒå¤©ï¼ˆ6æœˆ23æ—¥ï¼‰',\r\n                    time: '05:21æ—¥å‡º',\r\n                    content: '4:20èµ·åºŠçœ‹æ—¥å‡ºï¼ˆç›¼å½’å¡”/ç™½åŸæ²™æ»©ï¼‰â†’ 09:00-13:00é¼“æµªå±¿ â†’ 14:30-17:30å…«å¸‚+ä¸­å±±è·¯æ­¥è¡Œè¡— â†’ å‚æ™šæµ·è¾¹çœ‹æ—¥è½',\r\n                    highlight: 'ğŸï¸ é¼“æµªå±¿æ–‡è‰ºå²›å±¿ï¼›ğŸ›ï¸ å…«å¸‚çƒŸç«æ°”æµ“åš'\r\n                },\r\n                {\r\n                    day: 'ç¬¬ä¸‰å¤©ï¼ˆ6æœˆ24æ—¥ï¼‰',\r\n                    time: '15:54è¿”ç¨‹',\r\n                    content: 'ä¸Šåˆé¸¿å±±å…¬å›­ â†’ å—æ™®é™€å¯ºå‚æ‹œ â†’ åˆé¤ â†’ 14:00å‰å¾€å¦é—¨åŒ—ç«™ â†’ 15:54é«˜é“è¿”ç¨‹',\r\n                    highlight: 'ğŸ¯ æ™®é™€å¯ºä½“éªŒä½›æ•™æ–‡åŒ–'\r\n                }\r\n            ],\r\n            // é¢„ç®—æ˜ç»†\r\n            budget: {\r\n                items: [\r\n                    { name: 'å¾€è¿”é«˜é“', amount: 442, note: 'å—æ˜Œ-å¦é—¨ 221Ã—2' },\r\n                    { name: 'æ™¯ç‚¹é—¨ç¥¨', amount: 120, note: 'å­¦ç”Ÿç¥¨' },\r\n                    { name: 'åœ°é“+å¸‚å†…äº¤é€š', amount: 100, note: 'å«åœ°é“ã€çŸ­æ‰“è½¦' },\r\n                    { name: 'ä½å®¿', amount: 800, note: 'å—æ«äº‘å±…2æ™š' },\r\n                    { name: 'é¤é¥®', amount: 600, note: 'ç‰¹è‰²æµ·é²œ+å°åƒ' },\r\n                    { name: 'å…¶ä»–æ¶ˆè´¹', amount: 138, note: 'é›¶é£Ÿã€çºªå¿µå“' }\r\n                ],\r\n                total: 2200\r\n            },\r\n            // å®ç”¨æç¤º\r\n            tips: [\r\n                'ğŸ“¸ æœ€ä½³æ‹ç…§æ—¶é—´ï¼šæ—©æ™šå…‰çº¿æŸ”å’Œ',\r\n                'ğŸŒ… æ—¥å‡ºæ—¶é—´05:21ï¼Œå»ºè®®4:20èµ·åºŠ',\r\n                'ğŸ« æå‰è´­ä¹°å­¦ç”Ÿç¥¨ï¼ŒèŠ‚çœè´¹ç”¨',\r\n                'ğŸ–ï¸ æå‰é¢„å®šé è¿‘æ¤ç‰©å›­çš„é…’åº—',\r\n                'ğŸœ å¿…å°ï¼šæ²™èŒ¶é¢ã€æµ·è›ç…ã€èŠ±ç”Ÿæ±¤'\r\n            ]\r\n        }\r\n    },\r\n\r\n    // ä¸‰å²”æ²³ä¸€æ—¥æ¸¸\r\n    trip1: {\r\n        title: '2025å¹´7æœˆä¸‰å²”æ²³ä¸€æ—¥æ¸¸è®¡åˆ’',\r\n        backgroundColor: '#f0e68c',\r\n        dates: {\r\n            start: '2025-07-15',\r\n            end: '2025-07-15'\r\n        },\r\n        icon: 'ğŸï¸',\r\n        overview: {\r\n            // åŸºæœ¬ä¿¡æ¯\r\n            basicInfo: {\r\n                participants: 'J.Grigg å’Œ Leo_Winston',\r\n                departure: 'é™†è‰¯',\r\n                destination: 'ä¸‰å²”æ²³é•‡',\r\n                transport: 'è‡ªé©¾/åŒ…è½¦',\r\n                duration: '1å¤©'\r\n            },\r\n            // è¡Œç¨‹äº®ç‚¹\r\n            highlights: [\r\n                'ğŸï¸ é¾™æµ·å±±Â·é¾™å‡¤å¯º - å¾’æ­¥ç™»å±±ï¼Œä¿¯ç°å…¨æ™¯',\r\n                'ğŸ’§ ç™½æ°´å¡˜ - èµè·èŠ±ï¼Œé‡é¤å¹é£',\r\n                'ğŸŒ¿ ç´«æºªæ¹¿åœ°å…¬å›­ - èµæ™¯æ‹ç…§ï¼Œè½»æ¾æ•£æ­¥',\r\n                'ğŸ¦¢ è§‚é¸Ÿèƒœåœ° - é‚‚é€…é‡ç”Ÿé¸Ÿç±»',\r\n                'ğŸŒƒ ä¸‰å²”æ²³é•‡å¤œæ¸¸ - æ„Ÿå—å½“åœ°äººæ–‡'\r\n            ],\r\n            // è¯¦ç»†è¡Œç¨‹\r\n            itinerary: [\r\n                { day: 'ä¸Šåˆ', time: '08:30-10:00', content: 'é¾™æµ·å±±Â·é¾™å‡¤å¯º - å¾’æ­¥ç™»å±±ï¼Œæ‹ç…§æ‰“å¡' },\r\n                { day: 'ä¸Šåˆ', time: '10:00-11:30', content: 'ç™½æ°´å¡˜ - æ¬£èµè·èŠ±ï¼Œé‡é¤å¹é£' },\r\n                { day: 'ä¸­åˆ', time: '11:30-13:00', content: 'åˆé¥­+ä¼‘æ¯ - å›å®¶åƒé¥­æˆ–é™„è¿‘å°åƒ' },\r\n                { day: 'ä¸‹åˆ', time: '13:30-15:00', content: 'ç´«æºªæ¹¿åœ°å…¬å›­ - èµæ™¯ã€æ‹ç…§ã€è½»æ¾æ•£æ­¥' },\r\n                { day: 'ä¸‹åˆ', time: '15:00-16:00', content: 'å›ç¨‹+å°é›¶é£Ÿ - ä¹°å¥¶èŒ¶å¥–åŠ±ä¸€ä¸‹è‡ªå·±' },\r\n                { day: 'æ™šä¸Š', time: '19:00-20:30', content: 'é€›ä¸‰å²”æ²³é•‡ - æ™šé¥­åæ•£æ­¥ã€å¤œæ¸¸ã€æ„Ÿå—äººæ–‡' }\r\n            ],\r\n            // é¢„ç®—æ˜ç»†\r\n            budget: {\r\n                items: [\r\n                    { name: 'äº¤é€š', amount: 100, note: 'å¾€è¿”è½¦è´¹/æ²¹è´¹' },\r\n                    { name: 'é¤é¥®', amount: 80, note: 'åˆé¤+é›¶é£Ÿ+å¥¶èŒ¶' },\r\n                    { name: 'é—¨ç¥¨', amount: 20, note: 'æ¹¿åœ°å…¬å›­é—¨ç¥¨' }\r\n                ],\r\n                total: 200\r\n            },\r\n            // å®ç”¨æç¤º\r\n            tips: [\r\n                'ğŸ“¸ æœ€ä½³æ‹ç…§ï¼šæ¸…æ™¨/å‚æ™šå…‰çº¿æŸ”å’Œ',\r\n                'ğŸ’ å»ºè®®æºå¸¦ï¼šé˜²æ™’éœœã€å¸½å­ã€æ°´',\r\n                'ğŸŒ¸ è·èŠ±æœ€ä½³è§‚èµæœŸï¼š7-8æœˆ',\r\n                'ğŸ¦¢ è§‚é¸Ÿæœ€ä½³æ—¶é—´ï¼šæ¸…æ™¨æˆ–å‚æ™š',\r\n                'ğŸ¥¾ ç©¿èˆ’é€‚çš„é‹å­ï¼Œä¾¿äºå¾’æ­¥'\r\n            ]\r\n        }\r\n    },\r\n\r\n    // æ›²é–å¸‚åŒºä¸¤æ—¥æ¸¸\r\n    trip2: {\r\n        title: 'æ›²é–å¸‚åŒºä¸¤æ—¥æ¸¸',\r\n        backgroundColor: '#f0e68c',\r\n        dates: {\r\n            start: '2025-08-10',\r\n            end: '2025-08-11'\r\n        },\r\n        icon: 'ğŸ™ï¸',\r\n        overview: {\r\n            // åŸºæœ¬ä¿¡æ¯\r\n            basicInfo: {\r\n                participants: 'J.Grigg å’Œ Leo_Winston',\r\n                departure: 'é™†è‰¯',\r\n                destination: 'æ›²é–å¸‚åŒº',\r\n                transport: 'å¤§å·´å¾€è¿”',\r\n                departureTime: '2025å¹´7æœˆ13æ—¥ 08:00',\r\n                budget: 'çº¦450å…ƒ/2äºº'\r\n            },\r\n            // è¡Œç¨‹äº®ç‚¹\r\n            highlights: [\r\n                'ğŸ›ï¸ æ›²é–å¤åŸ - æ¢ç´¢å†å²æ–‡åŒ–ï¼Œå“å‘³å¤éŸµ',\r\n                'ğŸœ è¿‡æ¡¥ç±³çº¿ - å“å°æ›²é–åœ°é“ç¾é£Ÿ',\r\n                'ğŸŒ³ éº’éºŸå…¬å›­ - åŸå¸‚ç»¿è‚ºï¼Œä¼‘é—²æ¼«æ­¥',\r\n                'ğŸ”ï¸ ç æ±Ÿæºé£æ™¯åŒº - æ¢å¯»ç æ±Ÿä¹‹æº',\r\n                'ğŸ›ï¸ å—åŸé—¨å•†åœˆ - ç‰¹äº§é‡‡è´­ï¼Œä½“éªŒç¹å'\r\n            ],\r\n            // è¯¦ç»†è¡Œç¨‹\r\n            itinerary: [\r\n                {\r\n                    day: 'ç¬¬ä¸€å¤©',\r\n                    time: '08:00å‡ºå‘',\r\n                    content: '08:00é™†è‰¯å‡ºå‘ï¼ˆå¤§å·´ï¼‰â†’ æŠµè¾¾æ›²é– â†’ å…¥ä½é…’åº— â†’ æ›²é–å¤åŸæ¸¸è§ˆ â†’ å“å°è¿‡æ¡¥ç±³çº¿ â†’ éº’éºŸå…¬å›­æ•£æ­¥ â†’ æ™šé¤ä½“éªŒæœ¬åœ°ç‰¹è‰²',\r\n                    highlight: 'ğŸ›ï¸ å¤åŸå†å²éŸµå‘³æµ“åš'\r\n                },\r\n                {\r\n                    day: 'ç¬¬äºŒå¤©',\r\n                    time: 'å…¨å¤©',\r\n                    content: 'æ—©é¤ â†’ ç æ±Ÿæºé£æ™¯åŒºæ¸¸è§ˆ â†’ åˆé¤ â†’ å—åŸé—¨å•†åœˆè´­ç‰© â†’ é‡‡è´­ç‰¹äº§ â†’ è¿”ç¨‹å›é™†è‰¯',\r\n                    highlight: 'ğŸ”ï¸ ç æ±Ÿæºæ¢ç§˜ï¼Œè´­ç‰©ä¼‘é—²'\r\n                }\r\n            ],\r\n            // é¢„ç®—æ˜ç»†\r\n            budget: {\r\n                items: [\r\n                    { name: 'äº¤é€š', amount: 150, note: 'å¤§å·´å¾€è¿”' },\r\n                    { name: 'ä½å®¿', amount: 80, note: '1æ™šç»æµå‹é…’åº—' },\r\n                    { name: 'é¤é¥®', amount: 150, note: 'è¿‡æ¡¥ç±³çº¿+ç‰¹è‰²èœ' },\r\n                    { name: 'é—¨ç¥¨', amount: 50, note: 'æ™¯ç‚¹é—¨ç¥¨' },\r\n                    { name: 'ç¼“å†²', amount: 20, note: 'åº”æ€¥å¤‡ç”¨' }\r\n                ],\r\n                total: 450\r\n            },\r\n            // å®ç”¨æç¤º\r\n            tips: [\r\n                'ğŸœ å¿…å°ï¼šæ›²é–è¿‡æ¡¥ç±³çº¿ã€è’¸é¥µä¸',\r\n                'ğŸ›ï¸ å¤åŸæœ€ä½³æ¸¸è§ˆæ—¶é—´ï¼šä¸Šåˆæˆ–å‚æ™š',\r\n                'ğŸ’ å»ºè®®æºå¸¦ï¼šé›¨ä¼ã€é˜²æ™’ç”¨å“',\r\n                'ğŸ›ï¸ ç‰¹äº§æ¨èï¼šæ›²é–éŸ­èœèŠ±ã€å®£å¨ç«è…¿',\r\n                'ğŸ’° æå‰é¢„å®šé…’åº—ï¼Œæ€§ä»·æ¯”æ›´é«˜'\r\n            ]\r\n        }\r\n    },\r\n\r\n    // æ˜†æ˜ä¸‰å¤©ä¸¤å¤œæ—…è¡Œ\r\n    trip3: {\r\n        title: 'æ˜†æ˜ä¸‰å¤©ä¸¤å¤œæ—…è¡Œ',\r\n        backgroundColor: '#f0e68c',\r\n        dates: {\r\n            start: '2025-09-01',\r\n            end: '2025-09-03'\r\n        },\r\n        icon: 'ğŸŒ¸',\r\n        overview: {\r\n            // åŸºæœ¬ä¿¡æ¯\r\n            basicInfo: {\r\n                participants: 'J.Grigg å’Œ Leo_Winston',\r\n                departureTime: '2025å¹´7æœˆ19æ—¥ 08:00',\r\n                returnTime: 'ç¬¬ä¸‰å¤©ä¸‹åˆ 14:30-18:00',\r\n                transport: 'ä»¥åœ°é“/å…¬äº¤ä¸ºä¸»ï¼Œæ­¥è¡Œä¸ºè¾…',\r\n                budget: 'æ€»ä½“ä¸è¶…è¿‡450å…ƒ/äºº'\r\n            },\r\n            // è¡Œç¨‹äº®ç‚¹\r\n            highlights: [\r\n                'ğŸ“ è¥¿å—è”å¤§æ—§å€ - æ„Ÿå—å†å²åº•è•´ï¼Œæ ¡å›­äººæ–‡',\r\n                'ğŸŒ¸ ç¿ æ¹–å…¬å›­ - æ¹–è¾¹æ¼«æ­¥ï¼Œå†¬å­£è§‚çº¢å˜´é¸¥',\r\n                'ğŸ”ï¸ è¥¿å±±é£æ™¯åŒº - ç´¢é“ä¿¯ç°æ»‡æ± ï¼Œé¾™é—¨çŸ³çªŸ',\r\n                'ğŸŒŠ æ»‡æ± æµ·åŸ‚å…¬å›­ - é«˜åŸæ˜ç ï¼Œæ‹ç…§åœ£åœ°',\r\n                'ğŸ„ é‡ç”ŸèŒç«é”… - äº‘å—ç‰¹è‰²ï¼ŒèˆŒå°–äº«å—',\r\n                'ğŸ¡ å…¬å›­1903 - æ¬§å¼å»ºç­‘ï¼Œæ‘©å¤©è½®æ‰“å¡'\r\n            ],\r\n            // è¯¦ç»†è¡Œç¨‹\r\n            itinerary: [\r\n                {\r\n                    day: 'ç¬¬ä¸€å¤©ï¼ˆåŸå¸‚æ–‡è‰ºçº¿ï¼‰',\r\n                    time: '08:00-22:00',\r\n                    content: '08:00-12:00 å‡ºå‘+æŠµè¾¾æ˜†æ˜+åœ°é“å‰å¾€è¥¿å—è”å¤§ â†’ 12:00-13:00 æ–‡æ—è¡—åˆé¤ï¼ˆç±³çº¿/çƒ§çƒ¤ï¼‰â†’ 13:00-15:00 è¥¿å—è”å¤§æ—§å€&äº‘å—å¤§å­¦ â†’ 15:00-17:00 æ–‡æ—è¡—+æ–‡åŒ–å··+ç¿ æ¹–å…¬å›­ â†’ 17:00-18:00 é™†å†›è®²æ­¦å ‚ â†’ 18:00-19:30 æ™šé¤ â†’ 20:00-21:30 æ–‡æ—è¡—å‘¨å›´æ•£æ­¥ â†’ 22:00å…¥ä½é…’åº—',\r\n                    highlight: 'ğŸ“ æ„Ÿå—å¤§å­¦åŸæ–‡è‰ºæ°”æ¯ï¼Œå†å²å»ºç­‘æ‹ç…§'\r\n                },\r\n                {\r\n                    day: 'ç¬¬äºŒå¤©ï¼ˆå±±æ°´è‡ªç„¶çº¿ï¼‰',\r\n                    time: '07:00-22:00',\r\n                    content: '07:00-08:00 æ—©é¤ï¼ˆè±†æµ†+çƒ§é¥µå—/å°é”…ç±³çº¿ï¼‰â†’ 08:00-12:30 è¥¿å±±é£æ™¯åŒºï¼ˆé¾™é—¨ï¼‰ï¼Œåœ°é“3å·çº¿+ç´¢é“ä¿¯ç°æ»‡æ±  â†’ 12:30-13:30 åˆé¤ â†’ 14:00-16:00 æ»‡æ± æµ·åŸ‚å…¬å›­æ¼«æ­¥æ‹ç…§ â†’ 16:30-18:00 å…¬å›­1903ï¼ˆæ¬§å¼å»ºç­‘/æ‘©å¤©è½®ï¼‰â†’ 18:30-20:00 æ™šé¤ï¼ˆç‚¸æ´‹èŠ‹/çƒ§çƒ¤ï¼‰â†’ 20:30-22:00 è¿”å›é…’åº—ä¼‘æ¯',\r\n                    highlight: 'ğŸ”ï¸ è¥¿å±±é¾™é—¨+æ»‡æ± ç¾æ™¯ï¼Œè‡ªç„¶é£å…‰æ»¡åˆ†'\r\n                },\r\n                {\r\n                    day: 'ç¬¬ä¸‰å¤©ï¼ˆæ‚ é—²å¸‚äº•çº¿ï¼‰',\r\n                    time: '07:30-18:00',\r\n                    content: '07:30-08:30 æ—©é¤+é€€æˆ¿ â†’ 09:00-11:00 ä¸œå—äºšé£æƒ…å¸‚åœº+æ¹–æ»¨ç”Ÿæ€æ¹¿åœ°å…¬å›­ â†’ 11:30-13:00 åˆé¥­ â†’ 13:00-14:30 è‡ªç”±æ´»åŠ¨/è¡¥æ‹æ‰“å¡/é‡‡è´­ä¼´æ‰‹ç¤¼ â†’ 14:30-18:00 è¿”ç¨‹å›é™†è‰¯',\r\n                    highlight: 'ğŸ›ï¸ ä½“éªŒå¸‚äº•ç”Ÿæ´»ï¼Œé‡‡è´­äº‘å—ç‰¹äº§'\r\n                }\r\n            ],\r\n            // é¢„ç®—æ˜ç»†\r\n            budget: {\r\n                items: [\r\n                    { name: 'äº¤é€š', amount: 150, note: 'å¾€è¿”+åœ°é“/å…¬äº¤' },\r\n                    { name: 'ä½å®¿', amount: 160, note: '2æ™šç»æµå‹é…’åº—' },\r\n                    { name: 'é¤é¥®', amount: 100, note: 'ç±³çº¿+é‡ç”ŸèŒ+å°åƒ' },\r\n                    { name: 'é—¨ç¥¨', amount: 40, note: 'è¥¿å±±é¾™é—¨+å…¬å›­' }\r\n                ],\r\n                total: 450\r\n            },\r\n            // å®ç”¨æç¤º\r\n            tips: [\r\n                'ğŸš‡ è´­ä¹°åœ°é“ä¸€æ—¥ç¥¨ï¼Œæ›´åˆ’ç®—',\r\n                'ğŸ„ é‡ç”ŸèŒå­£èŠ‚ï¼ˆ6-10æœˆï¼‰ï¼Œå¿…å°èŒç«é”…',\r\n                'ğŸŒ¸ ç¿ æ¹–å†¬å­£ï¼ˆ11æœˆ-3æœˆï¼‰å¯è§‚çº¢å˜´é¸¥',\r\n                'â˜€ï¸ æ˜†æ˜ç´«å¤–çº¿å¼ºï¼Œæ³¨æ„é˜²æ™’',\r\n                'ğŸ¨ æå‰é¢„å®šé è¿‘åœ°é“ç«™çš„é…’åº—',\r\n                'ğŸ“¸ è¥¿å±±é¾™é—¨ç´¢é“ä¿¯ç°æ»‡æ± ï¼Œæœ€ä½³æ‹ç…§ç‚¹',\r\n                'ğŸ’° æ–‡æ—è¡—å°åƒæ€§ä»·æ¯”é«˜'\r\n            ]\r\n        }\r\n    },\r\n\r\n    // é•¿æ²™3å¤©2å¤œæ…¢æ—…è¡Œ\r\n    trip4: {\r\n        title: 'é•¿æ²™3å¤©2å¤œæ…¢æ—…è¡Œ',\r\n        backgroundColor: '#f0e68c',\r\n        dates: {\r\n            start: '2025-10-01',\r\n            end: '2025-10-03'\r\n        },\r\n        icon: 'ğŸŒ¶ï¸',\r\n        // é•¿æ²™ç‰¹è‰²æ ·å¼\r\n        customStyles: {\r\n            specialBg: 'linear-gradient(135deg, #e8f4fd 0%, #d1ecf1 100%)',\r\n            dayBorderColor: '#ff6b6b'\r\n        },\r\n        overview: {\r\n            // åŸºæœ¬ä¿¡æ¯\r\n            basicInfo: {\r\n                destination: 'é•¿æ²™',\r\n                transport: 'é«˜é“å¾€è¿”',\r\n                duration: '3å¤©2å¤œ',\r\n                theme: 'ç¾é£Ÿ+æ–‡åŒ–+å¨±ä¹'\r\n            },\r\n            // è¡Œç¨‹äº®ç‚¹\r\n            highlights: [\r\n                'ğŸ® æ©˜å­æ´²å¤´ - æ¯›æ³½ä¸œé’å¹´è‰ºæœ¯é›•å¡‘ï¼Œæ¹˜æ±Ÿç¾æ™¯',\r\n                'ğŸŒ¶ï¸ å¤ªå¹³è¡— - é•¿æ²™è‡­è±†è…ã€ç³–æ²¹ç²‘ç²‘ã€å°é¾™è™¾',\r\n                'ğŸ›ï¸ å²³éº“ä¹¦é™¢ - åƒå¹´å­¦åºœï¼Œ\"æƒŸæ¥šæœ‰æï¼Œäºæ–¯ä¸ºç››\"',\r\n                'ğŸ‚ çˆ±æ™šäº­ - æœç‰§ã€Šå±±è¡Œã€‹å–æ™¯åœ°',\r\n                'ğŸ­ æ¹–å—å«è§† - å¨±ä¹ä¹‹éƒ½ï¼ŒèŠ’æœå°æ‰“å¡',\r\n                'ğŸ›ï¸ æ¹–å—çœåšç‰©é¦† - é©¬ç‹å †æ±‰å¢“ï¼Œè¾›è¿½å¤«äºº',\r\n                'ğŸœ è§£æ”¾è¥¿è·¯ - å¤œç”Ÿæ´»åœ£åœ°ï¼Œé…’å§ä¸€æ¡è¡—'\r\n            ],\r\n            // è¯¦ç»†è¡Œç¨‹\r\n            itinerary: [\r\n                {\r\n                    day: 'ç¬¬ä¸€å¤©ï¼ˆåŸå¸‚åˆä½“éªŒï¼‰',\r\n                    time: 'å…¨å¤©',\r\n                    content: 'æŠµè¾¾é•¿æ²™ â†’ å…¥ä½é…’åº— â†’ æ©˜å­æ´²å¤´ï¼ˆåœ°é“2å·çº¿ï¼‰çœ‹æ¹˜æ±Ÿ+æ¯›æ³½ä¸œé›•å¡‘ â†’ å¤ªå¹³è¡—ç¾é£Ÿè¡—ï¼ˆè‡­è±†è…/ç³–æ²¹ç²‘ç²‘/èŒ¶é¢œæ‚¦è‰²ï¼‰â†’ é»„å…´è·¯æ­¥è¡Œè¡— â†’ è§£æ”¾è¥¿è·¯é…’å§è¡—å¤œç”Ÿæ´»',\r\n                    highlight: 'ğŸ® æ„Ÿå—é•¿æ²™çƒŸç«æ°”ï¼Œå“å°åœ°é“å°åƒ'\r\n                },\r\n                {\r\n                    day: 'ç¬¬äºŒå¤©ï¼ˆæ–‡åŒ–æ·±åº¦æ¸¸ï¼‰',\r\n                    time: 'å…¨å¤©',\r\n                    content: 'å²³éº“å±±å¾’æ­¥ï¼ˆç´¢é“ä¸Šå±±ï¼Œæ­¥è¡Œä¸‹å±±ï¼‰â†’ å²³éº“ä¹¦é™¢ï¼ˆé—¨ç¥¨50å…ƒï¼‰â†’ çˆ±æ™šäº­æ‹ç…§ â†’ æ¹–å—å¤§å­¦æ ¡å›­ â†’ æ²³è¥¿å¤§å­¦åŸç¾é£Ÿ â†’ æ¹˜æ±Ÿè¾¹æ•£æ­¥çœ‹å¤œæ™¯',\r\n                    highlight: 'ğŸ›ï¸ åƒå¹´å­¦åºœæ–‡åŒ–ç†é™¶ï¼Œå±±æ°´ä¹‹é—´å¾’æ­¥'\r\n                },\r\n                {\r\n                    day: 'ç¬¬ä¸‰å¤©ï¼ˆåšç‰©é¦†+è´­ç‰©ï¼‰',\r\n                    time: 'è¿”ç¨‹å‰',\r\n                    content: 'æ¹–å—çœåšç‰©é¦†ï¼ˆé©¬ç‹å †æ±‰å¢“ï¼Œéœ€é¢„çº¦ï¼‰â†’ IFSå›½é‡‘ä¸­å¿ƒ/äº”ä¸€å¹¿åœºè´­ç‰© â†’ æ‰“å¡ç½‘çº¢åº— â†’ é‡‡è´­ç‰¹äº§ï¼ˆé…±æ¿é¸­/æ§Ÿæ¦”/è¾£æ¡ï¼‰â†’ é«˜é“è¿”ç¨‹',\r\n                    highlight: 'ğŸ›ï¸ æ¢ç§˜ä¸¤åƒå¹´å¤å¢“ï¼Œç°ä»£ä¸å†å²äº¤è'\r\n                }\r\n            ],\r\n            // é¢„ç®—æ˜ç»†\r\n            budget: {\r\n                items: [\r\n                    { name: 'é«˜é“å¾€è¿”', amount: 800, note: 'äºŒç­‰åº§' },\r\n                    { name: 'ä½å®¿', amount: 600, note: '2æ™šå¸‚ä¸­å¿ƒé…’åº—' },\r\n                    { name: 'é¤é¥®', amount: 500, note: 'æ¹˜èœ+å°åƒ+å¥¶èŒ¶' },\r\n                    { name: 'é—¨ç¥¨', amount: 100, note: 'å²³éº“ä¹¦é™¢50+ç´¢é“' },\r\n                    { name: 'å¸‚å†…äº¤é€š', amount: 50, note: 'åœ°é“+å…¬äº¤' }\r\n                ],\r\n                total: 2050\r\n            },\r\n            // å®ç”¨æç¤º\r\n            tips: [\r\n                'ğŸŒ¶ï¸ é•¿æ²™èœåè¾£ï¼Œä¸åƒè¾£æå‰è¯´æ˜',\r\n                'ğŸ« æ¹–å—çœåšç‰©é¦†éœ€æå‰3å¤©é¢„çº¦',\r\n                'â˜• èŒ¶é¢œæ‚¦è‰²æ˜¯é•¿æ²™ç‰¹è‰²å¥¶èŒ¶ï¼Œå¿…æ‰“å¡',\r\n                'ğŸš‡ åŠç†é•¿æ²™åœ°é“3æ—¥å¡æ›´åˆ’ç®—',\r\n                'ğŸ¨ ä½äº”ä¸€å¹¿åœº/é»„å…´è·¯é™„è¿‘ï¼Œäº¤é€šä¾¿åˆ©',\r\n                'ğŸ“¸ æ©˜å­æ´²çƒŸèŠ±ï¼šæ¯å‘¨å…­æ™š20:30ï¼ˆå¤å­£ï¼‰',\r\n                'ğŸœ å¿…åƒï¼šæ–‡å’Œå‹ã€ç‚ŠçƒŸæ—¶ä»£å°ç‚’é»„ç‰›è‚‰'\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * è·å–æ—…è¡Œé…ç½®\r\n * @param {string} slug - æ—…è¡Œæ ‡è¯†ç¬¦\r\n * @returns {object} é…ç½®å¯¹è±¡\r\n */\r\nexport const getTripConfig = (slug) => {\r\n    return tripConfigs[slug] || {\r\n        title: 'æ—…è¡Œè®¡åˆ’',\r\n        backgroundColor: '#f0e68c',\r\n        dates: null,\r\n        icon: 'ğŸ—ºï¸'\r\n    }\r\n}\r\n\r\nexport default {\r\n    tripConfigs,\r\n    getTripConfig\r\n}\r\n\r\n","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <h3 class=\"mb-3\">ğŸŒŠ æ—…è¡Œè¿›åº¦æ¡</h3>\r\n      <div class=\"progress-container\">\r\n        <div \r\n          class=\"progress-bar\" \r\n          :style=\"{ width: progress + '%' }\"\r\n        >\r\n          {{ progress }}%\r\n        </div>\r\n      </div>\r\n      <p v-if=\"message\" class=\"text-muted text-center mt-3 mb-0\">\r\n        {{ message }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\n\r\nexport default {\r\n  name: 'TripProgress',\r\n  \r\n  props: {\r\n    startDate: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    endDate: {\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  \r\n  setup(props) {\r\n    const progress = ref(0)\r\n    const message = ref('')\r\n    \r\n    const calculateProgress = () => {\r\n      if (!props.startDate || !props.endDate) {\r\n        progress.value = 50\r\n        message.value = 'æ—…è¡Œè¿›åº¦åŠ è½½ä¸­...'\r\n        return\r\n      }\r\n      \r\n      const now = new Date()\r\n      const start = new Date(props.startDate)\r\n      const end = new Date(props.endDate)\r\n      \r\n      if (now < start) {\r\n        progress.value = 0\r\n        message.value = 'æ—…è¡Œå³å°†å¼€å§‹ï¼'\r\n      } else if (now > end) {\r\n        progress.value = 100\r\n        message.value = 'æ—…è¡Œå·²ç»“æŸï¼ŒæœŸå¾…ä¸‹æ¬¡æ—…ç¨‹ï¼'\r\n      } else {\r\n        const total = end - start\r\n        const elapsed = now - start\r\n        progress.value = Math.round((elapsed / total) * 100)\r\n        message.value = `æ—…è¡Œè¿›è¡Œä¸­ï¼Œå·²å®Œæˆ ${progress.value}%`\r\n      }\r\n    }\r\n    \r\n    onMounted(() => {\r\n      calculateProgress()\r\n    })\r\n    \r\n    return {\r\n      progress,\r\n      message\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.progress-container {\r\n  background: #e0e0e0;\r\n  border-radius: 20px;\r\n  overflow: hidden;\r\n  height: 28px;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.progress-bar {\r\n  background: linear-gradient(90deg, #4caf50 0%, #45a049 100%);\r\n  height: 100%;\r\n  text-align: center;\r\n  color: white;\r\n  line-height: 28px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  transition: width 0.6s ease;\r\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n</style>\r\n\r\n","import { render } from \"./TripProgress.vue?vue&type=template&id=3d7e4ff4&scoped=true\"\nimport script from \"./TripProgress.vue?vue&type=script&lang=js\"\nexport * from \"./TripProgress.vue?vue&type=script&lang=js\"\n\nimport \"./TripProgress.vue?vue&type=style&index=0&id=3d7e4ff4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d7e4ff4\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"stats-card\">\r\n    <div class=\"stats-container\">\r\n      <div class=\"stat-item\">\r\n        <span class=\"stat-icon\">ğŸ‘ï¸</span>\r\n        <span class=\"stat-text\">æµè§ˆé‡ï¼š<strong>{{ views }}</strong></span>\r\n      </div>\r\n      <div class=\"stat-divider\">ï½œ</div>\r\n      <div class=\"stat-item\">\r\n        <span class=\"stat-icon\">â¤ï¸</span>\r\n        <span class=\"stat-text\">ç‚¹èµï¼š<strong>{{ likes }}</strong></span>\r\n      </div>\r\n    </div>\r\n    <button \r\n      class=\"like-btn\" \r\n      @click=\"handleLike\"\r\n      :disabled=\"liking\"\r\n    >\r\n      <span v-if=\"liking\" class=\"spinner-border spinner-border-sm me-2\"></span>\r\n      ğŸ‘ {{ liking ? 'ç‚¹èµä¸­...' : 'ç‚¹èµ' }}\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\n\r\nexport default {\r\n  name: 'TripStats',\r\n  \r\n  props: {\r\n    views: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    likes: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  \r\n  emits: ['like'],\r\n  \r\n  setup(props, { emit }) {\r\n    const liking = ref(false)\r\n    \r\n    const handleLike = async () => {\r\n      liking.value = true\r\n      try {\r\n        await emit('like')\r\n      } finally {\r\n        setTimeout(() => {\r\n          liking.value = false\r\n        }, 500)\r\n      }\r\n    }\r\n    \r\n    return {\r\n      liking,\r\n      handleLike\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stats-card {\r\n  background: #fff;\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  padding: 1.5rem 2rem;\r\n  margin-bottom: 2rem;\r\n  text-align: center;\r\n}\r\n\r\n.stats-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 1.5rem;\r\n  margin-bottom: 1rem;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.stat-icon {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.stat-text {\r\n  color: #555;\r\n}\r\n\r\n.stat-text strong {\r\n  color: #2c3e50;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.stat-divider {\r\n  color: #ccc;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.like-btn {\r\n  display: inline-block;\r\n  padding: 0.6rem 1.5rem;\r\n  background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 8px rgba(52, 152, 219, 0.2);\r\n}\r\n\r\n.like-btn:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);\r\n}\r\n\r\n.like-btn:disabled {\r\n  opacity: 0.7;\r\n  cursor: not-allowed;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n  .stats-container {\r\n    font-size: 1rem;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .stat-icon {\r\n    font-size: 1.3rem;\r\n  }\r\n  \r\n  .like-btn {\r\n    font-size: 0.95rem;\r\n    padding: 0.5rem 1.2rem;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./TripStats.vue?vue&type=template&id=a55143a6&scoped=true\"\nimport script from \"./TripStats.vue?vue&type=script&lang=js\"\nexport * from \"./TripStats.vue?vue&type=script&lang=js\"\n\nimport \"./TripStats.vue?vue&type=style&index=0&id=a55143a6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a55143a6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <h3 class=\"mb-3\">ğŸ“‹ {{ title }}</h3>\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TripOverview',\r\n  \r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: 'è¡Œç¨‹æ¦‚è§ˆ'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  background: #fff;\r\n  border: none;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.card-body {\r\n  padding: 2rem;\r\n}\r\n\r\n.card-body h3 {\r\n  color: #2c3e50;\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n  border-bottom: 2px solid #f0f0f0;\r\n  padding-bottom: 0.8rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n/* ä¸ºå†…éƒ¨å†…å®¹æä¾›é»˜è®¤æ ·å¼ */\r\n:deep(h4) {\r\n  color: #34495e;\r\n  font-size: 1.1rem;\r\n  margin-top: 1.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n:deep(p) {\r\n  line-height: 1.8;\r\n  color: #555;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n:deep(ul), :deep(ol) {\r\n  padding-left: 1.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n:deep(li) {\r\n  margin-bottom: 0.5rem;\r\n  line-height: 1.6;\r\n}\r\n\r\n:deep(table) {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 1rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n:deep(table), :deep(th), :deep(td) {\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n:deep(th), :deep(td) {\r\n  padding: 0.75rem;\r\n  text-align: left;\r\n}\r\n\r\n:deep(th) {\r\n  background-color: #f5f5f5;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n:deep(tr:hover) {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .card-body {\r\n    padding: 1.5rem;\r\n  }\r\n  \r\n  .card-body h3 {\r\n    font-size: 1.1rem;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./TripOverview.vue?vue&type=template&id=f357579e&scoped=true\"\nimport script from \"./TripOverview.vue?vue&type=script&lang=js\"\nexport * from \"./TripOverview.vue?vue&type=script&lang=js\"\n\nimport \"./TripOverview.vue?vue&type=style&index=0&id=f357579e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f357579e\"]])\n\nexport default __exports__","<template>\n  <div class=\"card\">\n    <div class=\"card-body\">\n      <h3 class=\"mb-4\">ğŸ“ æ‰“å¡ä¸ç•™è¨€</h3>\n      \n      <!-- æ‰“å¡æŒ‰é’® -->\n      <div class=\"checkin-section mb-4\">\n        <button\n          class=\"btn btn-success btn-lg\"\n          @click=\"handleCheckin\"\n          :disabled=\"checking || hasCheckedIn\"\n        >\n          <span v-if=\"checking\" class=\"spinner-border spinner-border-sm me-2\"></span>\n          {{ checkinButtonText }}\n        </button>\n        <p v-if=\"hasCheckedIn\" class=\"text-success mt-2 mb-0\">\n          âœ… æ‚¨å·²æ‰“å¡æˆåŠŸï¼\n        </p>\n      </div>\n      \n      <!-- å‘è¡¨è¯„è®ºè¡¨å• - åªå¯¹ä½œè€…æ˜¾ç¤º -->\n      <CommentForm\n        v-if=\"isAuthor\"\n        :submitting=\"submitting\"\n        @submit=\"handleSubmit\"\n      />\n      \n      <!-- è¯„è®ºåˆ—è¡¨ -->\n      <div class=\"comment-list\">\n        <div class=\"d-flex justify-content-between align-items-center mb-3\">\n          <h5 class=\"mb-0\">è¯„è®ºåˆ—è¡¨ ({{ comments.length }}æ¡)</h5>\n          <!-- ç®¡ç†è¯„è®ºæ¨¡å¼åˆ‡æ¢æŒ‰é’® -->\n          <button\n            v-if=\"hasManageableComments\"\n            class=\"btn btn-sm\"\n            :class=\"isManageMode ? 'btn-secondary' : 'btn-outline-secondary'\"\n            @click=\"toggleManageMode\"\n            title=\"ç®¡ç†è¯„è®º\"\n          >\n            {{ isManageMode ? 'å®Œæˆç®¡ç†' : 'ç®¡ç†è¯„è®º' }}\n          </button>\n        </div>\n        \n        <div v-if=\"comments.length === 0\" class=\"text-center text-muted py-4\">\n          æš‚æ— è¯„è®ºï¼Œå¿«æ¥ç•™ä¸‹ç¬¬ä¸€æ¡è¯„è®ºå§ï¼\n        </div>\n        \n        <CommentItem\n          v-for=\"comment in comments\"\n          :key=\"comment.id\"\n          :comment=\"comment\"\n          :editing=\"editingComments[comment.id] !== undefined && editingComments[comment.id] !== false\"\n          :is-expanded=\"expandedReplies[comment.id] || false\"\n          :reply-count=\"(replyLists[comment.id] || []).length\"\n          :replies=\"replyLists[comment.id] || []\"\n          :get-avatar-url=\"getAvatarUrl\"\n          @show-image-modal=\"showImageModal\"\n          @toggle-reply=\"toggleReplySection\"\n          @update:content=\"(content) => updateLocalContent(comment.id, content)\"\n        >\n          <!-- æ“ä½œæŒ‰é’®æ’æ§½ -->\n          <template #actions>\n                  <template v-if=\"isManageMode\">\n                    <!-- ç¼–è¾‘æ¨¡å¼æŒ‰é’® -->\n                    <button\n                      v-if=\"comment.can_delete && !editingComments[comment.id]\"\n                      class=\"btn btn-sm btn-outline-primary\"\n                      @click=\"startEditing(comment.id, comment.content)\"\n                      title=\"ç¼–è¾‘è¯„è®º\"\n                    >\n                      âœï¸\n                    </button>\n                    <!-- ä¿å­˜æŒ‰é’® -->\n                    <button\n                      v-if=\"editingComments[comment.id]\"\n                      class=\"btn btn-sm btn-success\"\n                      @click=\"handleSaveComment(comment.id)\"\n                      title=\"ä¿å­˜ä¿®æ”¹\"\n                    >\n                      âœ“\n                    </button>\n              <!-- æ·»åŠ /æ›¿æ¢å›¾ç‰‡æŒ‰é’® -->\n                    <button\n                      v-if=\"canAddImage(comment) && editingComments[comment.id]\"\n                      class=\"btn btn-sm btn-outline-success\"\n                      @click=\"handleAddImage(comment.id)\"\n                      :title=\"comment.image ? 'æ›¿æ¢å›¾ç‰‡' : 'æ·»åŠ å›¾ç‰‡'\"\n                    >\n                      ğŸ“·\n                    </button>\n                    <!-- å–æ¶ˆç¼–è¾‘æŒ‰é’® -->\n                    <button\n                      v-if=\"editingComments[comment.id]\"\n                      class=\"btn btn-sm btn-outline-secondary\"\n                      @click=\"cancelEditing(comment.id)\"\n                      title=\"å–æ¶ˆ\"\n                    >\n                      âœ•\n                    </button>\n              <!-- åˆ é™¤æŒ‰é’® -->\n                    <button\n                      v-if=\"comment.can_delete\"\n                      class=\"btn btn-sm btn-outline-danger\"\n                      @click=\"handleDelete(comment.id)\"\n                      title=\"åˆ é™¤è¿™æ¡è¯„è®º\"\n                    >\n                      ğŸ—‘ï¸\n                    </button>\n                  </template>\n          </template>\n          \n          <!-- å›å¤åŒºåŸŸæ’æ§½ -->\n          <template #replies>\n            <ReplySection\n              v-if=\"expandedReplies[comment.id]\"\n              :expanded=\"expandedReplies[comment.id]\"\n              :replies=\"replyLists[comment.id] || []\"\n              :submitting=\"submittingReply[comment.id] || false\"\n              :get-avatar-url=\"getAvatarUrl\"\n              @submit=\"(content) => handleSubmitReply(comment.id, content)\"\n              @cancel=\"() => cancelReply(comment.id)\"\n              @delete-reply=\"handleDeleteReply\"\n            />\n          </template>\n        </CommentItem>\n      </div>\n    </div>\n    \n    <!-- å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡† -->\n    <div v-if=\"showModal\" class=\"image-modal\" @click=\"closeImageModal\">\n      <div class=\"modal-content\" @click.stop>\n        <button class=\"close-button\" @click=\"closeImageModal\">âœ•</button>\n        <img :src=\"modalImageUrl\" alt=\"æ”¾å¤§å›¾ç‰‡\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue'\nimport CommentForm from './comments/CommentForm.vue'\nimport CommentItem from './comments/CommentItem.vue'\nimport ReplySection from './comments/ReplySection.vue'\n\nexport default {\n  name: 'CommentSection',\n  \n  components: {\n    CommentForm,\n    CommentItem,\n    ReplySection\n  },\n  \n  props: {\n    comments: {\n      type: Array,\n      default: () => []\n    },\n    isAdmin: {\n      type: Boolean,\n      default: false\n    },\n    isAuthor: {\n      type: Boolean,\n      default: false\n    },\n    hasCheckedIn: {\n      type: Boolean,\n      default: false\n    },\n    getAvatarUrl: {\n      type: Function,\n      required: true\n    }\n  },\n  \n  emits: ['checkin', 'submit-comment', 'delete-comment', 'add-image', 'update-comment', 'submit-reply', 'load-replies'],\n  \n  setup(props, { emit }) {\n    const checking = ref(false)\n    const submitting = ref(false)\n    const editingComments = ref({})\n    const isManageMode = ref(false)\n    const showModal = ref(false)\n    const modalImageUrl = ref('')\n    \n    // å›å¤åŠŸèƒ½ç›¸å…³\n    const expandedReplies = ref({})\n    const replyForms = ref({})\n    const submittingReply = ref({})\n    const replyLists = ref({})\n    const replyCounts = ref({})\n    \n    // è®¡ç®—å±æ€§\n    const hasManageableComments = computed(() => {\n      return props.comments.some(comment => comment.can_delete)\n    })\n    \n    const checkinButtonText = computed(() => {\n      if (props.hasCheckedIn) return 'âœ“ å·²æ‰“å¡'\n      if (checking.value) return 'æ‰“å¡ä¸­...'\n      return 'ğŸ“ æˆ‘æ¥è¿‡è¿™é‡Œ'\n    })\n    \n    // æ‰“å¡\n    const handleCheckin = async () => {\n      checking.value = true\n      try {\n        await emit('checkin')\n      } finally {\n        setTimeout(() => {\n          checking.value = false\n        }, 500)\n      }\n    }\n    \n    // æäº¤è¯„è®º\n    const handleSubmit = async (commentData) => {\n      submitting.value = true\n      try {\n        await emit('submit-comment', commentData)\n      } finally {\n        submitting.value = false\n      }\n    }\n    \n    // åˆ é™¤è¯„è®º\n    const handleDelete = (commentId) => {\n      emit('delete-comment', commentId)\n    }\n    \n    // æ˜¾ç¤º/å…³é—­å›¾ç‰‡æ¨¡æ€æ¡†\n    const showImageModal = (url) => {\n      modalImageUrl.value = url\n      showModal.value = true\n    }\n    \n    const closeImageModal = () => {\n      showModal.value = false\n      modalImageUrl.value = ''\n    }\n    \n    // å¯ä»¥æ·»åŠ å›¾ç‰‡çš„åˆ¤æ–­\n    const canAddImage = (comment) => {\n      return !comment.video && comment.can_delete\n    }\n    \n    // ç¼–è¾‘ç›¸å…³\n    const startEditing = (commentId, originalContent) => {\n      editingComments.value[commentId] = {\n        isEditing: true,\n        content: originalContent\n      }\n    }\n    \n    const cancelEditing = (commentId) => {\n      editingComments.value[commentId] = false\n    }\n    \n    const updateLocalContent = (commentId, content) => {\n      if (editingComments.value[commentId]) {\n        editingComments.value[commentId].content = content\n      }\n    }\n    \n    const handleSaveComment = (commentId) => {\n      const editedContent = editingComments.value[commentId]?.content\n      if (editedContent && editedContent.trim()) {\n        emit('update-comment', {\n          commentId,\n          content: editedContent.trim()\n        })\n        editingComments.value[commentId] = false\n      }\n    }\n    \n    // ç®¡ç†ç›¸å…³\n    const toggleManageMode = () => {\n      isManageMode.value = !isManageMode.value\n      if (!isManageMode.value) {\n        editingComments.value = {}\n      }\n    }\n    \n    // æ·»åŠ å›¾ç‰‡\n    const handleAddImage = (commentId) => {\n      const input = document.createElement('input')\n      input.type = 'file'\n      input.accept = 'image/*'\n      input.onchange = (e) => {\n        const file = e.target.files[0]\n        if (file) {\n          emit('add-image', { commentId, file })\n          editingComments.value[commentId] = false\n        }\n      }\n      input.click()\n    }\n    \n    // å›å¤ç›¸å…³\n    const toggleReplySection = (commentId) => {\n      expandedReplies.value[commentId] = !expandedReplies.value[commentId]\n      \n      if (expandedReplies.value[commentId]) {\n        // åˆå§‹åŒ–ç›¸å…³çŠ¶æ€\n        if (!replyForms.value[commentId]) {\n          replyForms.value[commentId] = { content: '' }\n        }\n        if (submittingReply.value[commentId] === undefined) {\n          submittingReply.value[commentId] = false\n        }\n        if (!replyLists.value[commentId]) {\n          replyLists.value[commentId] = []\n          // ç«‹å³åŠ è½½å›å¤åˆ—è¡¨\n          emit('load-replies', commentId)\n        }\n      }\n    }\n    \n    const handleSubmitReply = async (commentId, content) => {\n      submittingReply.value[commentId] = true\n      try {\n        await emit('submit-reply', {\n          commentId,\n          content\n        })\n        replyForms.value[commentId].content = ''\n        // æäº¤æˆåŠŸåï¼Œçˆ¶ç»„ä»¶ä¼šè°ƒç”¨load-repliesï¼Œè¿™é‡Œä¸éœ€è¦é‡å¤åŠ è½½\n      } catch (error) {\n        console.error('æäº¤å›å¤å¤±è´¥:', error)\n        alert('æäº¤å›å¤å¤±è´¥')\n      } finally {\n        submittingReply.value[commentId] = false\n      }\n    }\n    \n    const cancelReply = (commentId) => {\n      replyForms.value[commentId].content = ''\n    }\n    \n    // å¤„ç†åˆ é™¤å›å¤\n    const handleDeleteReply = (replyId) => {\n      emit('delete-comment', replyId)\n    }\n    \n    // ä»å¤–éƒ¨æ›´æ–°å›å¤åˆ—è¡¨çš„æ–¹æ³•ï¼ˆæš´éœ²ç»™çˆ¶ç»„ä»¶è°ƒç”¨ï¼‰\n    const updateReplyList = (commentId, replies) => {\n      // ä½¿ç”¨Vueçš„å“åº”å¼æ›´æ–°\n      replyLists.value = {\n        ...replyLists.value,\n        [commentId]: replies || []\n      }\n    }\n    \n    return {\n      checking,\n      submitting,\n      editingComments,\n      isManageMode,\n      hasManageableComments,\n      checkinButtonText,\n      expandedReplies,\n      replyForms,\n      submittingReply,\n      replyLists,\n      replyCounts,\n      showModal,\n      modalImageUrl,\n      handleCheckin,\n      handleSubmit,\n      handleDelete,\n      showImageModal,\n      closeImageModal,\n      canAddImage,\n      startEditing,\n      cancelEditing,\n      updateLocalContent,\n      handleSaveComment,\n      toggleManageMode,\n      handleAddImage,\n      toggleReplySection,\n      handleSubmitReply,\n      cancelReply,\n      handleDeleteReply,\n      updateReplyList\n    }\n  }\n}\n</script>\n\n<style scoped>\n.card {\n  background: #fff;\n  border: none;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  margin-bottom: 2rem;\n}\n\n.card-body {\n  padding: 2rem;\n}\n\n.card-body h3 {\n  color: #2c3e50;\n  font-size: 1.3rem;\n  font-weight: 600;\n  border-bottom: 2px solid #f0f0f0;\n  padding-bottom: 0.8rem;\n}\n\n.checkin-section {\n  text-align: center;\n  padding: 1.5rem;\n  background: #f8f9fa;\n  border-radius: 12px;\n}\n\n.comment-list {\n  margin-top: 2rem;\n}\n\n/* æ¨¡æ€æ¡†æ ·å¼ */\n.image-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.9);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  cursor: pointer;\n  animation: fadeIn 0.2s ease-in;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.modal-content {\n  position: relative;\n  max-width: 90vw;\n  max-height: 90vh;\n  cursor: default;\n  animation: zoomIn 0.2s ease-in;\n}\n\n@keyframes zoomIn {\n  from {\n    transform: scale(0.9);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.modal-content img {\n  max-width: 100%;\n  max-height: 90vh;\n  width: auto;\n  height: auto;\n  border-radius: 8px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\n  object-fit: contain;\n}\n\n.close-button {\n  position: absolute;\n  top: -40px;\n  right: 0;\n  background: rgba(255, 255, 255, 0.9);\n  border: none;\n  border-radius: 50%;\n  width: 36px;\n  height: 36px;\n  font-size: 20px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  color: #333;\n}\n\n.close-button:hover {\n  background: rgba(255, 255, 255, 1);\n  transform: rotate(90deg);\n}\n\n/* æŒ‰é’®é€æ˜åº¦ */\n.btn-outline-danger,\n.btn-outline-success,\n.btn-outline-primary,\n.btn-outline-secondary {\n  opacity: 0.7;\n  transition: all 0.3s ease;\n}\n\n.btn-outline-danger:hover,\n.btn-outline-success:hover,\n.btn-outline-primary:hover,\n.btn-outline-secondary:hover {\n  opacity: 1;\n  transform: scale(1.1);\n}\n\n@media (max-width: 768px) {\n  .card-body {\n    padding: 1rem;\n  }\n  \n  .card-body h3 {\n    font-size: 1.1rem;\n    padding-bottom: 0.5rem;\n  }\n  \n  .checkin-section {\n    padding: 1rem;\n  }\n  \n  .modal-content {\n    max-width: 95vw;\n  }\n  \n  .close-button {\n    top: -35px;\n    width: 32px;\n    height: 32px;\n    font-size: 18px;\n  }\n}\n</style>","<template>\r\n  <div class=\"comment-form mb-4\">\r\n    <h5 class=\"mb-3\">å‘è¡¨è¯„è®º</h5>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n      <div class=\"mb-3\">\r\n        <textarea\r\n          v-model=\"formData.content\"\r\n          class=\"form-control\"\r\n          rows=\"4\"\r\n          placeholder=\"åˆ†äº«ä½ çš„æ—…è¡Œæ•…äº‹...\"\r\n          required\r\n        ></textarea>\r\n      </div>\r\n      \r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-md-6 mb-2\">\r\n          <label class=\"form-label\">ä¸Šä¼ å›¾ç‰‡</label>\r\n          <input\r\n            type=\"file\"\r\n            class=\"form-control\"\r\n            accept=\"image/*\"\r\n            @change=\"handleImageChange\"\r\n          />\r\n        </div>\r\n        <div class=\"col-md-6 mb-2\">\r\n          <label class=\"form-label\">ä¸Šä¼ è§†é¢‘</label>\r\n          <input\r\n            type=\"file\"\r\n            class=\"form-control\"\r\n            accept=\"video/*\"\r\n            @change=\"handleVideoChange\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <button\r\n        type=\"submit\"\r\n        class=\"btn btn-primary\"\r\n        :disabled=\"submitting\"\r\n      >\r\n        <span v-if=\"submitting\" class=\"spinner-border spinner-border-sm me-2\"></span>\r\n        {{ submitting ? 'å‘å¸ƒä¸­...' : 'å‘å¸ƒè¯„è®º' }}\r\n      </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\n\r\nexport default {\r\n  name: 'CommentForm',\r\n  \r\n  props: {\r\n    submitting: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  \r\n  emits: ['submit'],\r\n  \r\n  setup(props, { emit }) {\r\n    const formData = ref({\r\n      content: '',\r\n      image: null,\r\n      video: null\r\n    })\r\n    \r\n    const handleImageChange = (event) => {\r\n      formData.value.image = event.target.files[0]\r\n    }\r\n    \r\n    const handleVideoChange = (event) => {\r\n      formData.value.video = event.target.files[0]\r\n    }\r\n    \r\n    const handleSubmit = () => {\r\n      emit('submit', {\r\n        content: formData.value.content,\r\n        image: formData.value.image,\r\n        video: formData.value.video\r\n      })\r\n      \r\n      // é‡ç½®è¡¨å•\r\n      formData.value = {\r\n        content: '',\r\n        image: null,\r\n        video: null\r\n      }\r\n    }\r\n    \r\n    return {\r\n      formData,\r\n      handleImageChange,\r\n      handleVideoChange,\r\n      handleSubmit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.comment-form {\r\n  background: #f8f9fa;\r\n  padding: 1.5rem;\r\n  border-radius: 12px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .comment-form {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .comment-form textarea {\r\n    font-size: 14px;\r\n    min-height: 80px;\r\n  }\r\n  \r\n  .comment-form input[type=\"file\"] {\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CommentForm.vue?vue&type=template&id=362e9ac8&scoped=true\"\nimport script from \"./CommentForm.vue?vue&type=script&lang=js\"\nexport * from \"./CommentForm.vue?vue&type=script&lang=js\"\n\nimport \"./CommentForm.vue?vue&type=style&index=0&id=362e9ac8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-362e9ac8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"comment-item\">\r\n    <div class=\"d-flex align-items-start\">\r\n      <img\r\n        :src=\"getAvatarUrl(comment.user.profile?.avatar_url)\"\r\n        class=\"rounded-circle me-3\"\r\n        width=\"48\"\r\n        height=\"48\"\r\n        alt=\"avatar\"\r\n        @error=\"(e) => { console.log('å¤´åƒåŠ è½½å¤±è´¥:', comment.user); e.target.src='/static/images/default_avatar.png'; }\"\r\n      />\r\n      <div class=\"flex-grow-1\">\r\n        <div class=\"d-flex justify-content-between align-items-center mb-2\">\r\n          <strong>{{ comment.user.username }}</strong>\r\n          <div class=\"d-flex gap-2 align-items-center\">\r\n            <small class=\"text-muted\">{{ formatDate(comment.timestamp) }}</small>\r\n            <!-- æ“ä½œæŒ‰é’® -->\r\n            <slot name=\"actions\"></slot>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- ç¼–è¾‘æ¨¡å¼ï¼šæ˜¾ç¤ºç¼–è¾‘æ¡† -->\r\n        <div v-if=\"editing\" class=\"mb-2\">\r\n          <textarea\r\n            v-model=\"localContent\"\r\n            class=\"form-control\"\r\n            rows=\"3\"\r\n            placeholder=\"ç¼–è¾‘è¯„è®ºå†…å®¹...\"\r\n          ></textarea>\r\n        </div>\r\n        <!-- æ™®é€šæ¨¡å¼ï¼šæ˜¾ç¤ºåŸå†…å®¹ -->\r\n        <p v-else class=\"mb-2\">{{ comment.content }}</p>\r\n        \r\n        <!-- å›¾ç‰‡ -->\r\n        <div v-if=\"comment.image\" class=\"mb-2 comment-media\">\r\n          <img\r\n            :src=\"comment.image\"\r\n            class=\"comment-image rounded\"\r\n            style=\"cursor: pointer;\"\r\n            @click=\"$emit('show-image-modal', comment.image)\"\r\n            alt=\"è¯„è®ºå›¾ç‰‡\"\r\n          />\r\n        </div>\r\n        \r\n        <!-- è§†é¢‘ -->\r\n        <div v-if=\"comment.video\" class=\"mb-2 comment-media\">\r\n          <video\r\n            :src=\"comment.video\"\r\n            controls\r\n            class=\"rounded\"\r\n          >\r\n            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾\r\n          </video>\r\n        </div>\r\n        \r\n        <!-- å›å¤æŒ‰é’® -->\r\n        <div class=\"mt-3 pt-2 border-top border-light d-flex gap-2 align-items-center\">\r\n          <button\r\n            class=\"btn btn-sm btn-link text-primary p-0 reply-toggle-btn\"\r\n            @click=\"$emit('toggle-reply', comment.id)\"\r\n          >\r\n            ğŸ’¬ {{ isExpanded ? 'æ”¶èµ·å›å¤' : 'å›å¤' }}\r\n          </button>\r\n          <span v-if=\"replyCount\" class=\"text-muted small\">\r\n            ({{ replyCount }}æ¡å›å¤)\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- å›å¤åŒºåŸŸ - ä½œä¸ºè¯„è®ºçš„ä¸€éƒ¨åˆ† -->\r\n    <div v-if=\"isExpanded\" class=\"replies-container\">\r\n      <slot name=\"replies\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from 'vue'\r\n\r\nexport default {\r\n  name: 'CommentItem',\r\n  \r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    editing: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isExpanded: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    replyCount: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    replies: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    getAvatarUrl: {\r\n      type: Function,\r\n      required: true\r\n    }\r\n  },\r\n  \r\n  emits: ['show-image-modal', 'toggle-reply', 'update:content'],\r\n  \r\n  setup(props, { emit }) {\r\n    const localContent = ref(props.comment.content)\r\n    \r\n    watch(() => props.comment.content, (newVal) => {\r\n      localContent.value = newVal\r\n    })\r\n    \r\n    watch(localContent, (newVal) => {\r\n      emit('update:content', newVal)\r\n    })\r\n    \r\n    const formatDate = (dateStr) => {\r\n      const date = new Date(dateStr)\r\n      const year = date.getFullYear()\r\n      const month = String(date.getMonth() + 1).padStart(2, '0')\r\n      const day = String(date.getDate()).padStart(2, '0')\r\n      const hours = String(date.getHours()).padStart(2, '0')\r\n      const minutes = String(date.getMinutes()).padStart(2, '0')\r\n      \r\n      return `${year}-${month}-${day} ${hours}:${minutes}`\r\n    }\r\n    \r\n    return {\r\n      localContent,\r\n      formatDate\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.comment-item {\r\n  background: #f0f0f0;\r\n  padding: 1.5rem;\r\n  border-radius: 12px;\r\n  margin-bottom: 1.5rem;\r\n  transition: all 0.3s ease;\r\n  overflow: hidden;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.comment-item:hover {\r\n  background: #e8e8e8;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.comment-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.comment-item p {\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  overflow-wrap: break-word;\r\n  max-width: 100%;\r\n}\r\n\r\n.rounded-circle {\r\n  border: 2px solid #e0e0e0;\r\n  object-fit: cover;\r\n}\r\n\r\n.comment-media {\r\n  margin-top: 1rem;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.comment-media img.comment-image {\r\n  max-width: 100%;\r\n  max-height: 500px;\r\n  width: auto;\r\n  height: auto;\r\n  object-fit: contain;\r\n  border-radius: 8px;\r\n}\r\n\r\n.comment-media img {\r\n  max-width: 100%;\r\n  height: auto;\r\n  border-radius: 8px;\r\n}\r\n\r\n.comment-media video {\r\n  width: 100%;\r\n  max-width: 100%;\r\n  height: auto;\r\n  border-radius: 8px;\r\n}\r\n\r\n.btn-link.text-primary {\r\n  text-decoration: none;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.btn-link.text-primary:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n/* å›å¤å®¹å™¨ */\r\n.replies-container {\r\n  margin-top: 0;\r\n  padding: 1rem;\r\n  background: linear-gradient(to right, #ffffff 0%, #f8f9fa 100%);\r\n  border-radius: 0 0 12px 12px;\r\n  border-top: 2px solid #e9ecef;\r\n}\r\n\r\n.reply-toggle-btn {\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n  text-decoration: none !important;\r\n}\r\n\r\n.reply-toggle-btn:hover {\r\n  transform: translateX(2px);\r\n  text-decoration: none !important;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .comment-item {\r\n    padding: 1rem;\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  .comment-item img.rounded-circle {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n  \r\n  .comment-media img.comment-image {\r\n    max-width: 100%;\r\n    max-height: 300px;\r\n    width: auto;\r\n    height: auto;\r\n    object-fit: contain;\r\n  }\r\n  \r\n  .replies-container {\r\n    padding: 0.75rem;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CommentItem.vue?vue&type=template&id=67f7ae3b&scoped=true\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js\"\n\nimport \"./CommentItem.vue?vue&type=style&index=0&id=67f7ae3b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-67f7ae3b\"]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"expanded\" class=\"reply-section\">\r\n    <!-- å›å¤è¡¨å• -->\r\n    <div class=\"reply-form mb-3\">\r\n      <textarea\r\n        v-model=\"replyContent\"\r\n        class=\"form-control form-control-sm\"\r\n        rows=\"2\"\r\n        placeholder=\"å†™ä¸‹ä½ çš„å›å¤...\"\r\n      ></textarea>\r\n      <div class=\"mt-2 d-flex gap-2\">\r\n        <button\r\n          class=\"btn btn-sm btn-primary\"\r\n          @click=\"handleSubmit\"\r\n          :disabled=\"submitting\"\r\n        >\r\n          <span v-if=\"submitting\" class=\"spinner-border spinner-border-sm me-1\"></span>\r\n          {{ submitting ? 'æäº¤ä¸­...' : 'æäº¤å›å¤' }}\r\n        </button>\r\n        <button\r\n          class=\"btn btn-sm btn-outline-secondary\"\r\n          @click=\"handleCancel\"\r\n        >\r\n          å–æ¶ˆ\r\n        </button>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- å›å¤åˆ—è¡¨ -->\r\n    <div v-if=\"replies && replies.length > 0\" class=\"reply-list\">\r\n      <div\r\n        v-for=\"reply in replies\"\r\n        :key=\"reply.id\"\r\n        class=\"reply-item mt-2 ps-3 border-start border-secondary\"\r\n      >\r\n        <div class=\"d-flex align-items-start\">\r\n          <img\r\n            :src=\"getAvatarUrl(reply.user.profile?.avatar_url)\"\r\n            class=\"rounded-circle me-2\"\r\n            width=\"32\"\r\n            height=\"32\"\r\n            alt=\"avatar\"\r\n          />\r\n          <div class=\"flex-grow-1\">\r\n            <div class=\"d-flex justify-content-between align-items-center mb-1\">\r\n              <strong class=\"small\">{{ reply.user.username }}</strong>\r\n              <div class=\"d-flex gap-2 align-items-center\">\r\n                <small class=\"text-muted\">{{ formatDate(reply.timestamp) }}</small>\r\n                <!-- åˆ é™¤æŒ‰é’® -->\r\n                <button\r\n                  v-if=\"reply.can_delete\"\r\n                  class=\"btn btn-sm p-0 text-danger\"\r\n                  style=\"border: none; background: none; font-size: 0.8rem;\"\r\n                  @click=\"$emit('delete-reply', reply.id)\"\r\n                  title=\"åˆ é™¤æ­¤å›å¤\"\r\n                >\r\n                  ğŸ—‘ï¸\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <p class=\"mb-0 small\">{{ reply.content }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from 'vue'\r\n\r\nexport default {\r\n  name: 'ReplySection',\r\n  \r\n  props: {\r\n    expanded: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    replies: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    submitting: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    getAvatarUrl: {\r\n      type: Function,\r\n      required: true\r\n    }\r\n  },\r\n  \r\n  emits: ['submit', 'cancel', 'delete-reply'],\r\n  \r\n  setup(props, { emit }) {\r\n    const replyContent = ref('')\r\n    \r\n    watch(() => props.expanded, (newVal) => {\r\n      if (!newVal) {\r\n        replyContent.value = ''\r\n      }\r\n    })\r\n    \r\n    const handleSubmit = () => {\r\n      const content = replyContent.value.trim()\r\n      if (content) {\r\n        emit('submit', content)\r\n        replyContent.value = ''\r\n      }\r\n    }\r\n    \r\n    const handleCancel = () => {\r\n      replyContent.value = ''\r\n      emit('cancel')\r\n    }\r\n    \r\n    const formatDate = (dateStr) => {\r\n      const date = new Date(dateStr)\r\n      const year = date.getFullYear()\r\n      const month = String(date.getMonth() + 1).padStart(2, '0')\r\n      const day = String(date.getDate()).padStart(2, '0')\r\n      const hours = String(date.getHours()).padStart(2, '0')\r\n      const minutes = String(date.getMinutes()).padStart(2, '0')\r\n      \r\n      return `${year}-${month}-${day} ${hours}:${minutes}`\r\n    }\r\n    \r\n    return {\r\n      replyContent,\r\n      handleSubmit,\r\n      handleCancel,\r\n      formatDate\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.reply-section {\r\n  /* å›å¤åŒºåŸŸä½œä¸ºè¯„è®ºçš„ä¸€éƒ¨åˆ†ï¼Œä¸éœ€è¦é¢å¤–èƒŒæ™¯ */\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.reply-form {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.reply-form textarea {\r\n  font-size: 0.9rem;\r\n  background: white;\r\n  border: 1px solid #dee2e6;\r\n}\r\n\r\n.reply-item {\r\n  padding: 0.75rem;\r\n  background: white;\r\n  border-radius: 8px;\r\n  margin-bottom: 0.5rem;\r\n  border-left: 3px solid #667eea;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.reply-item:hover {\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\r\n  transform: translateX(2px);\r\n}\r\n\r\n.reply-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.reply-item img {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.reply-item a {\r\n  text-decoration: none;\r\n}\r\n\r\n.reply-item a:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .reply-section {\r\n    padding: 0.75rem;\r\n  }\r\n  \r\n  .reply-item {\r\n    padding: 0.5rem;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ReplySection.vue?vue&type=template&id=5253a071&scoped=true\"\nimport script from \"./ReplySection.vue?vue&type=script&lang=js\"\nexport * from \"./ReplySection.vue?vue&type=script&lang=js\"\n\nimport \"./ReplySection.vue?vue&type=style&index=0&id=5253a071&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5253a071\"]])\n\nexport default __exports__","import { render } from \"./CommentSection.vue?vue&type=template&id=c7c194aa&scoped=true\"\nimport script from \"./CommentSection.vue?vue&type=script&lang=js\"\nexport * from \"./CommentSection.vue?vue&type=script&lang=js\"\n\nimport \"./CommentSection.vue?vue&type=style&index=0&id=c7c194aa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c7c194aa\"]])\n\nexport default __exports__","import { render } from \"./TripDetailView.vue?vue&type=template&id=6dcf0a5a&scoped=true\"\nimport script from \"./TripDetailView.vue?vue&type=script&lang=js\"\nexport * from \"./TripDetailView.vue?vue&type=script&lang=js\"\n\nimport \"./TripDetailView.vue?vue&type=style&index=0&id=6dcf0a5a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6dcf0a5a\"]])\n\nexport default __exports__","<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary shadow-sm sticky-top\">\r\n    <div class=\"container-fluid\">\r\n      <!-- Logo -->\r\n      <router-link to=\"/\" class=\"navbar-brand\">\r\n        <span class=\"brand-text\">Roamio</span>\r\n      </router-link>\r\n      \r\n      <!-- ToggleæŒ‰é’®ï¼ˆç§»åŠ¨ç«¯ï¼‰ -->\r\n      <button\r\n        class=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarNav\"\r\n      >\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      \r\n    <!-- å¯¼èˆªé¡¹ -->\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarNav\" style=\"overflow: visible;\">\r\n        <ul class=\"navbar-nav me-auto\">\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/\" class=\"nav-link\">\r\n              <i class=\"bi bi-house-door me-1\"></i>\r\n              æ—…è¡Œåˆ—è¡¨\r\n            </router-link>\r\n          </li>\r\n          <li v-if=\"isLoggedIn\" class=\"nav-item\">\r\n            <router-link to=\"/my-trips/\" class=\"nav-link\">\r\n              <i class=\"bi bi-folder me-1\"></i>\r\n              æˆ‘çš„æ—…è¡Œ\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n        \r\n        <!-- å³ä¾§ç”¨æˆ·ä¿¡æ¯ -->\r\n        <div class=\"d-flex align-items-center\">\r\n          <!-- å·²ç™»å½• -->\r\n          <template v-if=\"isLoggedIn\">\r\n            <div class=\"dropdown dropdown-end\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"d-flex align-items-center text-white text-decoration-none dropdown-toggle user-dropdown-btn\"\r\n                id=\"dropdownUser\"\r\n                data-bs-toggle=\"dropdown\"\r\n                aria-expanded=\"false\"\r\n              >\r\n                <img\r\n                  :src=\"avatar\"\r\n                  alt=\"avatar\"\r\n                  width=\"32\"\r\n                  height=\"32\"\r\n                  class=\"rounded-circle me-2\"\r\n                />\r\n                <span>{{ username }}</span>\r\n              </a>\r\n              <ul class=\"dropdown-menu dropdown-menu-end text-small\" aria-labelledby=\"dropdownUser\">\r\n                <li>\r\n                  <router-link to=\"/user/center\" class=\"dropdown-item\">\r\n                    <i class=\"bi bi-person me-2\"></i>ä¸ªäººä¸­å¿ƒ\r\n                  </router-link>\r\n                </li>\r\n                <li><hr class=\"dropdown-divider\" /></li>\r\n                <li>\r\n                  <a href=\"#\" class=\"dropdown-item\" @click.prevent=\"handleLogout\">\r\n                    <i class=\"bi bi-box-arrow-right me-2\"></i>é€€å‡ºç™»å½•\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </template>\r\n          \r\n          <!-- æœªç™»å½• -->\r\n          <template v-else>\r\n            <router-link to=\"/login\" class=\"btn btn-outline-light btn-sm me-2\">\r\n              ç™»å½•\r\n            </router-link>\r\n            <router-link to=\"/register\" class=\"btn btn-light btn-sm\">\r\n              æ³¨å†Œ\r\n            </router-link>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useUserStore } from '@/stores'\r\n\r\nexport default {\r\n  name: 'NavBar',\r\n  \r\n  setup() {\r\n    const router = useRouter()\r\n    const userStore = useUserStore()\r\n    \r\n    const isLoggedIn = computed(() => userStore.isLoggedIn)\r\n    const username = computed(() => userStore.username)\r\n    const avatar = computed(() => userStore.avatar)\r\n    \r\n    const handleLogout = async () => {\r\n      if (!confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) return\r\n      \r\n      try {\r\n        await userStore.logout()\r\n        router.push('/login')\r\n      } catch (error) {\r\n        console.error('é€€å‡ºå¤±è´¥:', error)\r\n      }\r\n    }\r\n    \r\n    return {\r\n      isLoggedIn,\r\n      username,\r\n      avatar,\r\n      handleLogout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.navbar {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;\r\n  border-bottom: none;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 1rem 0;\r\n}\r\n\r\n.navbar-brand {\r\n  font-size: 1.5rem;\r\n  font-weight: 800;\r\n  color: white !important;\r\n  text-decoration: none;\r\n  transition: all 0.3s ease;\r\n  letter-spacing: 2px;\r\n}\r\n\r\n.brand-text {\r\n  background: linear-gradient(45deg, #fff 0%, #f0f0f0 50%, #fff 100%);\r\n  background-size: 200% auto;\r\n  background-clip: text;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  font-weight: 900;\r\n  font-size: 1.6rem;\r\n  letter-spacing: 3px;\r\n  text-shadow: 0 3px 8px rgba(255, 255, 255, 0.3);\r\n  animation: shimmer 3s infinite;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0%, 100% {\r\n    background-position: 0% center;\r\n  }\r\n  50% {\r\n    background-position: 100% center;\r\n  }\r\n}\r\n\r\n.navbar-brand:hover .brand-text {\r\n  background-position: 100% center;\r\n  transform: scale(1.08);\r\n  filter: brightness(1.2);\r\n}\r\n\r\n.nav-link {\r\n  color: rgba(255, 255, 255, 0.95) !important;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  border-radius: 8px;\r\n  padding: 0.5rem 1rem !important;\r\n}\r\n\r\n.nav-link:hover {\r\n  color: white !important;\r\n  background: rgba(255, 255, 255, 0.15);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.dropdown-menu {\r\n  min-width: 200px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n  border: none;\r\n  margin-top: 0.5rem;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.dropdown-item {\r\n  padding: 0.75rem 1.25rem;\r\n  transition: all 0.2s ease;\r\n  border-radius: 8px;\r\n  margin: 0.2rem;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  transform: translateX(3px);\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  z-index: 1050;\r\n}\r\n\r\n.user-dropdown-btn {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 25px;\r\n  padding: 0.5rem 1rem;\r\n  transition: all 0.3s ease;\r\n  white-space: nowrap;\r\n  max-width: 100%;\r\n  cursor: pointer;\r\n}\r\n\r\n.user-dropdown-btn:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  transform: scale(1.05);\r\n}\r\n\r\n.user-dropdown-btn[aria-expanded=\"true\"] {\r\n  background: rgba(255, 255, 255, 0.35);\r\n}\r\n\r\n.btn-outline-light {\r\n  border: 2px solid rgba(255, 255, 255, 0.8);\r\n  color: white;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn-outline-light:hover {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-color: white;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.btn-light {\r\n  background: white;\r\n  color: #667eea;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn-light:hover {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  color: #764ba2;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n/* ç§»åŠ¨ç«¯ä¼˜åŒ– */\r\n@media (max-width: 991px) {\r\n  .navbar {\r\n    padding: 0.75rem 0;\r\n  }\r\n  \r\n  .navbar-brand {\r\n    font-size: 1.3rem;\r\n  }\r\n  \r\n  .brand-text {\r\n    font-size: 1.35rem;\r\n    letter-spacing: 2px;\r\n  }\r\n  \r\n  .navbar-nav .nav-link {\r\n    padding: 0.75rem 1rem;\r\n  }\r\n  \r\n  .dropdown-menu {\r\n    min-width: 180px;\r\n    max-width: calc(100vw - 30px);\r\n    position: absolute !important;\r\n    right: 0;\r\n    left: auto;\r\n    margin-top: 0.5rem;\r\n  }\r\n  \r\n  .user-dropdown-btn {\r\n    font-size: 0.9rem;\r\n    z-index: 1051;\r\n  }\r\n  \r\n  /* ç¡®ä¿ä¸‹æ‹‰èœå•ä¸ä¼šè¢«å¯¼èˆªæ é®æŒ¡ */\r\n  .dropdown.show {\r\n    overflow: visible;\r\n  }\r\n  \r\n  /* ç§»åŠ¨ç«¯ç¡®ä¿ä¸‹æ‹‰èœå•åœ¨æœ€ä¸Šå±‚ */\r\n  .dropdown {\r\n    z-index: 1050;\r\n  }\r\n  \r\n  .navbar-collapse {\r\n    z-index: 1049;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./NavBar.vue?vue&type=template&id=7d3c81b6&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=7d3c81b6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d3c81b6\"]])\n\nexport default __exports__"],"names":["getTripList","params","request","get","getTripDetail","async","slug","error","statusCode","response","status","shouldFallback","code","message","includes","likeTrip","post","checkinTrip","class","ref","loop","_createElementBlock","_hoisted_1","_createVNode","_component_NavBar","_createElementVNode","onClick","_cache","args","$setup","goBack","title","toggleMusic","isPlaying","_hoisted_2","_hoisted_3","src","musicSrc","type","_hoisted_5","loading","_hoisted_6","role","trip","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","name","_hoisted_11","description","stats","_createBlock","_component_TripStats","views","likes","onLike","handleLike","tripConfig","dates","start_date","end_date","_component_TripProgress","start","end","overview","_component_TripOverview","basicInfo","_hoisted_12","_hoisted_13","participants","_hoisted_14","_hoisted_15","departure","_hoisted_16","_hoisted_17","destination","_hoisted_18","_hoisted_19","transport","_hoisted_20","_hoisted_21","accommodation","_hoisted_22","_hoisted_23","duration","_hoisted_24","_hoisted_25","budget","_hoisted_26","_hoisted_27","theme","_hoisted_28","_hoisted_29","_hoisted_30","_Fragment","_renderList","highlights","highlight","index","key","_hoisted_31","itinerary","item","_hoisted_32","_hoisted_33","day","time","_hoisted_34","_hoisted_35","content","_hoisted_36","items","_hoisted_37","amount","note","_hoisted_38","total","tips","length","_hoisted_39","_hoisted_40","tip","_component_CommentSection","comments","isAdmin","isAuthor","checked_in","getAvatarUrl","onCheckin","handleCheckin","onSubmitComment","handleSubmitComment","onDeleteComment","handleDeleteComment","onAddImage","handleAddImage","onUpdateComment","handleUpdateComment","onSubmitReply","handleSubmitReply","onLoadReplies","handleLoadReplies","getCommentList","createComment","data","headers","deleteComment","id","delete","addCommentImage","updateComment","patch","getCommentReplies","tripConfigs","backgroundColor","icon","trip1","trip2","departureTime","trip3","returnTime","trip4","customStyles","specialBg","dayBorderColor","getTripConfig","style","_normalizeStyle","width","progress","_hoisted_4","props","startDate","String","default","endDate","setup","calculateProgress","value","now","Date","elapsed","Math","round","onMounted","__exports__","$props","disabled","liking","Number","emits","emit","setTimeout","_renderSlot","_ctx","$slots","undefined","checking","hasCheckedIn","checkinButtonText","_component_CommentForm","submitting","onSubmit","handleSubmit","hasManageableComments","_normalizeClass","isManageMode","toggleManageMode","comment","_component_CommentItem","editing","editingComments","expandedReplies","replyLists","replies","onShowImageModal","showImageModal","onToggleReply","toggleReplySection","updateLocalContent","actions","_withCtx","can_delete","$event","startEditing","handleSaveComment","canAddImage","image","cancelEditing","handleDelete","_component_ReplySection","expanded","submittingReply","onCancel","cancelReply","onDeleteReply","handleDeleteReply","showModal","closeImageModal","_withModifiers","modalImageUrl","alt","formData","rows","placeholder","required","accept","onChange","handleImageChange","handleVideoChange","Boolean","video","event","target","files","user","profile","avatar_url","height","onError","e","console","log","username","formatDate","timestamp","localContent","$emit","controls","isExpanded","replyCount","Object","Array","Function","watch","newVal","dateStr","date","year","getFullYear","month","getMonth","padStart","getDate","hours","getHours","minutes","getMinutes","replyContent","handleCancel","reply","trim","components","CommentForm","CommentItem","ReplySection","replyForms","replyCounts","computed","some","commentData","commentId","url","originalContent","isEditing","editedContent","input","document","createElement","onchange","file","click","alert","replyId","updateReplyList","NavBar","TripProgress","TripStats","TripOverview","CommentSection","route","useRoute","router","useRouter","userStore","useUserStore","audioPlayer","background_music","author","userInfo","fetchTripDetail","summary","push","fetchComments","results","result","FormData","append","confirm","errorMsg","detail","deletedComment","find","c","commentSectionRef","replyList","r","filteredReplies","filter","isReply","parent_id","parentId","parentComment","Promise","resolve","pause","volume","play","render","href","_component_router_link","to","isLoggedIn","avatar","handleLogout","logout"],"sourceRoot":""}