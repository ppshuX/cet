{"version":3,"file":"assets/js/233.3a693e60.js","mappings":"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","sources":["webpack://roamio-web/./src/components/NavBar.vue","webpack://roamio-web/./src/components/NavBar.vue?01fd","webpack://roamio-web/./src/api/trip.js","webpack://roamio-web/./src/views/TripDetailView.vue","webpack://roamio-web/./src/api/comment.js","webpack://roamio-web/./src/config/tripConfig.js","webpack://roamio-web/./src/components/TripProgress.vue","webpack://roamio-web/./src/components/TripProgress.vue?1794","webpack://roamio-web/./src/components/TripStats.vue","webpack://roamio-web/./src/components/TripStats.vue?0951","webpack://roamio-web/./src/components/TripOverview.vue","webpack://roamio-web/./src/components/TripOverview.vue?621c","webpack://roamio-web/./src/components/CommentSection.vue","webpack://roamio-web/./src/components/comments/CommentForm.vue","webpack://roamio-web/./src/components/comments/CommentForm.vue?20bb","webpack://roamio-web/./src/components/comments/CommentItem.vue","webpack://roamio-web/./src/components/comments/CommentItem.vue?fd11","webpack://roamio-web/./src/components/comments/ReplySection.vue","webpack://roamio-web/./src/components/comments/ReplySection.vue?e1fe","webpack://roamio-web/./src/components/CommentSection.vue?5d75","webpack://roamio-web/./src/views/TripDetailView.vue?5256"],"sourcesContent":["<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary shadow-sm sticky-top\">\r\n    <div class=\"container-fluid\">\r\n      <!-- Logo -->\r\n      <router-link to=\"/\" class=\"navbar-brand\">\r\n        <span class=\"brand-text\">Roamio</span>\r\n      </router-link>\r\n      \r\n      <!-- Toggle按钮（移动端） -->\r\n      <button\r\n        class=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarNav\"\r\n      >\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      \r\n    <!-- 导航项 -->\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarNav\" style=\"overflow: visible;\">\r\n        <ul class=\"navbar-nav me-auto\">\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/\" class=\"nav-link\">\r\n              <i class=\"bi bi-house-door me-1\"></i>\r\n              旅行大厅\r\n            </router-link>\r\n          </li>\r\n          <li v-if=\"isLoggedIn\" class=\"nav-item\">\r\n            <router-link to=\"/my-trips/\" class=\"nav-link\">\r\n              <i class=\"bi bi-folder me-1\"></i>\r\n              我的旅行\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n        \r\n        <!-- 右侧用户信息 -->\r\n        <div class=\"d-flex align-items-center\">\r\n          <!-- 已登录 -->\r\n          <template v-if=\"isLoggedIn\">\r\n            <div class=\"dropdown dropdown-end\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"d-flex align-items-center text-white text-decoration-none dropdown-toggle user-dropdown-btn\"\r\n                id=\"dropdownUser\"\r\n                data-bs-toggle=\"dropdown\"\r\n                aria-expanded=\"false\"\r\n              >\r\n                <img\r\n                  :src=\"avatar\"\r\n                  alt=\"avatar\"\r\n                  width=\"32\"\r\n                  height=\"32\"\r\n                  class=\"rounded-circle me-2\"\r\n                />\r\n                <span>{{ username }}</span>\r\n              </a>\r\n              <ul class=\"dropdown-menu dropdown-menu-end text-small\" aria-labelledby=\"dropdownUser\">\r\n                <li>\r\n                  <router-link to=\"/user/center\" class=\"dropdown-item\">\r\n                    <i class=\"bi bi-person me-2\"></i>个人中心\r\n                  </router-link>\r\n                </li>\r\n                <li><hr class=\"dropdown-divider\" /></li>\r\n                <li>\r\n                  <a href=\"#\" class=\"dropdown-item\" @click.prevent=\"handleLogout\">\r\n                    <i class=\"bi bi-box-arrow-right me-2\"></i>退出登录\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </template>\r\n          \r\n          <!-- 未登录 -->\r\n          <template v-else>\r\n            <router-link to=\"/login\" class=\"btn btn-outline-light btn-sm me-2\">\r\n              登录\r\n            </router-link>\r\n            <router-link to=\"/register\" class=\"btn btn-light btn-sm\">\r\n              注册\r\n            </router-link>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useUserStore } from '@/stores'\r\n\r\nexport default {\r\n  name: 'NavBar',\r\n  \r\n  setup() {\r\n    const router = useRouter()\r\n    const userStore = useUserStore()\r\n    \r\n    const isLoggedIn = computed(() => userStore.isLoggedIn)\r\n    const username = computed(() => userStore.username)\r\n    const avatar = computed(() => userStore.avatar)\r\n    \r\n    const handleLogout = async () => {\r\n      if (!confirm('确定要退出登录吗？')) return\r\n      \r\n      try {\r\n        await userStore.logout()\r\n        router.push('/login')\r\n      } catch (error) {\r\n        console.error('退出失败:', error)\r\n      }\r\n    }\r\n    \r\n    return {\r\n      isLoggedIn,\r\n      username,\r\n      avatar,\r\n      handleLogout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.navbar {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;\r\n  border-bottom: none;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 1rem 0;\r\n}\r\n\r\n.navbar-brand {\r\n  font-size: 1.5rem;\r\n  font-weight: 800;\r\n  color: white !important;\r\n  text-decoration: none;\r\n  transition: all 0.3s ease;\r\n  letter-spacing: 2px;\r\n}\r\n\r\n.brand-text {\r\n  background: linear-gradient(45deg, #fff 0%, #f0f0f0 50%, #fff 100%);\r\n  background-size: 200% auto;\r\n  background-clip: text;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  font-weight: 900;\r\n  font-size: 1.6rem;\r\n  letter-spacing: 3px;\r\n  text-shadow: 0 3px 8px rgba(255, 255, 255, 0.3);\r\n  animation: shimmer 3s infinite;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0%, 100% {\r\n    background-position: 0% center;\r\n  }\r\n  50% {\r\n    background-position: 100% center;\r\n  }\r\n}\r\n\r\n.navbar-brand:hover .brand-text {\r\n  background-position: 100% center;\r\n  transform: scale(1.08);\r\n  filter: brightness(1.2);\r\n}\r\n\r\n.nav-link {\r\n  color: rgba(255, 255, 255, 0.95) !important;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  border-radius: 8px;\r\n  padding: 0.5rem 1rem !important;\r\n}\r\n\r\n.nav-link:hover {\r\n  color: white !important;\r\n  background: rgba(255, 255, 255, 0.15);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.dropdown-menu {\r\n  min-width: 200px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n  border: none;\r\n  margin-top: 0.5rem;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.dropdown-item {\r\n  padding: 0.75rem 1.25rem;\r\n  transition: all 0.2s ease;\r\n  border-radius: 8px;\r\n  margin: 0.2rem;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  transform: translateX(3px);\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  z-index: 1050;\r\n}\r\n\r\n.user-dropdown-btn {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 25px;\r\n  padding: 0.5rem 1rem;\r\n  transition: all 0.3s ease;\r\n  white-space: nowrap;\r\n  max-width: 100%;\r\n  cursor: pointer;\r\n}\r\n\r\n.user-dropdown-btn:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  transform: scale(1.05);\r\n}\r\n\r\n.user-dropdown-btn[aria-expanded=\"true\"] {\r\n  background: rgba(255, 255, 255, 0.35);\r\n}\r\n\r\n.btn-outline-light {\r\n  border: 2px solid rgba(255, 255, 255, 0.8);\r\n  color: white;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn-outline-light:hover {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-color: white;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.btn-light {\r\n  background: white;\r\n  color: #667eea;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn-light:hover {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  color: #764ba2;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n/* 移动端优化 */\r\n@media (max-width: 991px) {\r\n  .navbar {\r\n    padding: 0.75rem 0;\r\n  }\r\n  \r\n  .navbar-brand {\r\n    font-size: 1.3rem;\r\n  }\r\n  \r\n  .brand-text {\r\n    font-size: 1.35rem;\r\n    letter-spacing: 2px;\r\n  }\r\n  \r\n  .navbar-nav .nav-link {\r\n    padding: 0.75rem 1rem;\r\n  }\r\n  \r\n  .dropdown-menu {\r\n    min-width: 180px;\r\n    max-width: calc(100vw - 30px);\r\n    position: absolute !important;\r\n    right: 0;\r\n    left: auto;\r\n    margin-top: 0.5rem;\r\n  }\r\n  \r\n  .user-dropdown-btn {\r\n    font-size: 0.9rem;\r\n    z-index: 1051;\r\n  }\r\n  \r\n  /* 确保下拉菜单不会被导航栏遮挡 */\r\n  .dropdown.show {\r\n    overflow: visible;\r\n  }\r\n  \r\n  /* 移动端确保下拉菜单在最上层 */\r\n  .dropdown {\r\n    z-index: 1050;\r\n  }\r\n  \r\n  .navbar-collapse {\r\n    z-index: 1049;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./NavBar.vue?vue&type=template&id=a6dd4bee&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=a6dd4bee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a6dd4bee\"]])\n\nexport default __exports__","/**\r\n * 旅行相关API\r\n */\r\nimport request from './request'\r\n\r\n/**\r\n * 获取旅行列表\r\n * @param {Object} params - 查询参数\r\n */\r\nexport const getTripList = (params) => {\r\n    return request.get('/trips/', { params })\r\n}\r\n\r\n/**\r\n * 获取旅行详情\r\n * @param {string} slug - 旅行标识符\r\n * 先尝试从新Trip模型获取，失败则尝试旧SiteStat\r\n */\r\nexport const getTripDetail = async (slug) => {\r\n    // 先尝试新的Trip模型\r\n    try {\r\n        return await request.get(`/trip-plans/${slug}/`)\r\n    } catch (error) {\r\n        // 404或网络错误，尝试旧的SiteStat\r\n        const statusCode = error.response?.status || error.status\r\n        const shouldFallback = statusCode === 404 ||\r\n            error.code === 'ERR_BAD_REQUEST' ||\r\n            error.message?.includes('404') ||\r\n            !error.response\r\n\r\n        if (shouldFallback) {\r\n            return await request.get(`/trips/${slug}/`)\r\n        }\r\n        throw error\r\n    }\r\n}\r\n\r\n/**\r\n * 点赞旅行\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const likeTrip = (slug) => {\r\n    return request.post(`/trips/${slug}/like/`)\r\n}\r\n\r\n/**\r\n * 打卡旅行\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const checkinTrip = (slug) => {\r\n    return request.post(`/trips/${slug}/checkin/`)\r\n}\r\n\r\n/**\r\n * 获取旅行统计\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const getTripStats = (slug) => {\r\n    return request.get(`/trips/${slug}/stats/`)\r\n}\r\n\r\n/**\r\n * 获取旅行评论\r\n * @param {string} slug - 旅行标识符\r\n * @param {Object} params - 查询参数\r\n */\r\nexport const getTripComments = (slug, params) => {\r\n    return request.get(`/trips/${slug}/comments/`, { params })\r\n}\r\n\r\n","<template>\n  <div class=\"trip-detail-container\" :style=\"{ background: (trip && trip.theme_color) || '#f0e68c' }\">\n    <!-- 导航栏 -->\n    <NavBar />\n    \n    <!-- 返回按钮 -->\n    <button class=\"back-btn\" @click=\"goBack\" title=\"返回首页\">\n      🏠\n    </button>\n    \n    <!-- 背景音乐按钮 -->\n    <button class=\"music-btn\" @click=\"toggleMusic\" :title=\"isPlaying ? '暂停音乐' : '播放音乐'\">\n      {{ isPlaying ? '🔊' : '🔇' }}\n    </button>\n    \n    <audio ref=\"audioPlayer\" loop>\n      <source :src=\"musicSrc\" type=\"audio/mpeg\">\n    </audio>\n    \n    <div class=\"container py-5\">\n      <!-- Loading状态 -->\n      <div v-if=\"loading\" class=\"text-center\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">加载中...</span>\n        </div>\n      </div>\n      \n      <!-- 旅行详情 -->\n      <div v-else-if=\"trip\">\n        <!-- 页面标题 -->\n        <div class=\"card shadow-lg mb-4\">\n          <div class=\"card-body p-5\">\n            <h1 class=\"mb-3\">{{ trip.name || trip.title }}</h1>\n            <p class=\"text-muted mb-0\">{{ trip.description }}</p>\n          </div>\n        </div>\n        \n        <!-- 统计组件 ⭐ (仅旧页面) -->\n        <TripStats\n          v-if=\"trip.stats\"\n          :views=\"trip.stats.views\"\n          :likes=\"trip.stats.likes\"\n          @like=\"handleLike\"\n        />\n        \n        <!-- 旅行进度条组件 ⭐ -->\n        <TripProgress\n          v-if=\"(tripConfig && tripConfig.dates) || (trip.start_date && trip.end_date)\"\n          :start-date=\"tripConfig?.dates?.start || trip.start_date\"\n          :end-date=\"tripConfig?.dates?.end || trip.end_date\"\n        />\n        \n        <!-- 行程概览组件 ⭐ (动态内容) -->\n        <TripOverview v-if=\"tripConfig && tripConfig.overview\" title=\"行程概览\">\n          <!-- 基本信息 -->\n          <div v-if=\"tripConfig.overview.basicInfo\" class=\"basic-info-section\">\n            <h4>🧭 基本信息</h4>\n            <div class=\"info-grid\">\n              <div v-if=\"tripConfig.overview.basicInfo.participants\" class=\"info-item\">\n                <span class=\"info-label\">👥 Roamioer：</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.participants }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.departure\" class=\"info-item\">\n                <span class=\"info-label\">🚩 出发地：</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.departure }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.destination\" class=\"info-item\">\n                <span class=\"info-label\">🎯 目的地：</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.destination }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.transport\" class=\"info-item\">\n                <span class=\"info-label\">🚗 交通方式：</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.transport }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.accommodation\" class=\"info-item\">\n                <span class=\"info-label\">🏨 住宿：</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.accommodation }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.duration\" class=\"info-item\">\n                <span class=\"info-label\">⏱️ 行程时长：</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.duration }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.budget\" class=\"info-item\">\n                <span class=\"info-label\">💰 预算：</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.budget }}</span>\n              </div>\n              <div v-if=\"tripConfig.overview.basicInfo.theme\" class=\"info-item\">\n                <span class=\"info-label\">🎨 主题：</span>\n                <span class=\"info-value\">{{ tripConfig.overview.basicInfo.theme }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- 行程亮点 -->\n          <h4>📍 行程亮点</h4>\n          <ul class=\"highlights-list\">\n            <li v-for=\"(highlight, index) in tripConfig.overview.highlights\" :key=\"index\">\n              {{ highlight }}\n            </li>\n          </ul>\n          \n          <!-- 行程安排 -->\n          <h4>🗓️ 详细行程</h4>\n          <div class=\"itinerary-section\">\n            <div v-for=\"(item, index) in tripConfig.overview.itinerary\" :key=\"index\" class=\"itinerary-item\">\n              <div class=\"itinerary-header\">\n                <strong class=\"itinerary-day\">{{ item.day }}</strong>\n                <span v-if=\"item.time\" class=\"itinerary-time\">⏰ {{ item.time }}</span>\n              </div>\n              <div class=\"itinerary-content\">{{ item.content }}</div>\n              <div v-if=\"item.highlight\" class=\"itinerary-highlight\">\n                {{ item.highlight }}\n              </div>\n            </div>\n          </div>\n          \n          <!-- 预算参考 -->\n          <div v-if=\"tripConfig.overview.budget && tripConfig.overview.budget.items\">\n            <h4>💰 预算参考</h4>\n            <table>\n              <thead>\n                <tr>\n                  <th>项目</th>\n                  <th>金额（元）</th>\n                  <th>备注</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(item, index) in tripConfig.overview.budget.items\" :key=\"index\">\n                  <td>{{ item.name }}</td>\n                  <td>¥{{ item.amount }}</td>\n                  <td>{{ item.note }}</td>\n                </tr>\n                <tr class=\"total-row\">\n                  <td><strong>总计</strong></td>\n                  <td><strong>¥{{ tripConfig.overview.budget.total }}</strong></td>\n                  <td>人均预算</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n\n          <!-- 实用提示 -->\n          <div v-if=\"tripConfig.overview.tips && tripConfig.overview.tips.length\" class=\"tips-section\">\n            <h4>💡 实用提示</h4>\n            <ul class=\"tips-list\">\n              <li v-for=\"(tip, index) in tripConfig.overview.tips\" :key=\"index\">\n                {{ tip }}\n              </li>\n            </ul>\n          </div>\n        </TripOverview>\n        \n        <!-- 如果没有配置，显示默认内容 -->\n        <TripOverview v-else title=\"行程概览\">\n          <p class=\"text-muted text-center\">行程内容正在筹划中，敬请期待...</p>\n        </TripOverview>\n        \n        <!-- 评论区组件 ⭐ -->\n        <CommentSection\n          ref=\"commentSectionRef\"\n          :comments=\"comments\"\n          :is-admin=\"isAdmin\"\n          :is-author=\"isAuthor\"\n          :has-checked-in=\"trip.stats?.checked_in || false\"\n          :get-avatar-url=\"getAvatarUrl\"\n          @checkin=\"handleCheckin\"\n          @submit-comment=\"handleSubmitComment\"\n          @delete-comment=\"handleDeleteComment\"\n          @add-image=\"handleAddImage\"\n          @update-comment=\"handleUpdateComment\"\n          @submit-reply=\"handleSubmitReply\"\n          @load-replies=\"handleLoadReplies\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, computed, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useUserStore } from '@/stores'\nimport { getTripDetail, likeTrip, checkinTrip } from '@/api/trip'\nimport { getCommentList, createComment, deleteComment, addCommentImage, updateComment, getCommentReplies } from '@/api/comment'\nimport { getAvatarUrl } from '@/config/api'\nimport { getTripConfig } from '@/config/tripConfig'\nimport NavBar from '@/components/NavBar.vue'\nimport TripProgress from '@/components/TripProgress.vue'\nimport TripStats from '@/components/TripStats.vue'\nimport TripOverview from '@/components/TripOverview.vue'\nimport CommentSection from '@/components/CommentSection.vue'\n\nexport default {\n  name: 'TripDetailView',\n  \n  components: {\n    NavBar,\n    TripProgress,\n    TripStats,\n    TripOverview,\n    CommentSection\n  },\n  \n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const userStore = useUserStore()\n    \n    const trip = ref(null)\n    const comments = ref([])\n    const loading = ref(true)\n    const tripConfig = ref(null)\n    \n    // 音乐相关\n    const isPlaying = ref(false)\n    const audioPlayer = ref(null)\n    const musicSrc = computed(() => {\n      // 显式选择“无背景音乐”时返回空字符串；未设置时使用默认雨声\n      const bg = trip.value?.background_music\n      if (bg === '') return ''\n      return bg || '/static/music/rain.mp3'\n    })\n    \n    const isAdmin = computed(() => userStore.isAdmin)\n    \n    // 判断是否为旅行作者\n    const isAuthor = computed(() => {\n      return trip.value?.author?.id === userStore.userInfo?.id\n    })\n    \n    // 获取旅行详情\n    const fetchTripDetail = async () => {\n      const slug = route.params.slug\n      try {\n        trip.value = await getTripDetail(slug)\n        \n        // 如果是新Trip模型，不需要getTripConfig\n        // 如果是旧SiteStat模型，使用getTripConfig\n        if (trip.value.overview) {\n          // 新Trip模型，已经有完整的配置和数据\n          // 处理 budget.summary -> budget.total 的兼容性\n          const overview = { ...trip.value.overview }\n          if (overview.budget && overview.budget.summary) {\n            overview.budget.total = overview.budget.summary\n          }\n          \n          tripConfig.value = {\n            dates: {\n              start: trip.value.start_date,\n              end: trip.value.end_date\n            },\n            overview\n          }\n        } else {\n          // 旧SiteStat模型，使用静态配置\n          tripConfig.value = getTripConfig(slug)\n        }\n        \n        // 更新页面标题为旅行名称（去掉平台后缀）\n        if (trip.value?.name || trip.value?.title) {\n          document.title = `${trip.value.name || trip.value.title}`\n        }\n      } catch (error) {\n        console.error('获取旅行详情失败:', error)\n        if (error.response?.status === 404 || error.status === 404) {\n          alert('旅行页面不存在')\n          router.push('/')\n        }\n      }\n    }\n    \n    // 获取评论列表\n    const fetchComments = async () => {\n      const slug = route.params.slug\n      try {\n        const data = await getCommentList({ trip: slug })\n        comments.value = data.results || data || []\n      } catch (error) {\n        console.error('获取评论列表失败:', error)\n        comments.value = []\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    // 点赞\n    const handleLike = async () => {\n      try {\n        const result = await likeTrip(route.params.slug)\n        trip.value.stats.likes = result.likes\n        alert('点赞成功！')\n      } catch (error) {\n        console.error('点赞失败:', error)\n        alert('点赞失败，请稍后重试')\n      }\n    }\n    \n    // 打卡\n    const handleCheckin = async () => {\n      try {\n        await checkinTrip(route.params.slug)\n        alert('打卡成功！')\n        await fetchTripDetail() // 刷新数据以更新打卡状态\n      } catch (error) {\n        console.error('打卡失败:', error)\n        alert('打卡失败，请稍后重试')\n      }\n    }\n    \n    // 提交评论（接收组件传来的数据）\n    const handleSubmitComment = async (commentData) => {\n      try {\n        const formData = new FormData()\n        formData.append('page', route.params.slug)\n        \n        if (commentData.content) {\n          formData.append('content', commentData.content)\n        }\n        if (commentData.image) {\n          formData.append('image', commentData.image)\n        }\n        if (commentData.video) {\n          formData.append('video', commentData.video)\n        }\n        \n        await createComment(formData)\n        alert('评论发表成功！')\n        await fetchComments()\n      } catch (error) {\n        console.error('发表评论失败:', error)\n        alert('发表评论失败：' + error.message)\n      }\n    }\n    \n    // 删除评论\n    const handleDeleteComment = async (commentId) => {\n      // 删除前提示确认\n      if (!confirm('确定要删除这条内容吗？删除后无法恢复。')) {\n        return\n      }\n      \n      // 先向后端发送删除请求\n      try {\n        await deleteComment(commentId)\n      } catch (error) {\n        console.error('删除评论失败:', error)\n        const errorMsg = error.response?.data?.detail || error.message || '删除失败，请稍后重试'\n        alert(errorMsg)\n        return\n      }\n      \n      // 删除成功后，从UI中移除\n      const deletedComment = comments.value.find(c => c.id === commentId)\n      \n      if (!deletedComment) {\n        // 如果是回复，从replyLists中删除\n        for (const comment of comments.value) {\n          if (commentSectionRef.value && commentSectionRef.value.replyLists) {\n            const replyList = commentSectionRef.value.replyLists[comment.id]\n            if (replyList && replyList.some(r => r.id === commentId)) {\n              const filteredReplies = replyList.filter(r => r.id !== commentId)\n              if (commentSectionRef.value.updateReplyList) {\n                commentSectionRef.value.updateReplyList(comment.id, filteredReplies)\n              }\n              return\n            }\n          }\n        }\n        return\n      }\n      \n      const isReply = !!deletedComment.parent_id\n      const parentId = deletedComment.parent_id\n      let parentComment = null\n      \n      if (isReply) {\n        // 这是回复的删除\n        parentComment = comments.value.find(c => c.id === parentId)\n        if (parentComment && parentComment.replies) {\n          // 立即从UI中移除\n          parentComment.replies = parentComment.replies.filter(r => r.id !== commentId)\n          // 更新CommentSection的replyLists\n          if (commentSectionRef.value && commentSectionRef.value.updateReplyList) {\n            commentSectionRef.value.updateReplyList(parentId, parentComment.replies)\n          }\n        }\n      } else {\n        // 这是顶层评论的删除，从列表中立即移除\n        comments.value = comments.value.filter(c => c.id !== commentId)\n      }\n    }\n    \n    // 添加图片\n    const handleAddImage = async ({ commentId, file }) => {\n      try {\n        const formData = new FormData()\n        formData.append('image', file)\n        \n        await addCommentImage(commentId, formData)\n        alert('图片添加成功！')\n        await fetchComments()\n      } catch (error) {\n        console.error('添加图片失败:', error)\n        alert('添加图片失败：' + (error.response?.data?.detail || error.message))\n      }\n    }\n    \n    // 更新评论\n    const handleUpdateComment = async ({ commentId, content }) => {\n      try {\n        await updateComment(commentId, { content })\n        alert('评论更新成功！')\n        await fetchComments()\n      } catch (error) {\n        console.error('更新评论失败:', error)\n        alert('更新评论失败：' + (error.response?.data?.detail || error.message))\n      }\n    }\n    \n    // 提交回复\n    const handleSubmitReply = async ({ commentId, content }) => {\n      try {\n        const formData = new FormData()\n        formData.append('content', content)\n        formData.append('page', route.params.slug)\n        formData.append('parent', commentId)  // 设置父评论ID\n        \n        await createComment(formData)\n        alert('回复成功！')\n        // 提交成功后重新加载该评论的回复列表\n        await handleLoadReplies(commentId)\n      } catch (error) {\n        console.error('提交回复失败:', error)\n        alert('提交回复失败：' + (error.response?.data?.detail || error.message))\n      }\n    }\n    \n    // 保存commentSectionRef用于直接访问子组件\n    const commentSectionRef = ref(null)\n    \n    // 加载回复列表\n    const handleLoadReplies = async (commentId) => {\n      try {\n        const replies = await getCommentReplies(commentId)\n        \n        // 将回复列表保存到comments数组中对应评论的replies属性\n        const comment = comments.value.find(c => c.id === commentId)\n        if (comment) {\n          comment.replies = replies || []\n        }\n        \n        // 等待下一个tick，确保ref已经初始化\n        await new Promise(resolve => setTimeout(resolve, 100))\n        \n        // 更新CommentSection组件的replyLists\n        if (commentSectionRef.value && commentSectionRef.value.updateReplyList) {\n          commentSectionRef.value.updateReplyList(commentId, replies || [])\n        }\n      } catch (error) {\n        console.error(`加载评论 ${commentId} 的回复列表失败:`, error)\n      }\n    }\n    \n    // 返回按钮\n    const goBack = () => {\n      router.push('/')\n    }\n    \n    // 音乐控制\n    const toggleMusic = async () => {\n      if (!audioPlayer.value) return\n      \n      if (isPlaying.value) {\n        audioPlayer.value.pause()\n      } else {\n        try {\n          audioPlayer.value.volume = 0.3 // 降低音量\n          await audioPlayer.value.play()\n        } catch (error) {\n          console.error('播放音乐失败:', error)\n        }\n      }\n      isPlaying.value = !isPlaying.value\n    }\n    \n    // 当音乐源变化时，重新加载并在需要时继续播放\n    watch(musicSrc, async () => {\n      if (!audioPlayer.value) return\n      try { audioPlayer.value.load() } catch (e) { /* ignore */ }\n      if (isPlaying.value) {\n        try {\n          audioPlayer.value.volume = 0.3\n          await audioPlayer.value.play()\n        } catch (e) { /* ignore */ }\n      }\n    })\n\n    onMounted(async () => {\n      await fetchTripDetail()\n      await fetchComments()\n    })\n    \n    return {\n      trip,\n      comments,\n      loading,\n      tripConfig,\n      isAdmin,\n      isPlaying,\n      audioPlayer,\n      musicSrc,\n      commentSectionRef,\n      handleLike,\n      handleCheckin,\n      handleSubmitComment,\n      handleDeleteComment,\n      handleAddImage,\n      handleUpdateComment,\n      handleSubmitReply,\n      handleLoadReplies,\n      goBack,\n      toggleMusic,\n      getAvatarUrl,\n      isAuthor\n    }\n  }\n}\n</script>\n\n<style scoped>\n.trip-detail-container {\n  min-height: 100vh;\n  background: #f0e68c;  /* 厦门旅行页面的浅黄色背景 */\n  font-family: 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', sans-serif;\n  line-height: 1.8;\n  color: #333;\n  padding-bottom: 40px;\n}\n\n/* 卡片样式 */\n:deep(.card) {\n  background: #fff;\n  border: none;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  margin-bottom: 2rem;\n  overflow: hidden;\n}\n\n:deep(.card-body) {\n  padding: 2rem;\n}\n\n/* 统计卡片 */\n.stat-card {\n  text-align: center;\n  padding: 1.5rem;\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n}\n\n.stat-card:hover {\n  background: #f9f9f9;\n  transform: translateY(-3px);\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);\n}\n\n.stat-icon {\n  font-size: 2.5rem;\n  margin-bottom: 0.5rem;\n}\n\n.stat-value {\n  font-size: 2rem;\n  font-weight: bold;\n  color: #2c3e50;\n  margin-bottom: 0.3rem;\n}\n\n.stat-label {\n  color: #666;\n  font-size: 0.95rem;\n}\n\n/* 操作按钮 */\n:deep(.btn-primary) {\n  background-color: #3498db;\n  border: none;\n  border-radius: 8px;\n  padding: 0.6rem 1.5rem;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n:deep(.btn-primary:hover) {\n  background-color: #2980b9;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);\n}\n\n:deep(.btn-success) {\n  background-color: #2ecc71;\n  border: none;\n  border-radius: 8px;\n  padding: 0.6rem 1.5rem;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n:deep(.btn-success:hover) {\n  background-color: #27ae60;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(46, 204, 113, 0.3);\n}\n\n/* 评论区域 */\n.comment-item {\n  background: #f0f0f0;\n  padding: 1.5rem;\n  border-radius: 12px;\n  margin-bottom: 1.5rem;\n  transition: all 0.3s ease;\n  border: none;\n}\n\n.comment-item:hover {\n  background: #e8e8e8;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n}\n\n.comment-item:last-child {\n  margin-bottom: 0;\n}\n\n/* 表单控件 */\n:deep(.form-control),\n:deep(.form-select),\n:deep(textarea) {\n  border-radius: 8px;\n  border: 1px solid #ccc;\n  padding: 0.7rem 1rem;\n  transition: all 0.3s ease;\n}\n\n:deep(.form-control:focus),\n:deep(.form-select:focus),\n:deep(textarea:focus) {\n  border-color: #3498db;\n  box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);\n  outline: none;\n}\n\n:deep(textarea) {\n  min-height: 100px;\n  resize: vertical;\n}\n\n/* 头像 */\n:deep(.rounded-circle) {\n  border: 2px solid #e0e0e0;\n  object-fit: cover;\n}\n\n/* 删除按钮 */\n:deep(.btn-danger) {\n  background-color: #c0392b;\n  border: none;\n  border-radius: 6px;\n  padding: 0.4rem 0.8rem;\n  font-size: 0.9rem;\n  transition: all 0.3s ease;\n}\n\n:deep(.btn-danger:hover) {\n  background-color: #a02818;\n  transform: scale(1.05);\n}\n\n/* 表格样式（如需要） */\n:deep(table) {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 1rem;\n}\n\n:deep(table), :deep(th), :deep(td) {\n  border: 1px solid #ccc;\n}\n\n:deep(th), :deep(td) {\n  padding: 0.75rem;\n  text-align: left;\n}\n\n:deep(th) {\n  background-color: #f0f0f0;\n  font-weight: 600;\n}\n\n/* 基本信息区域 */\n.basic-info-section {\n  margin-bottom: 2rem;\n  padding: 1.5rem;\n  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);\n  border-radius: 12px;\n  border: 1px solid #e0e0e0;\n}\n\n.info-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1rem;\n  margin-top: 1rem;\n}\n\n.info-item {\n  display: flex;\n  flex-direction: column;\n  padding: 0.8rem;\n  background: #fff;\n  border-radius: 8px;\n  border: 1px solid #f0f0f0;\n}\n\n.info-label {\n  font-weight: 600;\n  color: #555;\n  margin-bottom: 0.3rem;\n  font-size: 0.9rem;\n}\n\n.info-value {\n  color: #2c3e50;\n  font-size: 1rem;\n}\n\n/* 行程亮点列表 */\n.highlights-list {\n  list-style: none;\n  padding-left: 0;\n}\n\n.highlights-list li {\n  padding: 0.8rem 1rem;\n  margin-bottom: 0.8rem;\n  background: linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%);\n  border-left: 4px solid #3498db;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.highlights-list li:hover {\n  background: linear-gradient(90deg, #e8f4fd 0%, #f8f9fa 100%);\n  border-left-color: #2980b9;\n  transform: translateX(5px);\n  box-shadow: 0 2px 8px rgba(52, 152, 219, 0.15);\n}\n\n/* 详细行程区域 */\n.itinerary-section {\n  margin-top: 1rem;\n}\n\n.itinerary-item {\n  padding: 1.2rem;\n  margin-bottom: 1.5rem;\n  background: #fff;\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n}\n\n.itinerary-item:hover {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  transform: translateY(-2px);\n}\n\n.itinerary-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.8rem;\n  padding-bottom: 0.6rem;\n  border-bottom: 2px solid #f0f0f0;\n}\n\n.itinerary-day {\n  color: #2c3e50;\n  font-size: 1.1rem;\n}\n\n.itinerary-time {\n  color: #7f8c8d;\n  font-size: 0.9rem;\n}\n\n.itinerary-content {\n  line-height: 1.8;\n  color: #555;\n  margin-bottom: 0.8rem;\n}\n\n.itinerary-highlight {\n  padding: 0.6rem 1rem;\n  background: linear-gradient(90deg, #e8f4fd 0%, #f0f8ff 100%);\n  border-left: 3px solid #3498db;\n  border-radius: 6px;\n  color: #2c3e50;\n  font-size: 0.95rem;\n  margin-top: 0.8rem;\n}\n\n/* 实用提示区域 */\n.tips-section {\n  margin-top: 2rem;\n  padding: 1.5rem;\n  background: linear-gradient(135deg, #fff8dc 0%, #fffaed 100%);\n  border-radius: 12px;\n  border: 1px solid #f0e68c;\n}\n\n.tips-list {\n  list-style: none;\n  padding-left: 0;\n  margin-top: 1rem;\n}\n\n.tips-list li {\n  padding: 0.6rem 0.8rem;\n  margin-bottom: 0.6rem;\n  background: #fff;\n  border-radius: 6px;\n  border-left: 3px solid #f39c12;\n  color: #555;\n  transition: all 0.2s ease;\n}\n\n.tips-list li:hover {\n  background: #fffbf0;\n  transform: translateX(3px);\n}\n\n/* 预算表格总计行 */\n.total-row {\n  font-weight: bold;\n  background-color: #f9f9f9;\n  border-top: 2px solid #3498db;\n}\n\n.total-row td {\n  color: #2c3e50;\n  font-size: 1.05rem;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  :deep(.card-body) {\n    padding: 1.5rem;\n  }\n  \n  .stat-card {\n    padding: 1rem;\n  }\n  \n  .stat-icon {\n    font-size: 2rem;\n  }\n  \n  .stat-value {\n    font-size: 1.5rem;\n  }\n  \n  .comment-item {\n    padding: 1rem;\n  }\n  \n  .info-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .basic-info-section {\n    padding: 1rem;\n  }\n  \n  .highlights-list li {\n    padding: 0.6rem 0.8rem;\n    font-size: 0.95rem;\n  }\n  \n  .itinerary-item {\n    padding: 1rem;\n  }\n  \n  .itinerary-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.3rem;\n  }\n  \n  .itinerary-time {\n    font-size: 0.85rem;\n  }\n  \n  .itinerary-content {\n    font-size: 0.95rem;\n  }\n  \n  .tips-section {\n    padding: 1rem;\n  }\n  \n  .tips-list li {\n    font-size: 0.9rem;\n  }\n}\n\n/* 返回按钮 */\n.back-btn {\n  position: fixed;\n  top: 100px;\n  left: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  font-size: 1.8rem;\n  cursor: pointer;\n  z-index: 1000;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  opacity: 0.7;\n}\n\n.back-btn:hover {\n  background: linear-gradient(135deg, #5568d3 0%, #6a3f91 100%);\n  transform: scale(1.1);\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);\n  opacity: 1;\n}\n\n/* 音乐按钮 */\n.music-btn {\n  position: fixed;\n  bottom: 30px;\n  right: 30px;\n  background: rgba(255, 255, 255, 0.95);\n  border: none;\n  border-radius: 50%;\n  width: 56px;\n  height: 56px;\n  font-size: 24px;\n  cursor: pointer;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n  z-index: 1000;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0.7;\n}\n\n.music-btn:hover {\n  background: white;\n  transform: scale(1.1);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);\n  opacity: 1;\n}\n\n/* 移动端按钮适配 */\n@media (max-width: 768px) {\n  .back-btn {\n    top: 80px;\n    left: 15px;\n    width: 45px;\n    height: 45px;\n    font-size: 1.5rem;\n  }\n  \n  .music-btn {\n    bottom: 20px;\n    right: 20px;\n    width: 50px;\n    height: 50px;\n    font-size: 20px;\n  }\n}\n</style>\n\n","/**\r\n * 评论相关API\r\n */\r\nimport request from './request'\r\n\r\n/**\r\n * 获取评论列表\r\n * @param {Object} params - 查询参数 {trip, page_size, user}\r\n * @param {string} params.trip - 旅行页面标识（必需）\r\n * @param {number} params.page_size - 每页数量\r\n * @param {number} params.user - 用户ID过滤\r\n */\r\nexport const getCommentList = async (params) => {\r\n    return request.get('/comments/', { params })\r\n}\r\n\r\n/**\r\n * 创建评论\r\n * @param {FormData} data - 表单数据（包含文件）\r\n */\r\nexport const createComment = (data) => {\r\n    return request.post('/comments/', data, {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 删除评论\r\n * @param {number} id - 评论ID\r\n */\r\nexport const deleteComment = (id) => {\r\n    return request.delete(`/comments/${id}/`)\r\n}\r\n\r\n/**\r\n * 获取评论详情\r\n * @param {number} id - 评论ID\r\n */\r\nexport const getCommentDetail = (id) => {\r\n    return request.get(`/comments/${id}/`)\r\n}\r\n\r\n/**\r\n * 为评论添加图片\r\n * @param {number} id - 评论ID\r\n * @param {FormData} data - 表单数据（包含图片文件）\r\n */\r\nexport const addCommentImage = (id, data) => {\r\n    return request.post(`/comments/${id}/add_image/`, data, {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * 更新评论内容\r\n * @param {number} id - 评论ID\r\n * @param {Object} data - 评论数据 {content}\r\n */\r\nexport const updateComment = (id, data) => {\r\n    return request.patch(`/comments/${id}/`, data)\r\n}\r\n\r\n/**\r\n * 获取评论的回复列表\r\n * @param {number} id - 评论ID\r\n */\r\nexport const getCommentReplies = (id) => {\r\n    return request.get(`/comments/${id}/replies/`)\r\n}\r\n\r\n","/**\r\n * 旅行页面配置\r\n * 为不同的旅行页面提供个性化设置\r\n */\r\n\r\nexport const tripConfigs = {\r\n    // 厦门旅行\r\n    trip: {\r\n        title: '2025年厦门旅行计划',\r\n        backgroundColor: '#f0e68c',\r\n        dates: {\r\n            start: '2025-06-22',\r\n            end: '2025-06-24'\r\n        },\r\n        icon: '🏖️',\r\n        // 行程概览配置\r\n        overview: {\r\n            // 基本信息\r\n            basicInfo: {\r\n                departure: '南昌',\r\n                destination: '厦门',\r\n                transport: '高铁往返（221元×2）',\r\n                accommodation: '南枫云居酒店（近植物园，2晚）'\r\n            },\r\n            // 行程亮点\r\n            highlights: [\r\n                '🏝️ 厦门植物园 - 热带雨林奇观，傍晚光线柔和',\r\n                '🌊 鼓浪屿 - 文艺岛屿，海上花园漫步',\r\n                '🏖️ 曾厝垵 - 文艺小店探秘，体验海滨慢生活',\r\n                '🚴 环岛路 - 海边骑行，欣赏无敌海景',\r\n                '🌅 看日出日落 - 盼归塔/白城沙滩，捕捉最美时刻'\r\n            ],\r\n            // 详细行程\r\n            itinerary: [\r\n                {\r\n                    day: '第一天（6月22日）',\r\n                    time: '14:04抵达',\r\n                    content: '14:04抵达厦门北站 → 入住酒店 → 16:00-18:00厦门植物园（学生票14.86元）→ 沙坡尾/曾厝垵晚餐 → 海边散步/集市',\r\n                    highlight: '🌿 植物园环境优美，适合拍照'\r\n                },\r\n                {\r\n                    day: '第二天（6月23日）',\r\n                    time: '05:21日出',\r\n                    content: '4:20起床看日出（盼归塔/白城沙滩）→ 09:00-13:00鼓浪屿 → 14:30-17:30八市+中山路步行街 → 傍晚海边看日落',\r\n                    highlight: '🏝️ 鼓浪屿文艺岛屿；🛍️ 八市烟火气浓厚'\r\n                },\r\n                {\r\n                    day: '第三天（6月24日）',\r\n                    time: '15:54返程',\r\n                    content: '上午鸿山公园 → 南普陀寺参拜 → 午餐 → 14:00前往厦门北站 → 15:54高铁返程',\r\n                    highlight: '🏯 普陀寺体验佛教文化'\r\n                }\r\n            ],\r\n            // 预算明细\r\n            budget: {\r\n                items: [\r\n                    { name: '往返高铁', amount: 442, note: '南昌-厦门 221×2' },\r\n                    { name: '景点门票', amount: 120, note: '学生票' },\r\n                    { name: '地铁+市内交通', amount: 100, note: '含地铁、短打车' },\r\n                    { name: '住宿', amount: 800, note: '南枫云居2晚' },\r\n                    { name: '餐饮', amount: 600, note: '特色海鲜+小吃' },\r\n                    { name: '其他消费', amount: 138, note: '零食、纪念品' }\r\n                ],\r\n                total: 2200\r\n            },\r\n            // 实用提示\r\n            tips: [\r\n                '📸 最佳拍照时间：早晚光线柔和',\r\n                '🌅 日出时间05:21，建议4:20起床',\r\n                '🎫 提前购买学生票，节省费用',\r\n                '🏖️ 提前预定靠近植物园的酒店',\r\n                '🍜 必尝：沙茶面、海蛎煎、花生汤'\r\n            ]\r\n        }\r\n    },\r\n\r\n    // 三岔河一日游\r\n    trip1: {\r\n        title: '2025年7月三岔河一日游计划',\r\n        backgroundColor: '#f0e68c',\r\n        dates: {\r\n            start: '2025-07-15',\r\n            end: '2025-07-15'\r\n        },\r\n        icon: '🏞️',\r\n        overview: {\r\n            // 基本信息\r\n            basicInfo: {\r\n                participants: 'J.Grigg 和 Leo_Winston',\r\n                departure: '陆良',\r\n                destination: '三岔河镇',\r\n                transport: '自驾/包车',\r\n                duration: '1天'\r\n            },\r\n            // 行程亮点\r\n            highlights: [\r\n                '🏞️ 龙海山·龙凤寺 - 徒步登山，俯瞰全景',\r\n                '💧 白水塘 - 赏荷花，野餐吹风',\r\n                '🌿 紫溪湿地公园 - 赏景拍照，轻松散步',\r\n                '🦢 观鸟胜地 - 邂逅野生鸟类',\r\n                '🌃 三岔河镇夜游 - 感受当地人文'\r\n            ],\r\n            // 详细行程\r\n            itinerary: [\r\n                { day: '上午', time: '08:30-10:00', content: '龙海山·龙凤寺 - 徒步登山，拍照打卡' },\r\n                { day: '上午', time: '10:00-11:30', content: '白水塘 - 欣赏荷花，野餐吹风' },\r\n                { day: '中午', time: '11:30-13:00', content: '午饭+休息 - 回家吃饭或附近小吃' },\r\n                { day: '下午', time: '13:30-15:00', content: '紫溪湿地公园 - 赏景、拍照、轻松散步' },\r\n                { day: '下午', time: '15:00-16:00', content: '回程+小零食 - 买奶茶奖励一下自己' },\r\n                { day: '晚上', time: '19:00-20:30', content: '逛三岔河镇 - 晚饭后散步、夜游、感受人文' }\r\n            ],\r\n            // 预算明细\r\n            budget: {\r\n                items: [\r\n                    { name: '交通', amount: 100, note: '往返车费/油费' },\r\n                    { name: '餐饮', amount: 80, note: '午餐+零食+奶茶' },\r\n                    { name: '门票', amount: 20, note: '湿地公园门票' }\r\n                ],\r\n                total: 200\r\n            },\r\n            // 实用提示\r\n            tips: [\r\n                '📸 最佳拍照：清晨/傍晚光线柔和',\r\n                '🎒 建议携带：防晒霜、帽子、水',\r\n                '🌸 荷花最佳观赏期：7-8月',\r\n                '🦢 观鸟最佳时间：清晨或傍晚',\r\n                '🥾 穿舒适的鞋子，便于徒步'\r\n            ]\r\n        }\r\n    },\r\n\r\n    // 曲靖市区两日游\r\n    trip2: {\r\n        title: '曲靖市区两日游',\r\n        backgroundColor: '#f0e68c',\r\n        dates: {\r\n            start: '2025-08-10',\r\n            end: '2025-08-11'\r\n        },\r\n        icon: '🏙️',\r\n        overview: {\r\n            // 基本信息\r\n            basicInfo: {\r\n                participants: 'J.Grigg 和 Leo_Winston',\r\n                departure: '陆良',\r\n                destination: '曲靖市区',\r\n                transport: '大巴往返',\r\n                departureTime: '2025年7月13日 08:00',\r\n                budget: '约450元/2人'\r\n            },\r\n            // 行程亮点\r\n            highlights: [\r\n                '🏛️ 曲靖古城 - 探索历史文化，品味古韵',\r\n                '🍜 过桥米线 - 品尝曲靖地道美食',\r\n                '🌳 麒麟公园 - 城市绿肺，休闲漫步',\r\n                '🏔️ 珠江源风景区 - 探寻珠江之源',\r\n                '🛍️ 南城门商圈 - 特产采购，体验繁华'\r\n            ],\r\n            // 详细行程\r\n            itinerary: [\r\n                {\r\n                    day: '第一天',\r\n                    time: '08:00出发',\r\n                    content: '08:00陆良出发（大巴）→ 抵达曲靖 → 入住酒店 → 曲靖古城游览 → 品尝过桥米线 → 麒麟公园散步 → 晚餐体验本地特色',\r\n                    highlight: '🏛️ 古城历史韵味浓厚'\r\n                },\r\n                {\r\n                    day: '第二天',\r\n                    time: '全天',\r\n                    content: '早餐 → 珠江源风景区游览 → 午餐 → 南城门商圈购物 → 采购特产 → 返程回陆良',\r\n                    highlight: '🏔️ 珠江源探秘，购物休闲'\r\n                }\r\n            ],\r\n            // 预算明细\r\n            budget: {\r\n                items: [\r\n                    { name: '交通', amount: 150, note: '大巴往返' },\r\n                    { name: '住宿', amount: 80, note: '1晚经济型酒店' },\r\n                    { name: '餐饮', amount: 150, note: '过桥米线+特色菜' },\r\n                    { name: '门票', amount: 50, note: '景点门票' },\r\n                    { name: '缓冲', amount: 20, note: '应急备用' }\r\n                ],\r\n                total: 450\r\n            },\r\n            // 实用提示\r\n            tips: [\r\n                '🍜 必尝：曲靖过桥米线、蒸饵丝',\r\n                '🏛️ 古城最佳游览时间：上午或傍晚',\r\n                '🎒 建议携带：雨伞、防晒用品',\r\n                '🛍️ 特产推荐：曲靖韭菜花、宣威火腿',\r\n                '💰 提前预定酒店，性价比更高'\r\n            ]\r\n        }\r\n    },\r\n\r\n    // 昆明三天两夜旅行\r\n    trip3: {\r\n        title: '昆明三天两夜旅行',\r\n        backgroundColor: '#f0e68c',\r\n        dates: {\r\n            start: '2025-09-01',\r\n            end: '2025-09-03'\r\n        },\r\n        icon: '🌸',\r\n        overview: {\r\n            // 基本信息\r\n            basicInfo: {\r\n                participants: 'J.Grigg 和 Leo_Winston',\r\n                departureTime: '2025年7月19日 08:00',\r\n                returnTime: '第三天下午 14:30-18:00',\r\n                transport: '以地铁/公交为主，步行为辅',\r\n                budget: '总体不超过450元/人'\r\n            },\r\n            // 行程亮点\r\n            highlights: [\r\n                '🎓 西南联大旧址 - 感受历史底蕴，校园人文',\r\n                '🌸 翠湖公园 - 湖边漫步，冬季观红嘴鸥',\r\n                '🏔️ 西山风景区 - 索道俯瞰滇池，龙门石窟',\r\n                '🌊 滇池海埂公园 - 高原明珠，拍照圣地',\r\n                '🍄 野生菌火锅 - 云南特色，舌尖享受',\r\n                '🎡 公园1903 - 欧式建筑，摩天轮打卡'\r\n            ],\r\n            // 详细行程\r\n            itinerary: [\r\n                {\r\n                    day: '第一天（城市文艺线）',\r\n                    time: '08:00-22:00',\r\n                    content: '08:00-12:00 出发+抵达昆明+地铁前往西南联大 → 12:00-13:00 文林街午餐（米线/烧烤）→ 13:00-15:00 西南联大旧址&云南大学 → 15:00-17:00 文林街+文化巷+翠湖公园 → 17:00-18:00 陆军讲武堂 → 18:00-19:30 晚餐 → 20:00-21:30 文林街周围散步 → 22:00入住酒店',\r\n                    highlight: '🎓 感受大学城文艺气息，历史建筑拍照'\r\n                },\r\n                {\r\n                    day: '第二天（山水自然线）',\r\n                    time: '07:00-22:00',\r\n                    content: '07:00-08:00 早餐（豆浆+烧饵块/小锅米线）→ 08:00-12:30 西山风景区（龙门），地铁3号线+索道俯瞰滇池 → 12:30-13:30 午餐 → 14:00-16:00 滇池海埂公园漫步拍照 → 16:30-18:00 公园1903（欧式建筑/摩天轮）→ 18:30-20:00 晚餐（炸洋芋/烧烤）→ 20:30-22:00 返回酒店休息',\r\n                    highlight: '🏔️ 西山龙门+滇池美景，自然风光满分'\r\n                },\r\n                {\r\n                    day: '第三天（悠闲市井线）',\r\n                    time: '07:30-18:00',\r\n                    content: '07:30-08:30 早餐+退房 → 09:00-11:00 东南亚风情市场+湖滨生态湿地公园 → 11:30-13:00 午饭 → 13:00-14:30 自由活动/补拍打卡/采购伴手礼 → 14:30-18:00 返程回陆良',\r\n                    highlight: '🛍️ 体验市井生活，采购云南特产'\r\n                }\r\n            ],\r\n            // 预算明细\r\n            budget: {\r\n                items: [\r\n                    { name: '交通', amount: 150, note: '往返+地铁/公交' },\r\n                    { name: '住宿', amount: 160, note: '2晚经济型酒店' },\r\n                    { name: '餐饮', amount: 100, note: '米线+野生菌+小吃' },\r\n                    { name: '门票', amount: 40, note: '西山龙门+公园' }\r\n                ],\r\n                total: 450\r\n            },\r\n            // 实用提示\r\n            tips: [\r\n                '🚇 购买地铁一日票，更划算',\r\n                '🍄 野生菌季节（6-10月），必尝菌火锅',\r\n                '🌸 翠湖冬季（11月-3月）可观红嘴鸥',\r\n                '☀️ 昆明紫外线强，注意防晒',\r\n                '🏨 提前预定靠近地铁站的酒店',\r\n                '📸 西山龙门索道俯瞰滇池，最佳拍照点',\r\n                '💰 文林街小吃性价比高'\r\n            ]\r\n        }\r\n    },\r\n\r\n    // 长沙3天2夜慢旅行\r\n    trip4: {\r\n        title: '长沙3天2夜慢旅行',\r\n        backgroundColor: '#f0e68c',\r\n        dates: {\r\n            start: '2025-10-01',\r\n            end: '2025-10-03'\r\n        },\r\n        icon: '🌶️',\r\n        // 长沙特色样式\r\n        customStyles: {\r\n            specialBg: 'linear-gradient(135deg, #e8f4fd 0%, #d1ecf1 100%)',\r\n            dayBorderColor: '#ff6b6b'\r\n        },\r\n        overview: {\r\n            // 基本信息\r\n            basicInfo: {\r\n                destination: '长沙',\r\n                transport: '高铁往返',\r\n                duration: '3天2夜',\r\n                theme: '美食+文化+娱乐'\r\n            },\r\n            // 行程亮点\r\n            highlights: [\r\n                '🏮 橘子洲头 - 毛泽东青年艺术雕塑，湘江美景',\r\n                '🌶️ 太平街 - 长沙臭豆腐、糖油粑粑、小龙虾',\r\n                '🏛️ 岳麓书院 - 千年学府，\"惟楚有材，于斯为盛\"',\r\n                '🍂 爱晚亭 - 杜牧《山行》取景地',\r\n                '🎭 湖南卫视 - 娱乐之都，芒果台打卡',\r\n                '🏛️ 湖南省博物馆 - 马王堆汉墓，辛追夫人',\r\n                '🍜 解放西路 - 夜生活圣地，酒吧一条街'\r\n            ],\r\n            // 详细行程\r\n            itinerary: [\r\n                {\r\n                    day: '第一天（城市初体验）',\r\n                    time: '全天',\r\n                    content: '抵达长沙 → 入住酒店 → 橘子洲头（地铁2号线）看湘江+毛泽东雕塑 → 太平街美食街（臭豆腐/糖油粑粑/茶颜悦色）→ 黄兴路步行街 → 解放西路酒吧街夜生活',\r\n                    highlight: '🏮 感受长沙烟火气，品尝地道小吃'\r\n                },\r\n                {\r\n                    day: '第二天（文化深度游）',\r\n                    time: '全天',\r\n                    content: '岳麓山徒步（索道上山，步行下山）→ 岳麓书院（门票50元）→ 爱晚亭拍照 → 湖南大学校园 → 河西大学城美食 → 湘江边散步看夜景',\r\n                    highlight: '🏛️ 千年学府文化熏陶，山水之间徒步'\r\n                },\r\n                {\r\n                    day: '第三天（博物馆+购物）',\r\n                    time: '返程前',\r\n                    content: '湖南省博物馆（马王堆汉墓，需预约）→ IFS国金中心/五一广场购物 → 打卡网红店 → 采购特产（酱板鸭/槟榔/辣条）→ 高铁返程',\r\n                    highlight: '🏛️ 探秘两千年古墓，现代与历史交融'\r\n                }\r\n            ],\r\n            // 预算明细\r\n            budget: {\r\n                items: [\r\n                    { name: '高铁往返', amount: 800, note: '二等座' },\r\n                    { name: '住宿', amount: 600, note: '2晚市中心酒店' },\r\n                    { name: '餐饮', amount: 500, note: '湘菜+小吃+奶茶' },\r\n                    { name: '门票', amount: 100, note: '岳麓书院50+索道' },\r\n                    { name: '市内交通', amount: 50, note: '地铁+公交' }\r\n                ],\r\n                total: 2050\r\n            },\r\n            // 实用提示\r\n            tips: [\r\n                '🌶️ 长沙菜偏辣，不吃辣提前说明',\r\n                '🎫 湖南省博物馆需提前3天预约',\r\n                '☕ 茶颜悦色是长沙特色奶茶，必打卡',\r\n                '🚇 办理长沙地铁3日卡更划算',\r\n                '🏨 住五一广场/黄兴路附近，交通便利',\r\n                '📸 橘子洲烟花：每周六晚20:30（夏季）',\r\n                '🍜 必吃：文和友、炊烟时代小炒黄牛肉'\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 获取旅行配置\r\n * @param {string} slug - 旅行标识符\r\n * @returns {object} 配置对象\r\n */\r\nexport const getTripConfig = (slug) => {\r\n    return tripConfigs[slug] || {\r\n        title: '旅行计划',\r\n        backgroundColor: '#f0e68c',\r\n        dates: null,\r\n        icon: '🗺️'\r\n    }\r\n}\r\n\r\nexport default {\r\n    tripConfigs,\r\n    getTripConfig\r\n}\r\n\r\n","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <h3 class=\"mb-3\">🌊 旅行进度条</h3>\r\n      <div class=\"progress-container\">\r\n        <div \r\n          class=\"progress-bar\" \r\n          :style=\"{ width: progress + '%' }\"\r\n        >\r\n          {{ progress }}%\r\n        </div>\r\n      </div>\r\n      <p v-if=\"message\" class=\"text-muted text-center mt-3 mb-0\">\r\n        {{ message }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\n\r\nexport default {\r\n  name: 'TripProgress',\r\n  \r\n  props: {\r\n    startDate: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    endDate: {\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  \r\n  setup(props) {\r\n    const progress = ref(0)\r\n    const message = ref('')\r\n    \r\n    const calculateProgress = () => {\r\n      if (!props.startDate || !props.endDate) {\r\n        progress.value = 50\r\n        message.value = '旅行进度加载中...'\r\n        return\r\n      }\r\n      \r\n      const now = new Date()\r\n      const start = new Date(props.startDate)\r\n      const end = new Date(props.endDate)\r\n      \r\n      if (now < start) {\r\n        progress.value = 0\r\n        message.value = '旅行即将开始！'\r\n      } else if (now > end) {\r\n        progress.value = 100\r\n        message.value = '旅行已结束，期待下次旅程！'\r\n      } else {\r\n        const total = end - start\r\n        const elapsed = now - start\r\n        progress.value = Math.round((elapsed / total) * 100)\r\n        message.value = `旅行进行中，已完成 ${progress.value}%`\r\n      }\r\n    }\r\n    \r\n    onMounted(() => {\r\n      calculateProgress()\r\n    })\r\n    \r\n    return {\r\n      progress,\r\n      message\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.progress-container {\r\n  background: #e0e0e0;\r\n  border-radius: 20px;\r\n  overflow: hidden;\r\n  height: 28px;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.progress-bar {\r\n  background: linear-gradient(90deg, #4caf50 0%, #45a049 100%);\r\n  height: 100%;\r\n  text-align: center;\r\n  color: white;\r\n  line-height: 28px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  transition: width 0.6s ease;\r\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n</style>\r\n\r\n","import { render } from \"./TripProgress.vue?vue&type=template&id=3d7e4ff4&scoped=true\"\nimport script from \"./TripProgress.vue?vue&type=script&lang=js\"\nexport * from \"./TripProgress.vue?vue&type=script&lang=js\"\n\nimport \"./TripProgress.vue?vue&type=style&index=0&id=3d7e4ff4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d7e4ff4\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"stats-card\">\r\n    <div class=\"stats-container\">\r\n      <div class=\"stat-item\">\r\n        <span class=\"stat-icon\">👁️</span>\r\n        <span class=\"stat-text\">浏览量：<strong>{{ views }}</strong></span>\r\n      </div>\r\n      <div class=\"stat-divider\">｜</div>\r\n      <div class=\"stat-item\">\r\n        <span class=\"stat-icon\">❤️</span>\r\n        <span class=\"stat-text\">点赞：<strong>{{ likes }}</strong></span>\r\n      </div>\r\n    </div>\r\n    <button \r\n      class=\"like-btn\" \r\n      @click=\"handleLike\"\r\n      :disabled=\"liking\"\r\n    >\r\n      <span v-if=\"liking\" class=\"spinner-border spinner-border-sm me-2\"></span>\r\n      👍 {{ liking ? '点赞中...' : '点赞' }}\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\n\r\nexport default {\r\n  name: 'TripStats',\r\n  \r\n  props: {\r\n    views: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    likes: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  \r\n  emits: ['like'],\r\n  \r\n  setup(props, { emit }) {\r\n    const liking = ref(false)\r\n    \r\n    const handleLike = async () => {\r\n      liking.value = true\r\n      try {\r\n        await emit('like')\r\n      } finally {\r\n        setTimeout(() => {\r\n          liking.value = false\r\n        }, 500)\r\n      }\r\n    }\r\n    \r\n    return {\r\n      liking,\r\n      handleLike\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stats-card {\r\n  background: #fff;\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  padding: 1.5rem 2rem;\r\n  margin-bottom: 2rem;\r\n  text-align: center;\r\n}\r\n\r\n.stats-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 1.5rem;\r\n  margin-bottom: 1rem;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.stat-icon {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.stat-text {\r\n  color: #555;\r\n}\r\n\r\n.stat-text strong {\r\n  color: #2c3e50;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.stat-divider {\r\n  color: #ccc;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.like-btn {\r\n  display: inline-block;\r\n  padding: 0.6rem 1.5rem;\r\n  background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 8px rgba(52, 152, 219, 0.2);\r\n}\r\n\r\n.like-btn:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);\r\n}\r\n\r\n.like-btn:disabled {\r\n  opacity: 0.7;\r\n  cursor: not-allowed;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n  .stats-container {\r\n    font-size: 1rem;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .stat-icon {\r\n    font-size: 1.3rem;\r\n  }\r\n  \r\n  .like-btn {\r\n    font-size: 0.95rem;\r\n    padding: 0.5rem 1.2rem;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./TripStats.vue?vue&type=template&id=a55143a6&scoped=true\"\nimport script from \"./TripStats.vue?vue&type=script&lang=js\"\nexport * from \"./TripStats.vue?vue&type=script&lang=js\"\n\nimport \"./TripStats.vue?vue&type=style&index=0&id=a55143a6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a55143a6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <h3 class=\"mb-3\">📋 {{ title }}</h3>\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TripOverview',\r\n  \r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: '行程概览'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  background: #fff;\r\n  border: none;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.card-body {\r\n  padding: 2rem;\r\n}\r\n\r\n.card-body h3 {\r\n  color: #2c3e50;\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n  border-bottom: 2px solid #f0f0f0;\r\n  padding-bottom: 0.8rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n/* 为内部内容提供默认样式 */\r\n:deep(h4) {\r\n  color: #34495e;\r\n  font-size: 1.1rem;\r\n  margin-top: 1.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n:deep(p) {\r\n  line-height: 1.8;\r\n  color: #555;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n:deep(ul), :deep(ol) {\r\n  padding-left: 1.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n:deep(li) {\r\n  margin-bottom: 0.5rem;\r\n  line-height: 1.6;\r\n}\r\n\r\n:deep(table) {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 1rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n:deep(table), :deep(th), :deep(td) {\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n:deep(th), :deep(td) {\r\n  padding: 0.75rem;\r\n  text-align: left;\r\n}\r\n\r\n:deep(th) {\r\n  background-color: #f5f5f5;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n:deep(tr:hover) {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .card-body {\r\n    padding: 1.5rem;\r\n  }\r\n  \r\n  .card-body h3 {\r\n    font-size: 1.1rem;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./TripOverview.vue?vue&type=template&id=f357579e&scoped=true\"\nimport script from \"./TripOverview.vue?vue&type=script&lang=js\"\nexport * from \"./TripOverview.vue?vue&type=script&lang=js\"\n\nimport \"./TripOverview.vue?vue&type=style&index=0&id=f357579e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f357579e\"]])\n\nexport default __exports__","<template>\n  <div class=\"card\">\n    <div class=\"card-body\">\n      <h3 class=\"mb-4\">📍 打卡与留言</h3>\n      \n      <!-- 打卡按钮 -->\n      <div class=\"checkin-section mb-4\">\n        <button\n          class=\"btn btn-success btn-lg\"\n          @click=\"handleCheckin\"\n          :disabled=\"checking || hasCheckedIn\"\n        >\n          <span v-if=\"checking\" class=\"spinner-border spinner-border-sm me-2\"></span>\n          {{ checkinButtonText }}\n        </button>\n        <p v-if=\"hasCheckedIn\" class=\"text-success mt-2 mb-0\">\n          ✅ 您已打卡成功！\n        </p>\n      </div>\n      \n      <!-- 发表评论表单 - 只对作者显示 -->\n      <CommentForm\n        v-if=\"isAuthor\"\n        :submitting=\"submitting\"\n        @submit=\"handleSubmit\"\n      />\n      \n      <!-- 评论列表 -->\n      <div class=\"comment-list\">\n        <div class=\"d-flex justify-content-between align-items-center mb-3\">\n          <h5 class=\"mb-0\">评论列表 ({{ comments.length }}条)</h5>\n          <!-- 管理评论模式切换按钮 -->\n          <button\n            v-if=\"hasManageableComments\"\n            class=\"btn btn-sm\"\n            :class=\"isManageMode ? 'btn-secondary' : 'btn-outline-secondary'\"\n            @click=\"toggleManageMode\"\n            title=\"管理评论\"\n          >\n            {{ isManageMode ? '完成管理' : '管理评论' }}\n          </button>\n        </div>\n        \n        <div v-if=\"comments.length === 0\" class=\"text-center text-muted py-4\">\n          暂无评论，快来留下第一条评论吧！\n        </div>\n        \n        <CommentItem\n          v-for=\"comment in comments\"\n          :key=\"comment.id\"\n          :comment=\"comment\"\n          :editing=\"editingComments[comment.id] !== undefined && editingComments[comment.id] !== false\"\n          :is-expanded=\"expandedReplies[comment.id] || false\"\n          :reply-count=\"(replyLists[comment.id] || []).length\"\n          :replies=\"replyLists[comment.id] || []\"\n          :get-avatar-url=\"getAvatarUrl\"\n          @show-image-modal=\"showImageModal\"\n          @toggle-reply=\"toggleReplySection\"\n          @update:content=\"(content) => updateLocalContent(comment.id, content)\"\n        >\n          <!-- 操作按钮插槽 -->\n          <template #actions>\n                  <template v-if=\"isManageMode\">\n                    <!-- 编辑模式按钮 -->\n                    <button\n                      v-if=\"comment.can_delete && !editingComments[comment.id]\"\n                      class=\"btn btn-sm btn-outline-primary\"\n                      @click=\"startEditing(comment.id, comment.content)\"\n                      title=\"编辑评论\"\n                    >\n                      ✏️\n                    </button>\n                    <!-- 保存按钮 -->\n                    <button\n                      v-if=\"editingComments[comment.id]\"\n                      class=\"btn btn-sm btn-success\"\n                      @click=\"handleSaveComment(comment.id)\"\n                      title=\"保存修改\"\n                    >\n                      ✓\n                    </button>\n              <!-- 添加/替换图片按钮 -->\n                    <button\n                      v-if=\"canAddImage(comment) && editingComments[comment.id]\"\n                      class=\"btn btn-sm btn-outline-success\"\n                      @click=\"handleAddImage(comment.id)\"\n                      :title=\"comment.image ? '替换图片' : '添加图片'\"\n                    >\n                      📷\n                    </button>\n                    <!-- 取消编辑按钮 -->\n                    <button\n                      v-if=\"editingComments[comment.id]\"\n                      class=\"btn btn-sm btn-outline-secondary\"\n                      @click=\"cancelEditing(comment.id)\"\n                      title=\"取消\"\n                    >\n                      ✕\n                    </button>\n              <!-- 删除按钮 -->\n                    <button\n                      v-if=\"comment.can_delete\"\n                      class=\"btn btn-sm btn-outline-danger\"\n                      @click=\"handleDelete(comment.id)\"\n                      title=\"删除这条评论\"\n                    >\n                      🗑️\n                    </button>\n                  </template>\n          </template>\n          \n          <!-- 回复区域插槽 -->\n          <template #replies>\n            <ReplySection\n              v-if=\"expandedReplies[comment.id]\"\n              :expanded=\"expandedReplies[comment.id]\"\n              :replies=\"replyLists[comment.id] || []\"\n              :submitting=\"submittingReply[comment.id] || false\"\n              :get-avatar-url=\"getAvatarUrl\"\n              @submit=\"(content) => handleSubmitReply(comment.id, content)\"\n              @cancel=\"() => cancelReply(comment.id)\"\n              @delete-reply=\"handleDeleteReply\"\n            />\n          </template>\n        </CommentItem>\n      </div>\n    </div>\n    \n    <!-- 图片放大模态框 -->\n    <div v-if=\"showModal\" class=\"image-modal\" @click=\"closeImageModal\">\n      <div class=\"modal-content\" @click.stop>\n        <button class=\"close-button\" @click=\"closeImageModal\">✕</button>\n        <img :src=\"modalImageUrl\" alt=\"放大图片\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue'\nimport CommentForm from './comments/CommentForm.vue'\nimport CommentItem from './comments/CommentItem.vue'\nimport ReplySection from './comments/ReplySection.vue'\n\nexport default {\n  name: 'CommentSection',\n  \n  components: {\n    CommentForm,\n    CommentItem,\n    ReplySection\n  },\n  \n  props: {\n    comments: {\n      type: Array,\n      default: () => []\n    },\n    isAdmin: {\n      type: Boolean,\n      default: false\n    },\n    isAuthor: {\n      type: Boolean,\n      default: false\n    },\n    hasCheckedIn: {\n      type: Boolean,\n      default: false\n    },\n    getAvatarUrl: {\n      type: Function,\n      required: true\n    }\n  },\n  \n  emits: ['checkin', 'submit-comment', 'delete-comment', 'add-image', 'update-comment', 'submit-reply', 'load-replies'],\n  \n  setup(props, { emit }) {\n    const checking = ref(false)\n    const submitting = ref(false)\n    const editingComments = ref({})\n    const isManageMode = ref(false)\n    const showModal = ref(false)\n    const modalImageUrl = ref('')\n    \n    // 回复功能相关\n    const expandedReplies = ref({})\n    const replyForms = ref({})\n    const submittingReply = ref({})\n    const replyLists = ref({})\n    const replyCounts = ref({})\n    \n    // 计算属性\n    const hasManageableComments = computed(() => {\n      return props.comments.some(comment => comment.can_delete)\n    })\n    \n    const checkinButtonText = computed(() => {\n      if (props.hasCheckedIn) return '✓ 已打卡'\n      if (checking.value) return '打卡中...'\n      return '📍 我来过这里'\n    })\n    \n    // 打卡\n    const handleCheckin = async () => {\n      checking.value = true\n      try {\n        await emit('checkin')\n      } finally {\n        setTimeout(() => {\n          checking.value = false\n        }, 500)\n      }\n    }\n    \n    // 提交评论\n    const handleSubmit = async (commentData) => {\n      submitting.value = true\n      try {\n        await emit('submit-comment', commentData)\n      } finally {\n        submitting.value = false\n      }\n    }\n    \n    // 删除评论\n    const handleDelete = (commentId) => {\n      emit('delete-comment', commentId)\n    }\n    \n    // 显示/关闭图片模态框\n    const showImageModal = (url) => {\n      modalImageUrl.value = url\n      showModal.value = true\n    }\n    \n    const closeImageModal = () => {\n      showModal.value = false\n      modalImageUrl.value = ''\n    }\n    \n    // 可以添加图片的判断\n    const canAddImage = (comment) => {\n      return !comment.video && comment.can_delete\n    }\n    \n    // 编辑相关\n    const startEditing = (commentId, originalContent) => {\n      editingComments.value[commentId] = {\n        isEditing: true,\n        content: originalContent\n      }\n    }\n    \n    const cancelEditing = (commentId) => {\n      editingComments.value[commentId] = false\n    }\n    \n    const updateLocalContent = (commentId, content) => {\n      if (editingComments.value[commentId]) {\n        editingComments.value[commentId].content = content\n      }\n    }\n    \n    const handleSaveComment = (commentId) => {\n      const editedContent = editingComments.value[commentId]?.content\n      if (editedContent && editedContent.trim()) {\n        emit('update-comment', {\n          commentId,\n          content: editedContent.trim()\n        })\n        editingComments.value[commentId] = false\n      }\n    }\n    \n    // 管理相关\n    const toggleManageMode = () => {\n      isManageMode.value = !isManageMode.value\n      if (!isManageMode.value) {\n        editingComments.value = {}\n      }\n    }\n    \n    // 添加图片\n    const handleAddImage = (commentId) => {\n      const input = document.createElement('input')\n      input.type = 'file'\n      input.accept = 'image/*'\n      input.onchange = (e) => {\n        const file = e.target.files[0]\n        if (file) {\n          emit('add-image', { commentId, file })\n          editingComments.value[commentId] = false\n        }\n      }\n      input.click()\n    }\n    \n    // 回复相关\n    const toggleReplySection = (commentId) => {\n      expandedReplies.value[commentId] = !expandedReplies.value[commentId]\n      \n      if (expandedReplies.value[commentId]) {\n        // 初始化相关状态\n        if (!replyForms.value[commentId]) {\n          replyForms.value[commentId] = { content: '' }\n        }\n        if (submittingReply.value[commentId] === undefined) {\n          submittingReply.value[commentId] = false\n        }\n        if (!replyLists.value[commentId]) {\n          replyLists.value[commentId] = []\n          // 立即加载回复列表\n          emit('load-replies', commentId)\n        }\n      }\n    }\n    \n    const handleSubmitReply = async (commentId, content) => {\n      submittingReply.value[commentId] = true\n      try {\n        await emit('submit-reply', {\n          commentId,\n          content\n        })\n        replyForms.value[commentId].content = ''\n        // 提交成功后，父组件会调用load-replies，这里不需要重复加载\n      } catch (error) {\n        console.error('提交回复失败:', error)\n        alert('提交回复失败')\n      } finally {\n        submittingReply.value[commentId] = false\n      }\n    }\n    \n    const cancelReply = (commentId) => {\n      replyForms.value[commentId].content = ''\n    }\n    \n    // 处理删除回复\n    const handleDeleteReply = (replyId) => {\n      emit('delete-comment', replyId)\n    }\n    \n    // 从外部更新回复列表的方法（暴露给父组件调用）\n    const updateReplyList = (commentId, replies) => {\n      // 使用Vue的响应式更新\n      replyLists.value = {\n        ...replyLists.value,\n        [commentId]: replies || []\n      }\n    }\n    \n    return {\n      checking,\n      submitting,\n      editingComments,\n      isManageMode,\n      hasManageableComments,\n      checkinButtonText,\n      expandedReplies,\n      replyForms,\n      submittingReply,\n      replyLists,\n      replyCounts,\n      showModal,\n      modalImageUrl,\n      handleCheckin,\n      handleSubmit,\n      handleDelete,\n      showImageModal,\n      closeImageModal,\n      canAddImage,\n      startEditing,\n      cancelEditing,\n      updateLocalContent,\n      handleSaveComment,\n      toggleManageMode,\n      handleAddImage,\n      toggleReplySection,\n      handleSubmitReply,\n      cancelReply,\n      handleDeleteReply,\n      updateReplyList\n    }\n  }\n}\n</script>\n\n<style scoped>\n.card {\n  background: #fff;\n  border: none;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  margin-bottom: 2rem;\n}\n\n.card-body {\n  padding: 2rem;\n}\n\n.card-body h3 {\n  color: #2c3e50;\n  font-size: 1.3rem;\n  font-weight: 600;\n  border-bottom: 2px solid #f0f0f0;\n  padding-bottom: 0.8rem;\n}\n\n.checkin-section {\n  text-align: center;\n  padding: 1.5rem;\n  background: #f8f9fa;\n  border-radius: 12px;\n}\n\n.comment-list {\n  margin-top: 2rem;\n}\n\n/* 模态框样式 */\n.image-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.9);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  cursor: pointer;\n  animation: fadeIn 0.2s ease-in;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.modal-content {\n  position: relative;\n  max-width: 90vw;\n  max-height: 90vh;\n  cursor: default;\n  animation: zoomIn 0.2s ease-in;\n}\n\n@keyframes zoomIn {\n  from {\n    transform: scale(0.9);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.modal-content img {\n  max-width: 100%;\n  max-height: 90vh;\n  width: auto;\n  height: auto;\n  border-radius: 8px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\n  object-fit: contain;\n}\n\n.close-button {\n  position: absolute;\n  top: -40px;\n  right: 0;\n  background: rgba(255, 255, 255, 0.9);\n  border: none;\n  border-radius: 50%;\n  width: 36px;\n  height: 36px;\n  font-size: 20px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  color: #333;\n}\n\n.close-button:hover {\n  background: rgba(255, 255, 255, 1);\n  transform: rotate(90deg);\n}\n\n/* 按钮透明度 */\n.btn-outline-danger,\n.btn-outline-success,\n.btn-outline-primary,\n.btn-outline-secondary {\n  opacity: 0.7;\n  transition: all 0.3s ease;\n}\n\n.btn-outline-danger:hover,\n.btn-outline-success:hover,\n.btn-outline-primary:hover,\n.btn-outline-secondary:hover {\n  opacity: 1;\n  transform: scale(1.1);\n}\n\n@media (max-width: 768px) {\n  .card-body {\n    padding: 1rem;\n  }\n  \n  .card-body h3 {\n    font-size: 1.1rem;\n    padding-bottom: 0.5rem;\n  }\n  \n  .checkin-section {\n    padding: 1rem;\n  }\n  \n  .modal-content {\n    max-width: 95vw;\n  }\n  \n  .close-button {\n    top: -35px;\n    width: 32px;\n    height: 32px;\n    font-size: 18px;\n  }\n}\n</style>","<template>\r\n  <div class=\"comment-form mb-4\">\r\n    <h5 class=\"mb-3\">发表评论</h5>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n      <div class=\"mb-3\">\r\n        <textarea\r\n          v-model=\"formData.content\"\r\n          class=\"form-control\"\r\n          rows=\"4\"\r\n          placeholder=\"分享你的旅行故事...\"\r\n          required\r\n        ></textarea>\r\n      </div>\r\n      \r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-md-6 mb-2\">\r\n          <label class=\"form-label\">上传图片</label>\r\n          <input\r\n            type=\"file\"\r\n            class=\"form-control\"\r\n            accept=\"image/*\"\r\n            @change=\"handleImageChange\"\r\n          />\r\n        </div>\r\n        <div class=\"col-md-6 mb-2\">\r\n          <label class=\"form-label\">上传视频</label>\r\n          <input\r\n            type=\"file\"\r\n            class=\"form-control\"\r\n            accept=\"video/*\"\r\n            @change=\"handleVideoChange\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <button\r\n        type=\"submit\"\r\n        class=\"btn btn-primary\"\r\n        :disabled=\"submitting\"\r\n      >\r\n        <span v-if=\"submitting\" class=\"spinner-border spinner-border-sm me-2\"></span>\r\n        {{ submitting ? '发布中...' : '发布评论' }}\r\n      </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\n\r\nexport default {\r\n  name: 'CommentForm',\r\n  \r\n  props: {\r\n    submitting: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  \r\n  emits: ['submit'],\r\n  \r\n  setup(props, { emit }) {\r\n    const formData = ref({\r\n      content: '',\r\n      image: null,\r\n      video: null\r\n    })\r\n    \r\n    const handleImageChange = (event) => {\r\n      formData.value.image = event.target.files[0]\r\n    }\r\n    \r\n    const handleVideoChange = (event) => {\r\n      formData.value.video = event.target.files[0]\r\n    }\r\n    \r\n    const handleSubmit = () => {\r\n      emit('submit', {\r\n        content: formData.value.content,\r\n        image: formData.value.image,\r\n        video: formData.value.video\r\n      })\r\n      \r\n      // 重置表单\r\n      formData.value = {\r\n        content: '',\r\n        image: null,\r\n        video: null\r\n      }\r\n    }\r\n    \r\n    return {\r\n      formData,\r\n      handleImageChange,\r\n      handleVideoChange,\r\n      handleSubmit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.comment-form {\r\n  background: #f8f9fa;\r\n  padding: 1.5rem;\r\n  border-radius: 12px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .comment-form {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .comment-form textarea {\r\n    font-size: 14px;\r\n    min-height: 80px;\r\n  }\r\n  \r\n  .comment-form input[type=\"file\"] {\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CommentForm.vue?vue&type=template&id=362e9ac8&scoped=true\"\nimport script from \"./CommentForm.vue?vue&type=script&lang=js\"\nexport * from \"./CommentForm.vue?vue&type=script&lang=js\"\n\nimport \"./CommentForm.vue?vue&type=style&index=0&id=362e9ac8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-362e9ac8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"comment-item\">\r\n    <div class=\"d-flex align-items-start\">\r\n      <img\r\n        :src=\"getAvatarUrl(comment.user.profile?.avatar_url)\"\r\n        class=\"rounded-circle me-3\"\r\n        width=\"48\"\r\n        height=\"48\"\r\n        alt=\"avatar\"\r\n        @error=\"(e) => { console.log('头像加载失败:', comment.user); e.target.src='/static/images/default_avatar.png'; }\"\r\n      />\r\n      <div class=\"flex-grow-1\">\r\n        <div class=\"d-flex justify-content-between align-items-center mb-2\">\r\n          <strong>{{ comment.user.username }}</strong>\r\n          <div class=\"d-flex gap-2 align-items-center\">\r\n            <small class=\"text-muted\">{{ formatDate(comment.timestamp) }}</small>\r\n            <!-- 操作按钮 -->\r\n            <slot name=\"actions\"></slot>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- 编辑模式：显示编辑框 -->\r\n        <div v-if=\"editing\" class=\"mb-2\">\r\n          <textarea\r\n            v-model=\"localContent\"\r\n            class=\"form-control\"\r\n            rows=\"3\"\r\n            placeholder=\"编辑评论内容...\"\r\n          ></textarea>\r\n        </div>\r\n        <!-- 普通模式：显示原内容 -->\r\n        <p v-else class=\"mb-2\">{{ comment.content }}</p>\r\n        \r\n        <!-- 图片 -->\r\n        <div v-if=\"comment.image\" class=\"mb-2 comment-media\">\r\n          <img\r\n            :src=\"comment.image\"\r\n            class=\"comment-image rounded\"\r\n            style=\"cursor: pointer;\"\r\n            @click=\"$emit('show-image-modal', comment.image)\"\r\n            alt=\"评论图片\"\r\n          />\r\n        </div>\r\n        \r\n        <!-- 视频 -->\r\n        <div v-if=\"comment.video\" class=\"mb-2 comment-media\">\r\n          <video\r\n            :src=\"comment.video\"\r\n            controls\r\n            class=\"rounded\"\r\n          >\r\n            您的浏览器不支持视频播放\r\n          </video>\r\n        </div>\r\n        \r\n        <!-- 回复按钮 -->\r\n        <div class=\"mt-3 pt-2 border-top border-light d-flex gap-2 align-items-center\">\r\n          <button\r\n            class=\"btn btn-sm btn-link text-primary p-0 reply-toggle-btn\"\r\n            @click=\"$emit('toggle-reply', comment.id)\"\r\n          >\r\n            💬 {{ isExpanded ? '收起回复' : '回复' }}\r\n          </button>\r\n          <span v-if=\"replyCount\" class=\"text-muted small\">\r\n            ({{ replyCount }}条回复)\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 回复区域 - 作为评论的一部分 -->\r\n    <div v-if=\"isExpanded\" class=\"replies-container\">\r\n      <slot name=\"replies\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from 'vue'\r\n\r\nexport default {\r\n  name: 'CommentItem',\r\n  \r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    editing: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isExpanded: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    replyCount: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    replies: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    getAvatarUrl: {\r\n      type: Function,\r\n      required: true\r\n    }\r\n  },\r\n  \r\n  emits: ['show-image-modal', 'toggle-reply', 'update:content'],\r\n  \r\n  setup(props, { emit }) {\r\n    const localContent = ref(props.comment.content)\r\n    \r\n    watch(() => props.comment.content, (newVal) => {\r\n      localContent.value = newVal\r\n    })\r\n    \r\n    watch(localContent, (newVal) => {\r\n      emit('update:content', newVal)\r\n    })\r\n    \r\n    const formatDate = (dateStr) => {\r\n      const date = new Date(dateStr)\r\n      const year = date.getFullYear()\r\n      const month = String(date.getMonth() + 1).padStart(2, '0')\r\n      const day = String(date.getDate()).padStart(2, '0')\r\n      const hours = String(date.getHours()).padStart(2, '0')\r\n      const minutes = String(date.getMinutes()).padStart(2, '0')\r\n      \r\n      return `${year}-${month}-${day} ${hours}:${minutes}`\r\n    }\r\n    \r\n    return {\r\n      localContent,\r\n      formatDate\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.comment-item {\r\n  background: #f0f0f0;\r\n  padding: 1.5rem;\r\n  border-radius: 12px;\r\n  margin-bottom: 1.5rem;\r\n  transition: all 0.3s ease;\r\n  overflow: hidden;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.comment-item:hover {\r\n  background: #e8e8e8;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.comment-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.comment-item p {\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  overflow-wrap: break-word;\r\n  max-width: 100%;\r\n}\r\n\r\n.rounded-circle {\r\n  border: 2px solid #e0e0e0;\r\n  object-fit: cover;\r\n}\r\n\r\n.comment-media {\r\n  margin-top: 1rem;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.comment-media img.comment-image {\r\n  max-width: 100%;\r\n  max-height: 500px;\r\n  width: auto;\r\n  height: auto;\r\n  object-fit: contain;\r\n  border-radius: 8px;\r\n}\r\n\r\n.comment-media img {\r\n  max-width: 100%;\r\n  height: auto;\r\n  border-radius: 8px;\r\n}\r\n\r\n.comment-media video {\r\n  width: 100%;\r\n  max-width: 100%;\r\n  height: auto;\r\n  border-radius: 8px;\r\n}\r\n\r\n.btn-link.text-primary {\r\n  text-decoration: none;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.btn-link.text-primary:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n/* 回复容器 */\r\n.replies-container {\r\n  margin-top: 0;\r\n  padding: 1rem;\r\n  background: linear-gradient(to right, #ffffff 0%, #f8f9fa 100%);\r\n  border-radius: 0 0 12px 12px;\r\n  border-top: 2px solid #e9ecef;\r\n}\r\n\r\n.reply-toggle-btn {\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n  text-decoration: none !important;\r\n}\r\n\r\n.reply-toggle-btn:hover {\r\n  transform: translateX(2px);\r\n  text-decoration: none !important;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .comment-item {\r\n    padding: 1rem;\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  .comment-item img.rounded-circle {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n  \r\n  .comment-media img.comment-image {\r\n    max-width: 100%;\r\n    max-height: 300px;\r\n    width: auto;\r\n    height: auto;\r\n    object-fit: contain;\r\n  }\r\n  \r\n  .replies-container {\r\n    padding: 0.75rem;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CommentItem.vue?vue&type=template&id=67f7ae3b&scoped=true\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js\"\n\nimport \"./CommentItem.vue?vue&type=style&index=0&id=67f7ae3b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-67f7ae3b\"]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"expanded\" class=\"reply-section\">\r\n    <!-- 回复表单 -->\r\n    <div class=\"reply-form mb-3\">\r\n      <textarea\r\n        v-model=\"replyContent\"\r\n        class=\"form-control form-control-sm\"\r\n        rows=\"2\"\r\n        placeholder=\"写下你的回复...\"\r\n      ></textarea>\r\n      <div class=\"mt-2 d-flex gap-2\">\r\n        <button\r\n          class=\"btn btn-sm btn-primary\"\r\n          @click=\"handleSubmit\"\r\n          :disabled=\"submitting\"\r\n        >\r\n          <span v-if=\"submitting\" class=\"spinner-border spinner-border-sm me-1\"></span>\r\n          {{ submitting ? '提交中...' : '提交回复' }}\r\n        </button>\r\n        <button\r\n          class=\"btn btn-sm btn-outline-secondary\"\r\n          @click=\"handleCancel\"\r\n        >\r\n          取消\r\n        </button>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 回复列表 -->\r\n    <div v-if=\"replies && replies.length > 0\" class=\"reply-list\">\r\n      <div\r\n        v-for=\"reply in replies\"\r\n        :key=\"reply.id\"\r\n        class=\"reply-item mt-2 ps-3 border-start border-secondary\"\r\n      >\r\n        <div class=\"d-flex align-items-start\">\r\n          <img\r\n            :src=\"getAvatarUrl(reply.user.profile?.avatar_url)\"\r\n            class=\"rounded-circle me-2\"\r\n            width=\"32\"\r\n            height=\"32\"\r\n            alt=\"avatar\"\r\n          />\r\n          <div class=\"flex-grow-1\">\r\n            <div class=\"d-flex justify-content-between align-items-center mb-1\">\r\n              <strong class=\"small\">{{ reply.user.username }}</strong>\r\n              <div class=\"d-flex gap-2 align-items-center\">\r\n                <small class=\"text-muted\">{{ formatDate(reply.timestamp) }}</small>\r\n                <!-- 删除按钮 -->\r\n                <button\r\n                  v-if=\"reply.can_delete\"\r\n                  class=\"btn btn-sm p-0 text-danger\"\r\n                  style=\"border: none; background: none; font-size: 0.8rem;\"\r\n                  @click=\"$emit('delete-reply', reply.id)\"\r\n                  title=\"删除此回复\"\r\n                >\r\n                  🗑️\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <p class=\"mb-0 small\">{{ reply.content }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from 'vue'\r\n\r\nexport default {\r\n  name: 'ReplySection',\r\n  \r\n  props: {\r\n    expanded: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    replies: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    submitting: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    getAvatarUrl: {\r\n      type: Function,\r\n      required: true\r\n    }\r\n  },\r\n  \r\n  emits: ['submit', 'cancel', 'delete-reply'],\r\n  \r\n  setup(props, { emit }) {\r\n    const replyContent = ref('')\r\n    \r\n    watch(() => props.expanded, (newVal) => {\r\n      if (!newVal) {\r\n        replyContent.value = ''\r\n      }\r\n    })\r\n    \r\n    const handleSubmit = () => {\r\n      const content = replyContent.value.trim()\r\n      if (content) {\r\n        emit('submit', content)\r\n        replyContent.value = ''\r\n      }\r\n    }\r\n    \r\n    const handleCancel = () => {\r\n      replyContent.value = ''\r\n      emit('cancel')\r\n    }\r\n    \r\n    const formatDate = (dateStr) => {\r\n      const date = new Date(dateStr)\r\n      const year = date.getFullYear()\r\n      const month = String(date.getMonth() + 1).padStart(2, '0')\r\n      const day = String(date.getDate()).padStart(2, '0')\r\n      const hours = String(date.getHours()).padStart(2, '0')\r\n      const minutes = String(date.getMinutes()).padStart(2, '0')\r\n      \r\n      return `${year}-${month}-${day} ${hours}:${minutes}`\r\n    }\r\n    \r\n    return {\r\n      replyContent,\r\n      handleSubmit,\r\n      handleCancel,\r\n      formatDate\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.reply-section {\r\n  /* 回复区域作为评论的一部分，不需要额外背景 */\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.reply-form {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.reply-form textarea {\r\n  font-size: 0.9rem;\r\n  background: white;\r\n  border: 1px solid #dee2e6;\r\n}\r\n\r\n.reply-item {\r\n  padding: 0.75rem;\r\n  background: white;\r\n  border-radius: 8px;\r\n  margin-bottom: 0.5rem;\r\n  border-left: 3px solid #667eea;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.reply-item:hover {\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\r\n  transform: translateX(2px);\r\n}\r\n\r\n.reply-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.reply-item img {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.reply-item a {\r\n  text-decoration: none;\r\n}\r\n\r\n.reply-item a:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .reply-section {\r\n    padding: 0.75rem;\r\n  }\r\n  \r\n  .reply-item {\r\n    padding: 0.5rem;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ReplySection.vue?vue&type=template&id=5253a071&scoped=true\"\nimport script from \"./ReplySection.vue?vue&type=script&lang=js\"\nexport * from \"./ReplySection.vue?vue&type=script&lang=js\"\n\nimport \"./ReplySection.vue?vue&type=style&index=0&id=5253a071&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5253a071\"]])\n\nexport default __exports__","import { render } from \"./CommentSection.vue?vue&type=template&id=c7c194aa&scoped=true\"\nimport script from \"./CommentSection.vue?vue&type=script&lang=js\"\nexport * from \"./CommentSection.vue?vue&type=script&lang=js\"\n\nimport \"./CommentSection.vue?vue&type=style&index=0&id=c7c194aa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c7c194aa\"]])\n\nexport default __exports__","import { render } from \"./TripDetailView.vue?vue&type=template&id=6823afc6&scoped=true\"\nimport script from \"./TripDetailView.vue?vue&type=script&lang=js\"\nexport * from \"./TripDetailView.vue?vue&type=script&lang=js\"\n\nimport \"./TripDetailView.vue?vue&type=style&index=0&id=6823afc6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6823afc6\"]])\n\nexport default __exports__"],"names":["class","id","style","href","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","_cache","type","_hoisted_3","_hoisted_4","_hoisted_5","$setup","isLoggedIn","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","src","avatar","alt","width","height","_toDisplayString","username","_hoisted_11","onClick","_withModifiers","args","handleLogout","_Fragment","key","name","setup","router","useRouter","userStore","useUserStore","computed","async","confirm","logout","push","error","console","__exports__","render","getTripList","params","request","get","getTripDetail","slug","statusCode","response","status","shouldFallback","code","message","includes","likeTrip","post","checkinTrip","ref","loop","_normalizeStyle","background","trip","theme_color","_component_NavBar","goBack","title","toggleMusic","isPlaying","musicSrc","loading","role","_hoisted_10","description","stats","_createBlock","_component_TripStats","views","likes","onLike","handleLike","tripConfig","dates","start_date","end_date","_component_TripProgress","start","end","overview","_component_TripOverview","basicInfo","_hoisted_12","participants","_hoisted_13","_hoisted_14","departure","_hoisted_15","_hoisted_16","destination","_hoisted_17","_hoisted_18","transport","_hoisted_19","_hoisted_20","accommodation","_hoisted_21","_hoisted_22","duration","_hoisted_23","_hoisted_24","budget","_hoisted_25","_hoisted_26","theme","_hoisted_27","_hoisted_28","_hoisted_29","_renderList","highlights","highlight","index","_hoisted_30","itinerary","item","_hoisted_31","_hoisted_32","day","time","_hoisted_33","_hoisted_34","content","_hoisted_35","items","_hoisted_36","amount","note","_hoisted_37","total","tips","length","_hoisted_38","_hoisted_39","tip","_component_CommentSection","comments","isAdmin","isAuthor","checked_in","getAvatarUrl","onCheckin","handleCheckin","onSubmitComment","handleSubmitComment","onDeleteComment","handleDeleteComment","onAddImage","handleAddImage","onUpdateComment","handleUpdateComment","onSubmitReply","handleSubmitReply","onLoadReplies","handleLoadReplies","getCommentList","createComment","data","headers","deleteComment","delete","addCommentImage","updateComment","patch","getCommentReplies","tripConfigs","backgroundColor","icon","trip1","trip2","departureTime","trip3","returnTime","trip4","customStyles","specialBg","dayBorderColor","getTripConfig","progress","props","startDate","String","default","endDate","calculateProgress","value","now","Date","elapsed","Math","round","onMounted","$props","disabled","liking","Number","emits","emit","setTimeout","_renderSlot","_ctx","$slots","undefined","checking","hasCheckedIn","checkinButtonText","_component_CommentForm","submitting","onSubmit","handleSubmit","hasManageableComments","_normalizeClass","isManageMode","toggleManageMode","comment","_component_CommentItem","editing","editingComments","expandedReplies","replyLists","replies","onShowImageModal","showImageModal","onToggleReply","toggleReplySection","updateLocalContent","actions","_withCtx","can_delete","$event","startEditing","handleSaveComment","canAddImage","image","cancelEditing","handleDelete","_component_ReplySection","expanded","submittingReply","onCancel","cancelReply","onDeleteReply","handleDeleteReply","showModal","closeImageModal","modalImageUrl","formData","rows","placeholder","required","accept","onChange","handleImageChange","handleVideoChange","Boolean","video","event","target","files","user","profile","avatar_url","onError","e","log","formatDate","timestamp","localContent","$emit","controls","isExpanded","replyCount","Object","Array","Function","watch","newVal","dateStr","date","year","getFullYear","month","getMonth","padStart","getDate","hours","getHours","minutes","getMinutes","replyContent","handleCancel","reply","trim","components","CommentForm","CommentItem","ReplySection","replyForms","replyCounts","some","commentData","commentId","url","originalContent","isEditing","editedContent","input","document","createElement","onchange","file","click","alert","replyId","updateReplyList","NavBar","TripProgress","TripStats","TripOverview","CommentSection","route","useRoute","audioPlayer","bg","background_music","author","userInfo","fetchTripDetail","summary","fetchComments","results","result","FormData","append","errorMsg","detail","deletedComment","find","c","commentSectionRef","replyList","r","filteredReplies","filter","isReply","parent_id","parentId","parentComment","Promise","resolve","pause","volume","play","load"],"sourceRoot":""}