{"version":3,"file":"assets/js/8.c22b8afc.js","mappings":"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","sources":["webpack://roamio-web/./src/views/auth/RegisterView.vue","webpack://roamio-web/./src/views/auth/RegisterView.vue?ac36"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <div class=\"container py-5\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-6 col-lg-5\">\n          <div class=\"card shadow\">\n            <div class=\"card-body p-5\">\n              <h2 class=\"text-center mb-2\">用户注册</h2>\n              <p class=\"register-slogan text-center mb-4\">Become a Roamioer today.</p>\n              \n              <!-- 错误提示 -->\n              <div v-if=\"errorMessage\" class=\"alert alert-danger\">\n                {{ errorMessage }}\n              </div>\n              \n              <!-- 成功提示 -->\n              <div v-if=\"successMessage\" class=\"alert alert-success\">\n                {{ successMessage }}\n              </div>\n              \n              <form @submit.prevent=\"handleRegister\">\n                <!-- 用户名 -->\n                <div class=\"mb-3\">\n                  <label for=\"username\" class=\"form-label\">用户名</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"username\"\n                    v-model=\"formData.username\"\n                    required\n                    :disabled=\"submitting\"\n                    placeholder=\"请输入用户名\"\n                  />\n                  <div v-if=\"errors.username\" class=\"text-danger small mt-1\">\n                    {{ errors.username }}\n                  </div>\n                </div>\n                \n                <!-- 邮箱 -->\n                <div class=\"mb-3\">\n                  <label for=\"email\" class=\"form-label\">邮箱 <span class=\"text-danger\">*</span></label>\n                  <div class=\"input-group\">\n                    <input\n                      type=\"email\"\n                      class=\"form-control\"\n                      id=\"email\"\n                      v-model=\"formData.email\"\n                      required\n                      :disabled=\"submitting || codeVerified\"\n                      placeholder=\"请输入邮箱\"\n                    />\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-secondary\"\n                      :disabled=\"!formData.email || sendingCode || codeVerified || countdown > 0\"\n                      @click=\"handleSendCode\"\n                    >\n                      <span v-if=\"sendingCode\" class=\"spinner-border spinner-border-sm me-1\"></span>\n                      <span v-else-if=\"countdown > 0\">{{ countdown }}s</span>\n                      <span v-else>发送验证码</span>\n                    </button>\n                  </div>\n                  <div v-if=\"errors.email\" class=\"text-danger small mt-1\">\n                    {{ errors.email }}\n                  </div>\n                  <div v-if=\"codeSent && !codeVerified\" class=\"text-success small mt-1\">\n                    验证码已发送，请查收邮箱\n                  </div>\n                </div>\n                \n                <!-- 验证码 -->\n                <div class=\"mb-3\" v-if=\"codeSent\">\n                  <label for=\"verification_code\" class=\"form-label\">验证码 <span class=\"text-danger\">*</span></label>\n                  <div class=\"input-group\">\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"verification_code\"\n                      v-model=\"formData.verification_code\"\n                      required\n                      :disabled=\"submitting || codeVerified\"\n                      placeholder=\"请输入验证码\"\n                      maxlength=\"6\"\n                    />\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-primary\"\n                      :disabled=\"!formData.verification_code || verifyingCode || codeVerified\"\n                      @click=\"handleVerifyCode\"\n                    >\n                      <span v-if=\"verifyingCode\" class=\"spinner-border spinner-border-sm me-1\"></span>\n                      <span v-else-if=\"codeVerified\">✓ 已验证</span>\n                      <span v-else>验证</span>\n                    </button>\n                  </div>\n                  <div v-if=\"errors.verification_code\" class=\"text-danger small mt-1\">\n                    {{ errors.verification_code }}\n                  </div>\n                  <div v-if=\"codeVerified\" class=\"text-success small mt-1\">\n                    ✓ 邮箱验证成功\n                  </div>\n                </div>\n                \n                <!-- 密码 -->\n                <div class=\"mb-3\">\n                  <label for=\"password\" class=\"form-label\">密码</label>\n                  <input\n                    type=\"password\"\n                    class=\"form-control\"\n                    id=\"password\"\n                    v-model=\"formData.password\"\n                    required\n                    :disabled=\"submitting\"\n                    placeholder=\"请输入密码\"\n                  />\n                  <div v-if=\"errors.password\" class=\"text-danger small mt-1\">\n                    {{ errors.password }}\n                  </div>\n                  <small class=\"text-muted\">\n                    密码至少8位，包含字母和数字\n                  </small>\n                </div>\n                \n                <!-- 确认密码 -->\n                <div class=\"mb-4\">\n                  <label for=\"password2\" class=\"form-label\">确认密码</label>\n                  <input\n                    type=\"password\"\n                    class=\"form-control\"\n                    id=\"password2\"\n                    v-model=\"formData.password2\"\n                    required\n                    :disabled=\"submitting\"\n                    placeholder=\"请再次输入密码\"\n                  />\n                  <div v-if=\"errors.password2\" class=\"text-danger small mt-1\">\n                    {{ errors.password2 }}\n                  </div>\n                </div>\n                \n                <!-- 提交按钮 -->\n                <button\n                  type=\"submit\"\n                  class=\"btn btn-primary w-100 mb-3\"\n                  :disabled=\"submitting || !codeVerified\"\n                >\n                  <span v-if=\"submitting\" class=\"spinner-border spinner-border-sm me-2\"></span>\n                  {{ submitting ? '注册中...' : codeVerified ? '完成注册' : '请先验证邮箱' }}\n                </button>\n                \n                <!-- QQ登录 -->\n                <div class=\"text-center mb-3\">\n                  <div class=\"divider\">\n                    <span class=\"divider-text\">或</span>\n                  </div>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary w-100 qq-login-btn\"\n                    :disabled=\"qqLoginLoading\"\n                    @click=\"handleQQLogin\"\n                  >\n                    <img src=\"@/assets/qq_logo.png\" alt=\"QQ登录\" class=\"qq-login-icon\" width=\"20\" height=\"20\">\n                    <span v-if=\"qqLoginLoading\">跳转中...</span>\n                    <span v-else>使用QQ登录</span>\n                  </button>\n                </div>\n                \n                <!-- 登录链接 -->\n                <div class=\"text-center\">\n                  <span class=\"text-muted\">已有账号？</span>\n                  <router-link to=\"/login\" class=\"text-decoration-none\">\n                    立即登录\n                  </router-link>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onUnmounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useUserStore } from '@/stores'\nimport { getQQLoginUrl, sendVerificationCode, verifyCode } from '@/api/auth'\n\nexport default {\n  name: 'RegisterView',\n  \n  setup() {\n    const router = useRouter()\n    const userStore = useUserStore()\n    \n    const formData = ref({\n      username: '',\n      email: '',\n      password: '',\n      password2: '',\n      verification_code: '',\n      verification_token: ''\n    })\n    \n    const errors = ref({})\n    const errorMessage = ref('')\n    const successMessage = ref('')\n    const submitting = ref(false)\n    const qqLoginLoading = ref(false)\n    const sendingCode = ref(false)\n    const verifyingCode = ref(false)\n    const codeSent = ref(false)\n    const codeVerified = ref(false)\n    const countdown = ref(0)\n    let countdownTimer = null\n    \n    // 表单验证\n    const validateForm = () => {\n      errors.value = {}\n      \n      if (!formData.value.username) {\n        errors.value.username = '请输入用户名'\n        return false\n      }\n      \n      if (formData.value.username.length < 3) {\n        errors.value.username = '用户名至少3个字符'\n        return false\n      }\n      \n      if (!formData.value.email) {\n        errors.value.email = '请输入邮箱'\n        return false\n      }\n      \n      // 验证邮箱格式\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n      if (!emailRegex.test(formData.value.email)) {\n        errors.value.email = '请输入有效的邮箱地址'\n        return false\n      }\n      \n      if (!codeVerified.value) {\n        errors.value.verification_token = '请先完成邮箱验证'\n        return false\n      }\n      \n      if (!formData.value.password) {\n        errors.value.password = '请输入密码'\n        return false\n      }\n      \n      if (formData.value.password.length < 8) {\n        errors.value.password = '密码至少8位'\n        return false\n      }\n      \n      if (!formData.value.password2) {\n        errors.value.password2 = '请再次输入密码'\n        return false\n      }\n      \n      if (formData.value.password !== formData.value.password2) {\n        errors.value.password2 = '两次密码不一致'\n        return false\n      }\n      \n      return true\n    }\n    \n    // 发送验证码\n    const handleSendCode = async () => {\n      errors.value.email = ''\n      errorMessage.value = ''\n      \n      if (!formData.value.email) {\n        errors.value.email = '请先输入邮箱'\n        return\n      }\n      \n      // 验证邮箱格式\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n      if (!emailRegex.test(formData.value.email)) {\n        errors.value.email = '请输入有效的邮箱地址'\n        return\n      }\n      \n      sendingCode.value = true\n      \n      try {\n        await sendVerificationCode({\n          email: formData.value.email,\n          type: 'register'\n        })\n        \n        codeSent.value = true\n        countdown.value = 60 // 60秒倒计时\n        startCountdown()\n        \n      } catch (error) {\n        console.error('发送验证码失败:', error)\n        if (error.response?.data) {\n          const data = error.response.data\n          if (data.error) {\n            errorMessage.value = data.error\n          } else if (data.email) {\n            errors.value.email = Array.isArray(data.email) ? data.email[0] : data.email\n          } else {\n            errorMessage.value = '发送验证码失败，请稍后重试'\n          }\n        } else {\n          errorMessage.value = '网络错误，请检查网络连接'\n        }\n      } finally {\n        sendingCode.value = false\n      }\n    }\n    \n    // 验证验证码\n    const handleVerifyCode = async () => {\n      errors.value.verification_code = ''\n      errorMessage.value = ''\n      \n      if (!formData.value.verification_code) {\n        errors.value.verification_code = '请输入验证码'\n        return\n      }\n      \n      if (formData.value.verification_code.length !== 6) {\n        errors.value.verification_code = '验证码为6位数字'\n        return\n      }\n      \n      verifyingCode.value = true\n      \n      try {\n        const response = await verifyCode({\n          email: formData.value.email,\n          code: formData.value.verification_code,\n          type: 'register'\n        })\n        \n        if (response.success && response.verification_token) {\n          formData.value.verification_token = response.verification_token\n          codeVerified.value = true\n          successMessage.value = '邮箱验证成功！可以完成注册了'\n        } else {\n          errors.value.verification_code = '验证失败，请检查验证码'\n        }\n        \n      } catch (error) {\n        console.error('验证码验证失败:', error)\n        if (error.response?.data) {\n          const data = error.response.data\n          if (data.error) {\n            errors.value.verification_code = data.error\n          } else if (data.code) {\n            errors.value.verification_code = Array.isArray(data.code) ? data.code[0] : data.code\n          } else {\n            errors.value.verification_code = '验证码无效或已过期'\n          }\n        } else {\n          errors.value.verification_code = '验证失败，请稍后重试'\n        }\n      } finally {\n        verifyingCode.value = false\n      }\n    }\n    \n    // 倒计时函数\n    const startCountdown = () => {\n      if (countdownTimer) {\n        clearInterval(countdownTimer)\n      }\n      \n      countdownTimer = setInterval(() => {\n        if (countdown.value > 0) {\n          countdown.value--\n        } else {\n          clearInterval(countdownTimer)\n          countdownTimer = null\n        }\n      }, 1000)\n    }\n    \n    // 清理定时器\n    onUnmounted(() => {\n      if (countdownTimer) {\n        clearInterval(countdownTimer)\n      }\n    })\n    \n    // 处理注册\n    const handleRegister = async () => {\n      errorMessage.value = ''\n      successMessage.value = ''\n      \n      if (!validateForm()) {\n        return\n      }\n      \n      submitting.value = true\n      \n      try {\n        await userStore.register({\n          username: formData.value.username,\n          email: formData.value.email,\n          password: formData.value.password,\n          password2: formData.value.password2,\n          verification_token: formData.value.verification_token\n        })\n        \n        successMessage.value = '注册成功！正在跳转...'\n        \n        // 2秒后跳转到首页\n        setTimeout(() => {\n          router.push('/')\n        }, 2000)\n        \n      } catch (error) {\n        console.error('注册失败:', error)\n        \n        // 处理错误信息\n        if (error.response?.data) {\n          const data = error.response.data\n          \n          // 如果是字段错误\n          if (typeof data === 'object') {\n            if (data.username) {\n              errors.value.username = Array.isArray(data.username) ? data.username[0] : data.username\n            }\n            if (data.email) {\n              errors.value.email = Array.isArray(data.email) ? data.email[0] : data.email\n            }\n            if (data.password) {\n              errors.value.password = Array.isArray(data.password) ? data.password[0] : data.password\n            }\n            if (data.password2) {\n              errors.value.password2 = Array.isArray(data.password2) ? data.password2[0] : data.password2\n            }\n            if (data.verification_code) {\n              errors.value.verification_code = Array.isArray(data.verification_code) ? data.verification_code[0] : data.verification_code\n            }\n            \n            // 处理非字段错误\n            if (data.non_field_errors) {\n              errorMessage.value = Array.isArray(data.non_field_errors) ? data.non_field_errors[0] : data.non_field_errors\n            }\n            \n            // 处理验证token错误\n            if (data.verification_token) {\n              errors.value.verification_token = Array.isArray(data.verification_token) ? data.verification_token[0] : data.verification_token\n              if (!errorMessage.value) {\n                errorMessage.value = '注册需要邮箱验证，请先完成邮箱验证'\n              }\n            }\n            \n            // 如果有通用错误消息\n            if (!errorMessage.value && (data.detail || data.message || data.error)) {\n              errorMessage.value = data.detail || data.message || data.error\n            }\n            \n            if (!errorMessage.value) {\n              errorMessage.value = '注册失败，请稍后重试'\n            }\n          } else {\n            errorMessage.value = '注册失败，请稍后重试'\n          }\n        } else {\n          errorMessage.value = '网络错误，请检查网络连接'\n        }\n      } finally {\n        submitting.value = false\n      }\n    }\n    \n    const handleQQLogin = async () => {\n      qqLoginLoading.value = true\n      try {\n        const response = await getQQLoginUrl()\n        if (response.authorize_url && response.state) {\n          // 保存state到sessionStorage用于验证\n          sessionStorage.setItem('qq_oauth_state', response.state)\n          // 跳转到QQ授权页面\n          window.location.href = response.authorize_url\n        } else {\n          errorMessage.value = '获取QQ登录链接失败，请重试'\n          qqLoginLoading.value = false\n        }\n      } catch (err) {\n        errorMessage.value = err.response?.data?.error || 'QQ登录失败，请重试'\n        qqLoginLoading.value = false\n      }\n    }\n    \n    return {\n      formData,\n      errors,\n      errorMessage,\n      successMessage,\n      submitting,\n      qqLoginLoading,\n      sendingCode,\n      verifyingCode,\n      codeSent,\n      codeVerified,\n      countdown,\n      handleRegister,\n      handleQQLogin,\n      handleSendCode,\n      handleVerifyCode\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  align-items: center;\n}\n\n.card {\n  border: none;\n  border-radius: 15px;\n}\n\n.card-body {\n  background: white;\n  border-radius: 15px;\n}\n\nh2 {\n  color: #333;\n  font-weight: 600;\n}\n\n.register-slogan {\n  color: #6c63ff;\n  font-weight: 600;\n  letter-spacing: 0.5px;\n  text-shadow: 0 2px 8px rgba(108, 99, 255, 0.25);\n}\n\n.form-label {\n  font-weight: 500;\n  color: #555;\n}\n\n.form-control {\n  border-radius: 8px;\n  padding: 12px;\n  border: 1px solid #ddd;\n}\n\n.form-control:focus {\n  border-color: #667eea;\n  box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);\n}\n\n.btn-primary {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: none;\n  border-radius: 8px;\n  padding: 12px;\n  font-weight: 600;\n  transition: transform 0.2s;\n}\n\n.btn-primary:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);\n}\n\n.btn-primary:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.alert {\n  border-radius: 8px;\n}\n\n.divider {\n  position: relative;\n  text-align: center;\n  margin: 20px 0;\n}\n\n.divider::before,\n.divider::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  width: 45%;\n  height: 1px;\n  background: #dee2e6;\n}\n\n.divider::before {\n  left: 0;\n}\n\n.divider::after {\n  right: 0;\n}\n\n.divider-text {\n  background: white;\n  padding: 0 10px;\n  color: #6c757d;\n  font-size: 14px;\n}\n\n.qq-login-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 10px;\n  border: 1px solid #dee2e6;\n  transition: all 0.3s ease;\n}\n\n.qq-login-btn:hover {\n  background-color: #f8f9fa;\n  border-color: #adb5bd;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.qq-login-icon {\n  margin-right: 5px;\n}\n</style>\n\n","import { render } from \"./RegisterView.vue?vue&type=template&id=db1979d6&scoped=true\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterView.vue?vue&type=style&index=0&id=db1979d6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-db1979d6\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","$setup","errorMessage","_hoisted_7","_toDisplayString","successMessage","_hoisted_8","onSubmit","_cache","_withModifiers","args","handleRegister","_hoisted_9","for","type","id","formData","username","$event","required","disabled","submitting","placeholder","errors","_hoisted_11","_hoisted_12","_hoisted_13","email","codeVerified","sendingCode","countdown","onClick","handleSendCode","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","codeSent","_hoisted_20","_hoisted_21","_hoisted_22","verification_code","maxlength","verifyingCode","handleVerifyCode","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","password","_hoisted_32","_hoisted_33","password2","_hoisted_35","_hoisted_37","_hoisted_38","qqLoginLoading","handleQQLogin","src","_imports_0","alt","width","height","_hoisted_40","_hoisted_41","_hoisted_42","_createVNode","_component_router_link","to","name","setup","router","useRouter","userStore","useUserStore","ref","verification_token","countdownTimer","validateForm","value","length","emailRegex","test","async","sendVerificationCode","startCountdown","error","console","response","data","Array","isArray","verifyCode","code","success","clearInterval","setInterval","onUnmounted","register","setTimeout","push","non_field_errors","detail","message","getQQLoginUrl","authorize_url","state","sessionStorage","setItem","window","location","href","err","__exports__","render"],"sourceRoot":""}