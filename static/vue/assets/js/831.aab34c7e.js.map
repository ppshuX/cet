{"version":3,"file":"assets/js/831.aab34c7e.js","mappings":"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","sources":["webpack://roamio-web/./src/components/NavBar.vue","webpack://roamio-web/./src/components/NavBar.vue?01fd","webpack://roamio-web/./src/api/trip.js","webpack://roamio-web/./src/components/AdvancedSettingsModal.vue","webpack://roamio-web/./src/components/AdvancedSettingsModal.vue?f839","webpack://roamio-web/./src/api/tripPlan.js","webpack://roamio-web/./src/views/MyTripsView.vue","webpack://roamio-web/./src/views/MyTripsView.vue?51ac"],"sourcesContent":["<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary shadow-sm sticky-top\">\r\n    <div class=\"container-fluid\">\r\n      <!-- Logo -->\r\n      <router-link to=\"/\" class=\"navbar-brand\">\r\n        <span class=\"brand-text\">Roamio</span>\r\n      </router-link>\r\n      \r\n      <!-- Toggle按钮（移动端） -->\r\n      <button\r\n        class=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarNav\"\r\n      >\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      \r\n    <!-- 导航项 -->\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarNav\" style=\"overflow: visible;\">\r\n        <ul class=\"navbar-nav me-auto\">\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/\" class=\"nav-link\">\r\n              <i class=\"bi bi-house-door me-1\"></i>\r\n              旅行大厅\r\n            </router-link>\r\n          </li>\r\n          <li v-if=\"isLoggedIn\" class=\"nav-item\">\r\n            <router-link to=\"/my-trips/\" class=\"nav-link\">\r\n              <i class=\"bi bi-folder me-1\"></i>\r\n              我的旅行\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n        \r\n        <!-- 右侧用户信息 -->\r\n        <div class=\"d-flex align-items-center\">\r\n          <!-- 已登录 -->\r\n          <template v-if=\"isLoggedIn\">\r\n            <div class=\"dropdown dropdown-end\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"d-flex align-items-center text-white text-decoration-none dropdown-toggle user-dropdown-btn\"\r\n                id=\"dropdownUser\"\r\n                data-bs-toggle=\"dropdown\"\r\n                aria-expanded=\"false\"\r\n              >\r\n                <img\r\n                  :src=\"avatar\"\r\n                  alt=\"avatar\"\r\n                  width=\"32\"\r\n                  height=\"32\"\r\n                  class=\"rounded-circle me-2\"\r\n                />\r\n                <span>{{ username }}</span>\r\n              </a>\r\n              <ul class=\"dropdown-menu dropdown-menu-end text-small\" aria-labelledby=\"dropdownUser\">\r\n                <li>\r\n                  <router-link to=\"/user/center\" class=\"dropdown-item\">\r\n                    <i class=\"bi bi-person me-2\"></i>个人中心\r\n                  </router-link>\r\n                </li>\r\n                <li><hr class=\"dropdown-divider\" /></li>\r\n                <li>\r\n                  <a href=\"#\" class=\"dropdown-item\" @click.prevent=\"handleLogout\">\r\n                    <i class=\"bi bi-box-arrow-right me-2\"></i>退出登录\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </template>\r\n          \r\n          <!-- 未登录 -->\r\n          <template v-else>\r\n            <router-link to=\"/login\" class=\"btn btn-outline-light btn-sm me-2\">\r\n              登录\r\n            </router-link>\r\n            <router-link to=\"/register\" class=\"btn btn-light btn-sm\">\r\n              注册\r\n            </router-link>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useUserStore } from '@/stores'\r\n\r\nexport default {\r\n  name: 'NavBar',\r\n  \r\n  setup() {\r\n    const router = useRouter()\r\n    const userStore = useUserStore()\r\n    \r\n    const isLoggedIn = computed(() => userStore.isLoggedIn)\r\n    const username = computed(() => userStore.username)\r\n    const avatar = computed(() => userStore.avatar)\r\n    \r\n    const handleLogout = async () => {\r\n      if (!confirm('确定要退出登录吗？')) return\r\n      \r\n      try {\r\n        await userStore.logout()\r\n        router.push('/login')\r\n      } catch (error) {\r\n        console.error('退出失败:', error)\r\n      }\r\n    }\r\n    \r\n    return {\r\n      isLoggedIn,\r\n      username,\r\n      avatar,\r\n      handleLogout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.navbar {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;\r\n  border-bottom: none;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 1rem 0;\r\n}\r\n\r\n.navbar-brand {\r\n  font-size: 1.5rem;\r\n  font-weight: 800;\r\n  color: white !important;\r\n  text-decoration: none;\r\n  transition: all 0.3s ease;\r\n  letter-spacing: 2px;\r\n}\r\n\r\n.brand-text {\r\n  background: linear-gradient(45deg, #fff 0%, #f0f0f0 50%, #fff 100%);\r\n  background-size: 200% auto;\r\n  background-clip: text;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  font-weight: 900;\r\n  font-size: 1.6rem;\r\n  letter-spacing: 3px;\r\n  text-shadow: 0 3px 8px rgba(255, 255, 255, 0.3);\r\n  animation: shimmer 3s infinite;\r\n}\r\n\r\n@keyframes shimmer {\r\n  0%, 100% {\r\n    background-position: 0% center;\r\n  }\r\n  50% {\r\n    background-position: 100% center;\r\n  }\r\n}\r\n\r\n.navbar-brand:hover .brand-text {\r\n  background-position: 100% center;\r\n  transform: scale(1.08);\r\n  filter: brightness(1.2);\r\n}\r\n\r\n.nav-link {\r\n  color: rgba(255, 255, 255, 0.95) !important;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  border-radius: 8px;\r\n  padding: 0.5rem 1rem !important;\r\n}\r\n\r\n.nav-link:hover {\r\n  color: white !important;\r\n  background: rgba(255, 255, 255, 0.15);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.dropdown-menu {\r\n  min-width: 200px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n  border: none;\r\n  margin-top: 0.5rem;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.dropdown-item {\r\n  padding: 0.75rem 1.25rem;\r\n  transition: all 0.2s ease;\r\n  border-radius: 8px;\r\n  margin: 0.2rem;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  transform: translateX(3px);\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  z-index: 1050;\r\n}\r\n\r\n.user-dropdown-btn {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 25px;\r\n  padding: 0.5rem 1rem;\r\n  transition: all 0.3s ease;\r\n  white-space: nowrap;\r\n  max-width: 100%;\r\n  cursor: pointer;\r\n}\r\n\r\n.user-dropdown-btn:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  transform: scale(1.05);\r\n}\r\n\r\n.user-dropdown-btn[aria-expanded=\"true\"] {\r\n  background: rgba(255, 255, 255, 0.35);\r\n}\r\n\r\n.btn-outline-light {\r\n  border: 2px solid rgba(255, 255, 255, 0.8);\r\n  color: white;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn-outline-light:hover {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-color: white;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.btn-light {\r\n  background: white;\r\n  color: #667eea;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn-light:hover {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  color: #764ba2;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n/* 移动端优化 */\r\n@media (max-width: 991px) {\r\n  .navbar {\r\n    padding: 0.75rem 0;\r\n  }\r\n  \r\n  .navbar-brand {\r\n    font-size: 1.3rem;\r\n  }\r\n  \r\n  .brand-text {\r\n    font-size: 1.35rem;\r\n    letter-spacing: 2px;\r\n  }\r\n  \r\n  .navbar-nav .nav-link {\r\n    padding: 0.75rem 1rem;\r\n  }\r\n  \r\n  .dropdown-menu {\r\n    min-width: 180px;\r\n    max-width: calc(100vw - 30px);\r\n    position: absolute !important;\r\n    right: 0;\r\n    left: auto;\r\n    margin-top: 0.5rem;\r\n  }\r\n  \r\n  .user-dropdown-btn {\r\n    font-size: 0.9rem;\r\n    z-index: 1051;\r\n  }\r\n  \r\n  /* 确保下拉菜单不会被导航栏遮挡 */\r\n  .dropdown.show {\r\n    overflow: visible;\r\n  }\r\n  \r\n  /* 移动端确保下拉菜单在最上层 */\r\n  .dropdown {\r\n    z-index: 1050;\r\n  }\r\n  \r\n  .navbar-collapse {\r\n    z-index: 1049;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./NavBar.vue?vue&type=template&id=a6dd4bee&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=a6dd4bee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a6dd4bee\"]])\n\nexport default __exports__","/**\r\n * 旅行相关API\r\n */\r\nimport request from './request'\r\n\r\n/**\r\n * 获取旅行列表\r\n * @param {Object} params - 查询参数\r\n */\r\nexport const getTripList = (params) => {\r\n    return request.get('/trips/', { params })\r\n}\r\n\r\n/**\r\n * 获取旅行详情\r\n * @param {string} slug - 旅行标识符\r\n * 先尝试从新Trip模型获取，失败则尝试旧SiteStat\r\n */\r\nexport const getTripDetail = async (slug) => {\r\n    // 先尝试新的Trip模型\r\n    try {\r\n        return await request.get(`/trip-plans/${slug}/`)\r\n    } catch (error) {\r\n        // 404或网络错误，尝试旧的SiteStat\r\n        const statusCode = error.response?.status || error.status\r\n        const shouldFallback = statusCode === 404 ||\r\n            error.code === 'ERR_BAD_REQUEST' ||\r\n            error.message?.includes('404') ||\r\n            !error.response\r\n\r\n        if (shouldFallback) {\r\n            return await request.get(`/trips/${slug}/`)\r\n        }\r\n        throw error\r\n    }\r\n}\r\n\r\n/**\r\n * 点赞旅行\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const likeTrip = (slug) => {\r\n    return request.post(`/trips/${slug}/like/`)\r\n}\r\n\r\n/**\r\n * 打卡旅行\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const checkinTrip = (slug) => {\r\n    return request.post(`/trips/${slug}/checkin/`)\r\n}\r\n\r\n/**\r\n * 获取旅行统计\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const getTripStats = (slug) => {\r\n    return request.get(`/trips/${slug}/stats/`)\r\n}\r\n\r\n/**\r\n * 获取旅行评论\r\n * @param {string} slug - 旅行标识符\r\n * @param {Object} params - 查询参数\r\n */\r\nexport const getTripComments = (slug, params) => {\r\n    return request.get(`/trips/${slug}/comments/`, { params })\r\n}\r\n\r\n","<template>\r\n  <div v-if=\"show\" class=\"modal-overlay\" @click=\"close\">\r\n    <div class=\"modal-content-advanced\" @click.stop>\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">{{ title }}</h5>\r\n        <button type=\"button\" class=\"btn-close\" @click=\"close\">✕</button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"alert alert-warning\">\r\n          <h6 class=\"alert-heading\">⚠️ 危险操作</h6>\r\n          <p class=\"mb-0\">{{ warningText }}</p>\r\n          <ul class=\"mb-0 mt-2\">\r\n            <li v-for=\"item in warningItems\" :key=\"item\">{{ item }}</li>\r\n          </ul>\r\n          <p class=\"mb-0 mt-2\"><strong>此操作无法撤销！</strong></p>\r\n        </div>\r\n        <button\r\n          class=\"btn btn-danger w-100\"\r\n          @click=\"$emit('confirm')\"\r\n        >\r\n          {{ actionButtonText }}\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" @click=\"close\">取消</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AdvancedSettingsModal',\r\n  \r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '⚙️ 高级设置'\r\n    },\r\n    warningText: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    warningItems: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    actionButtonText: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  \r\n  emits: ['close', 'confirm'],\r\n  \r\n  setup(props, { emit }) {\r\n    const close = () => {\r\n      emit('close')\r\n    }\r\n    \r\n    return {\r\n      close\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content-advanced {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 0;\r\n  max-width: 500px;\r\n  width: 90%;\r\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.modal-header {\r\n  padding: 1.5rem;\r\n  border-bottom: 1px solid #dee2e6;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.modal-title {\r\n  margin: 0;\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.modal-body {\r\n  padding: 1.5rem;\r\n}\r\n\r\n.modal-footer {\r\n  padding: 1rem 1.5rem;\r\n  border-top: 1px solid #dee2e6;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.btn-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\r\n  color: #6c757d;\r\n  padding: 0;\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.btn-close:hover {\r\n  color: #000;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./AdvancedSettingsModal.vue?vue&type=template&id=5977f88e&scoped=true\"\nimport script from \"./AdvancedSettingsModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdvancedSettingsModal.vue?vue&type=script&lang=js\"\n\nimport \"./AdvancedSettingsModal.vue?vue&type=style&index=0&id=5977f88e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5977f88e\"]])\n\nexport default __exports__","/**\r\n * 旅行计划API\r\n * 用于编辑器的CRUD操作\r\n */\r\nimport request from './request'\r\n\r\n/**\r\n * 获取我的旅行列表\r\n */\r\nexport const getMyTrips = (params) => {\r\n    return request.get('/trip-plans/my_trips/', { params })\r\n}\r\n\r\n/**\r\n * 获取旅行计划详情\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const getTripPlan = (slug) => {\r\n    return request.get(`/trip-plans/${slug}/`)\r\n}\r\n\r\n/**\r\n * 创建旅行计划\r\n * @param {object} data - 旅行数据\r\n */\r\nexport const createTripPlan = (data) => {\r\n    return request.post('/trip-plans/', data)\r\n}\r\n\r\n/**\r\n * 更新旅行计划\r\n * @param {string} slug - 旅行标识符\r\n * @param {object} data - 更新的数据\r\n */\r\nexport const updateTripPlan = (slug, data) => {\r\n    return request.patch(`/trip-plans/${slug}/`, data)\r\n}\r\n\r\n/**\r\n * 删除旅行计划\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const deleteTripPlan = (slug) => {\r\n    return request.delete(`/trip-plans/${slug}/`)\r\n}\r\n\r\n/**\r\n * 复制旅行计划\r\n * @param {string} slug - 源旅行标识符\r\n */\r\nexport const cloneTripPlan = (slug) => {\r\n    return request.post(`/trip-plans/${slug}/clone/`)\r\n}\r\n\r\n/**\r\n * 发布旅行计划\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const publishTripPlan = (slug) => {\r\n    return updateTripPlan(slug, { status: 'published' })\r\n}\r\n\r\n/**\r\n * 设置旅行为公开\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const makePublic = (slug) => {\r\n    return updateTripPlan(slug, { visibility: 'public' })\r\n}\r\n\r\n/**\r\n * 设置旅行为私有\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const makePrivate = (slug) => {\r\n    return updateTripPlan(slug, { visibility: 'private' })\r\n}\r\n\r\n/**\r\n * 将旅行计划添加到旅行树\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const addTripToTree = (slug) => {\r\n    return request.post(`/trip-plans/${slug}/add_to_tree/`)\r\n}\r\n\r\n/**\r\n * 从旅行树移除旅行计划\r\n * @param {string} slug - 旅行标识符\r\n */\r\nexport const removeTripFromTree = (slug) => {\r\n    return request.post(`/trip-plans/${slug}/remove_from_tree/`)\r\n}\r\n\r\n","<template>\n  <div class=\"my-trips-wrapper\">\n    <NavBar />\n    \n    <div class=\"container py-5\">\n      <div class=\"d-flex justify-content-between align-items-center mb-4\">\n        <h2>我的旅行计划</h2>\n        <button class=\"btn btn-primary\" @click=\"createNew\">\n          <i class=\"bi bi-plus-circle me-2\"></i>创建新旅行\n        </button>\n      </div>\n      \n      <!-- Loading状态 -->\n      <div v-if=\"loading\" class=\"text-center py-5\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">加载中...</span>\n        </div>\n      </div>\n      \n      <!-- 旅行列表 -->\n      <div v-else-if=\"trips.length > 0\" class=\"row\">\n        <div v-for=\"trip in trips\" :key=\"trip.id\" class=\"col-md-6 col-lg-4 mb-4\">\n          <div class=\"trip-card\">\n            <div class=\"trip-header\" :style=\"{ background: trip.theme_color || '#f0e68c' }\">\n              <div class=\"trip-icon\">{{ trip.icon }}</div>\n              <div class=\"trip-meta\">\n                <span class=\"badge\" :class=\"trip.status === 'published' ? 'bg-success' : 'bg-secondary'\">\n                  {{ trip.status === 'published' ? '已发布' : '草稿' }}\n                </span>\n                <span class=\"badge ms-2\" :class=\"trip.visibility === 'public' ? 'bg-info' : 'bg-warning'\">\n                  {{ trip.visibility === 'public' ? '公开' : '私有' }}\n                </span>\n              </div>\n            </div>\n            <div class=\"trip-body\">\n              <h5 class=\"trip-title\">{{ trip.title }}</h5>\n              <p class=\"trip-desc text-muted\">{{ trip.description || '暂无描述' }}</p>\n              <div class=\"trip-info\">\n                <small class=\"text-muted\">\n                  <i class=\"bi bi-calendar me-1\"></i>{{ trip.days_count || 0 }}天\n                </small>\n                <small class=\"text-muted ms-3\">\n                  <i class=\"bi bi-clock me-1\"></i>{{ formatDate(trip.updated_at) }}\n                </small>\n              </div>\n            </div>\n            <div class=\"trip-actions\">\n              <button class=\"btn btn-sm btn-outline-primary\" @click=\"editTrip(trip.slug)\">\n                <i class=\"bi bi-pencil me-1\"></i>编辑\n              </button>\n              <button class=\"btn btn-sm btn-outline-secondary\" @click=\"viewTrip(trip.slug)\">\n                <i class=\"bi bi-eye me-1\"></i>预览\n              </button>\n              <!-- 管理员可直接添加/移除旅行树 -->\n              <template v-if=\"userStore.isAdmin\">\n                <button \n                  v-if=\"trip.isOnTree\" \n                  class=\"btn btn-sm btn-danger\" \n                  @click=\"removeFromTree(trip.slug)\">\n                  <i class=\"bi bi-x-circle me-1\"></i>摘下果实\n                </button>\n                <button \n                  v-else\n                  class=\"btn btn-sm btn-success\" \n                  @click=\"addToTree(trip.slug)\">\n                  <i class=\"bi bi-tree me-1\"></i>运用到旅行树\n                </button>\n              </template>\n              <!-- 非管理员显示申请按钮 -->\n              <template v-else>\n                <button \n                  class=\"btn btn-sm btn-success\" \n                  @click=\"requestApplyToTree()\">\n                  <i class=\"bi bi-tree me-1\"></i>申请运用到旅行树\n                </button>\n              </template>\n              <button class=\"btn btn-sm btn-outline-secondary\" @click=\"showAdvancedSettings(trip.slug)\" title=\"高级选项\">\n                ⚙️\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 空状态 -->\n      <div v-else class=\"empty-state text-center py-5\">\n        <div class=\"empty-icon mb-3\">📝</div>\n        <h4>还没有旅行计划</h4>\n        <p class=\"text-muted mb-4\">开始创建你的第一个旅行计划吧！</p>\n        <button class=\"btn btn-primary btn-lg\" @click=\"createNew\">\n          <i class=\"bi bi-plus-circle me-2\"></i>创建新旅行\n        </button>\n      </div>\n    </div>\n    \n    <!-- 高级设置模态框 -->\n    <AdvancedSettingsModal\n      :show=\"showModal\"\n      title=\"⚙️ 高级选项\"\n      warning-text=\"删除旅行计划将会永久删除您的所有数据，包括：\"\n      :warning-items=\"[\n        '所有行程安排',\n        '所有评论和回复',\n        '所有统计数据',\n        '所有图片和视频'\n      ]\"\n      action-button-text=\"🗑️ 删除旅行计划\"\n      @close=\"closeModal\"\n      @confirm=\"confirmDeleteTrip\"\n    />\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useUserStore } from '@/stores'\nimport { getMyTrips, deleteTripPlan, addTripToTree, removeTripFromTree } from '@/api/tripPlan'\nimport { getTripList } from '@/api/trip'\nimport NavBar from '@/components/NavBar.vue'\nimport AdvancedSettingsModal from '@/components/AdvancedSettingsModal.vue'\n\nexport default {\n  name: 'MyTripsView',\n  \n  components: {\n    NavBar,\n    AdvancedSettingsModal\n  },\n  \n  setup() {\n    const router = useRouter()\n    const userStore = useUserStore()\n    \n    const trips = ref([])\n    const loading = ref(true)\n    const showModal = ref(false)\n    const currentTripSlug = ref(null)\n    \n    const fetchMyTrips = async () => {\n      loading.value = true\n      try {\n        const data = await getMyTrips()\n        const tripsList = data.results || data || []\n        \n        trips.value = tripsList\n        await checkTreeStatus() // 检查是否在旅行树中\n      } catch (error) {\n        console.error('获取旅行大厅失败:', error)\n        alert('加载失败')\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    const createNew = () => {\n      router.push('/editor/new')\n    }\n    \n    const editTrip = (slug) => {\n      router.push(`/editor/${slug}`)\n    }\n    \n    const viewTrip = (slug) => {\n      router.push(`/trip/${slug}/`)\n    }\n    \n    // 显示高级设置模态框\n    const showAdvancedSettings = (slug) => {\n      if (!slug) {\n        alert('错误：该旅行计划缺少标识符')\n        return\n      }\n      currentTripSlug.value = slug\n      showModal.value = true\n    }\n    \n    // 关闭模态框\n    const closeModal = () => {\n      showModal.value = false\n      currentTripSlug.value = null\n    }\n    \n    // 确认删除旅行计划\n    const confirmDeleteTrip = () => {\n      const slug = currentTripSlug.value\n      \n      if (!slug) {\n        alert('错误：无法获取旅行计划标识')\n        closeModal()\n        return\n      }\n      \n      if (!confirm('⚠️ 请再次确认：您确定要删除这个旅行计划吗？\\n\\n此操作无法撤销！')) {\n        return\n      }\n      \n      deleteTrip(slug)\n      closeModal()\n    }\n    \n    // 删除旅行计划\n    const deleteTrip = async (slug) => {\n      if (!slug) {\n        alert('错误：无法获取旅行计划标识')\n        return\n      }\n      \n      try {\n        await deleteTripPlan(slug)\n        alert('删除成功')\n        await fetchMyTrips()\n      } catch (error) {\n        console.error('删除失败:', error)\n        alert('删除失败：' + (error.response?.data?.detail || error.message))\n      }\n    }\n    \n    const addToTree = async (slug) => {\n      if (!confirm('确定要将此旅行计划添加到旅行树吗？它将显示在首页的旅行树上。')) {\n        return\n      }\n      \n      try {\n        const result = await addTripToTree(slug)\n        alert(result.detail || '成功添加到旅行树！')\n        await fetchMyTrips() // 刷新列表\n      } catch (error) {\n        console.error('添加到旅行树失败:', error)\n        alert('添加到旅行树失败，请稍后重试')\n      }\n    }\n    \n    const removeFromTree = async (slug) => {\n      if (!confirm('确定要将此旅行计划从旅行树摘下吗？它将不再显示在首页的旅行树上。')) {\n        return\n      }\n      \n      try {\n        const result = await removeTripFromTree(slug)\n        alert(result.detail || '成功摘下果实！')\n        await fetchMyTrips() // 刷新列表\n      } catch (error) {\n        console.error('摘下果实失败:', error)\n        alert('摘下果实失败，请稍后重试')\n      }\n    }\n    \n    // 非管理员：申请运用到旅行树\n    const requestApplyToTree = () => {\n      alert('该功能暂未开放')\n    }\n\n    const checkTreeStatus = async () => {\n      try {\n        const treeData = await getTripList()\n        const treeSlugs = new Set((treeData.results || treeData || []).map(t => t.slug))\n        \n        // 为每个trip添加isOnTree属性\n        trips.value.forEach(trip => {\n          trip.isOnTree = treeSlugs.has(trip.slug)\n        })\n      } catch (error) {\n        console.error('获取旅行树状态失败:', error)\n      }\n    }\n    \n    const formatDate = (dateStr) => {\n      if (!dateStr) return '暂无'\n      const date = new Date(dateStr)\n      return date.toLocaleDateString('zh-CN')\n    }\n    \n    onMounted(() => {\n      if (!userStore.isLoggedIn) {\n        alert('请先登录')\n        router.push('/login')\n        return\n      }\n      fetchMyTrips()\n    })\n    \n    return {\n      trips,\n      loading,\n      showModal,\n      userStore,\n      createNew,\n      editTrip,\n      viewTrip,\n      showAdvancedSettings,\n      closeModal,\n      confirmDeleteTrip,\n      deleteTrip,\n      addToTree,\n      removeFromTree,\n      requestApplyToTree,\n      formatDate\n    }\n  }\n}\n</script>\n\n<style scoped>\n.my-trips-wrapper {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #e8f4fd 0%, #d1ecf1 100%);\n}\n\n.trip-card {\n  background: white;\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  transition: all 0.3s ease;\n}\n\n.trip-card:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\n}\n\n.trip-header {\n  padding: 1.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.trip-icon {\n  font-size: 2.5rem;\n}\n\n.trip-body {\n  padding: 1.5rem;\n}\n\n.trip-title {\n  color: #2c3e50;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n}\n\n.trip-desc {\n  font-size: 0.9rem;\n  margin-bottom: 1rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n.trip-info {\n  border-top: 1px solid #e0e0e0;\n  padding-top: 0.75rem;\n}\n\n.trip-actions {\n  padding: 1rem 1.5rem;\n  background: #f8f9fa;\n  border-top: 1px solid #e0e0e0;\n  display: flex;\n  gap: 0.5rem;\n  justify-content: space-between;\n}\n\n/* 空状态 */\n.empty-state {\n  background: white;\n  border-radius: 16px;\n  padding: 4rem 2rem;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n}\n\n.empty-icon {\n  font-size: 4rem;\n  opacity: 0.5;\n}\n\n/* 响应式 */\n@media (max-width: 768px) {\n  .trip-actions {\n    flex-wrap: wrap;\n  }\n  \n  .trip-actions .btn {\n    flex: 1;\n    min-width: 80px;\n  }\n}\n</style>\n\n","import { render } from \"./MyTripsView.vue?vue&type=template&id=5a745123&scoped=true\"\nimport script from \"./MyTripsView.vue?vue&type=script&lang=js\"\nexport * from \"./MyTripsView.vue?vue&type=script&lang=js\"\n\nimport \"./MyTripsView.vue?vue&type=style&index=0&id=5a745123&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5a745123\"]])\n\nexport default __exports__"],"names":["class","id","style","href","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","_cache","type","_hoisted_3","_hoisted_4","_hoisted_5","$setup","isLoggedIn","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","src","avatar","alt","width","height","_toDisplayString","username","_hoisted_11","onClick","_withModifiers","args","handleLogout","_Fragment","key","name","setup","router","useRouter","userStore","useUserStore","computed","async","confirm","logout","push","error","console","__exports__","render","getTripList","params","request","get","getTripDetail","slug","statusCode","response","status","shouldFallback","code","message","includes","likeTrip","post","checkinTrip","$props","show","close","title","warningText","_renderList","warningItems","item","$event","_ctx","$emit","actionButtonText","props","Boolean","required","String","default","Array","emits","emit","getMyTrips","getTripPlan","createTripPlan","data","updateTripPlan","patch","deleteTripPlan","delete","addTripToTree","removeTripFromTree","_component_NavBar","createNew","loading","role","trips","length","trip","_normalizeStyle","background","theme_color","icon","_normalizeClass","visibility","_hoisted_10","description","_hoisted_12","_hoisted_13","days_count","_hoisted_14","formatDate","updated_at","_hoisted_15","editTrip","viewTrip","isAdmin","isOnTree","removeFromTree","addToTree","requestApplyToTree","showAdvancedSettings","_hoisted_20","_hoisted_21","_component_AdvancedSettingsModal","showModal","onClose","closeModal","onConfirm","confirmDeleteTrip","components","NavBar","AdvancedSettingsModal","ref","currentTripSlug","fetchMyTrips","value","tripsList","results","checkTreeStatus","alert","deleteTrip","detail","result","treeData","treeSlugs","Set","map","t","forEach","has","dateStr","date","Date","toLocaleDateString","onMounted"],"sourceRoot":""}